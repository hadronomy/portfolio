Directory structure:
└── astro/
    ├── astro.config.mjs
    ├── package.json
    ├── tailwind.config.ts
    ├── tsconfig.json
    ├── plugins/
    │   └── remark-reading-time.mjs
    ├── public/
    │   ├── anime-grass.glb
    │   ├── tag.glb
    │   └── rss/
    │       └── styles.xsl
    └── src/
        ├── consts.ts
        ├── env.d.ts
        ├── components/
        │   ├── BlogPostCard.astro
        │   ├── ComicBubble.astro
        │   ├── ExperienceTimeline.astro
        │   ├── Footer.astro
        │   ├── FormattedDate.astro
        │   ├── HalftoneEffect.astro
        │   ├── HomeHero.astro
        │   ├── Metadata.astro
        │   ├── Navbar.astro
        │   ├── ProjectCard.astro
        │   ├── ProjectGrid.astro
        │   ├── Sidebar.astro
        │   ├── SkillGrid.astro
        │   ├── ThemeToggle.astro
        │   ├── mdx/
        │   │   └── Pre.astro
        │   ├── react/
        │   │   ├── codeblock.tsx
        │   │   ├── cv.tsx
        │   │   ├── grass-material.ts
        │   │   ├── grass.tsx
        │   │   ├── grid-material.ts
        │   │   ├── hooks.tsx
        │   │   ├── interactive-badge.tsx
        │   │   ├── MobileMenu.tsx
        │   │   ├── navbar.tsx
        │   │   ├── sparkle.tsx
        │   │   ├── terrain-material.ts
        │   │   ├── mdx/
        │   │   │   └── index.tsx
        │   │   └── nodes/
        │   │       ├── index.ts
        │   │       ├── noise.ts
        │   │       ├── types.ts
        │   │       └── utils.ts
        │   └── svg/
        │       ├── Github.astro
        │       └── LinkedIn.astro
        ├── content/
        │   ├── config.ts
        │   └── blog/
        │       ├── first-post.mdx
        │       ├── hello-world.mdx
        │       ├── markdown-style-guide.mdx
        │       ├── second-post.mdx
        │       ├── third-post.mdx
        │       └── using-mdx.mdx
        ├── layouts/
        │   ├── BlogPost.astro
        │   └── Main.astro
        ├── lib/
        │   └── pdf-signer.ts
        ├── pages/
        │   ├── 404.astro
        │   ├── cv.pdf.ts
        │   ├── favicon.ico.ts
        │   ├── index.astro
        │   ├── robots.txt.ts
        │   ├── rss.xml.ts
        │   ├── test.astro
        │   └── blog/
        │       ├── [...slug].astro
        │       └── index.astro
        └── styles/
            ├── global.css
            └── twoslash.css

================================================
FILE: astro.config.mjs
================================================
import path from 'node:path';

import { defineConfig, envField } from 'astro/config';

import mdx from '@astrojs/mdx';
import react from '@astrojs/react';
import sitemap from '@astrojs/sitemap';
import tailwindcss from '@tailwindcss/vite';
import preserveDirectives from 'rollup-preserve-directives';

import icon from 'astro-icon';
import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis';
import remarkGemoji from 'remark-gemoji';

import { rehypeCode } from 'fumadocs-core/mdx-plugins';
import rehypeKatex from 'rehype-katex';
import remarkMath from 'remark-math';

import { remarkReadingTime } from './plugins/remark-reading-time.mjs';

// https://astro.build/config
export default defineConfig({
  site: 'https://hadronomy.com',
  markdown: {
    syntaxHighlight: false,
    remarkPlugins: [remarkGemoji, remarkReadingTime, remarkMath],
    rehypePlugins: [
      rehypeAccessibleEmojis,
      rehypeKatex,
      [
        rehypeCode,
        {
          themes: {
            light: 'catppuccin-latte',
            dark: 'catppuccin-mocha',
          },
        },
      ],
    ],
  },
  env: {
    schema: {
      GITHUB_TOKEN: envField.string({ context: 'server', access: 'secret' }),
      CERTIFICATE_P12: envField.string({
        context: 'server',
        access: 'secret',
        optional: true,
      }),
      CERTIFICATE_PASSWORD: envField.string({
        context: 'server',
        access: 'secret',
        optional: true,
      }),
    },
  },
  integrations: [
    mdx(),
    sitemap(),
    icon({
      include: {
        tabler: ['*'],
        icons: ['*'],
        'simple-icons': ['*'],
        octicon: ['*'],
      },
    }),
    react(),
  ],
  vite: {
    plugins: [tailwindcss(), preserveDirectives()],
    ssr: {
      noExternal: ['fumadocs-ui'],
    },
    // css: {
    //   transformer: 'lightningcss',
    // },
    resolve: {
      alias: {
        '@portfolio/ui': path.resolve(
          import.meta.dirname,
          '../../packages/ui/src',
        ),
      },
    },
  },
});



================================================
FILE: package.json
================================================
{
  "name": "@portfolio/astro",
  "type": "module",
  "version": "0.0.1",
  "private": true,
  "scripts": {
    "dev": "astro dev",
    "start": "astro preview",
    "build": "astro check && astro build",
    "preview": "astro preview",
    "astro": "astro"
  },
  "dependencies": {
    "@astrojs/check": "catalog:prod",
    "@astrojs/mdx": "catalog:prod",
    "@astrojs/react": "catalog:prod",
    "@astrojs/rss": "catalog:prod",
    "@astrojs/sitemap": "catalog:prod",
    "@expressive-code/plugin-line-numbers": "catalog:backend",
    "@fontsource-variable/onest": "catalog:prod",
    "@fontsource/bellota": "catalog:prod",
    "@fontsource/maple-mono": "catalog:prod",
    "@fontsource/monaspace-neon": "catalog:prod",
    "@iconify-json/logos": "catalog:icons",
    "@iconify-json/mdi": "catalog:icons",
    "@iconify-json/octicon": "catalog:icons",
    "@iconify-json/simple-icons": "catalog:icons",
    "@iconify-json/tabler": "catalog:icons",
    "@portfolio/tailwind-config": "workspace:",
    "@portfolio/ui": "workspace:",
    "@react-three/drei": "catalog:frontend",
    "@react-three/fiber": "catalog:frontend",
    "@react-three/rapier": "catalog:frontend",
    "@signpdf/placeholder-plain": "catalog:prod",
    "@signpdf/signer-p12": "catalog:prod",
    "@signpdf/signpdf": "catalog:prod",
    "@unpic/placeholder": "catalog:prod",
    "@xterm/addon-fit": "^0.10.0",
    "@xterm/xterm": "^5.5.0",
    "animejs": "^4.2.2",
    "astro": "catalog:prod",
    "astro-icon": "catalog:icons",
    "blurhash": "catalog:prod",
    "date-fns": "catalog:prod",
    "framer-motion": "catalog:prod",
    "fumadocs-core": "catalog:prod",
    "fumadocs-twoslash": "catalog:prod",
    "fumadocs-ui": "catalog:prod",
    "gsap": "catalog:prod",
    "lightningcss": "catalog:prod",
    "lucide-react": "catalog:icons",
    "mdast-util-to-string": "catalog:prod",
    "meshline": "catalog:prod",
    "node-forge": "catalog:prod",
    "pdf-lib": "catalog:prod",
    "random": "catalog:prod",
    "react": "catalog:prod",
    "react-dom": "catalog:prod",
    "react-tweakpane": "catalog:prod",
    "reading-time": "catalog:prod",
    "rehype-accessible-emojis": "catalog:prod",
    "rehype-katex": "catalog:prod",
    "remark-gemoji": "catalog:prod",
    "remark-math": "catalog:prod",
    "sharp": "catalog:prod",
    "sharp-ico": "catalog:prod",
    "simplex-noise": "catalog:prod",
    "tailwindcss": "catalog:style",
    "three": "catalog:frontend",
    "tweakpane": "catalog:prod",
    "typewriter-effect": "catalog:prod",
    "zod": "catalog:utils"
  },
  "devDependencies": {
    "@astrojs/language-server": "catalog:dev",
    "@iconify-json/iconoir": "catalog:icons",
    "@iconify-json/material-icon-theme": "catalog:icons",
    "@iconify-json/ph": "catalog:icons",
    "@iconify-json/vscode-icons": "catalog:icons",
    "@react-pdf/renderer": "catalog:dev",
    "@shikijs/twoslash": "catalog:syntax",
    "@tailwindcss/vite": "catalog:build",
    "@tweakpane/core": "catalog:dev",
    "@types/mdx": "catalog:types",
    "@types/node-forge": "catalog:types",
    "@types/react": "catalog:types",
    "@types/react-dom": "catalog:types",
    "@types/three": "catalog:types",
    "prettier": "catalog:lint",
    "prettier-plugin-astro": "catalog:lint",
    "react-compiler-runtime": "catalog:dev",
    "rollup-preserve-directives": "catalog:build",
    "typescript": "catalog:dev"
  }
}



================================================
FILE: tailwind.config.ts
================================================
import type { Config } from 'tailwindcss';

import baseConfig from '@portfolio/tailwind-config';

export default {
  content: [
    ...baseConfig.content,
    '../../packages/ui/src/**/*.{js,ts,jsx,tsx}',
  ],
  presets: [baseConfig],
} satisfies Config;



================================================
FILE: tsconfig.json
================================================
{
  "extends": "astro/tsconfigs/strict",
  "compilerOptions": {
    "strictNullChecks": true,
    "jsx": "react-jsx",
    "jsxImportSource": "react",
    "baseUrl": ".",
    "outDir": "dist",
    "paths": {
      "~/*": ["./src/*"],
      "react": ["./node_modules/@types/react"]
    }
  },
  "exclude": ["node_modules", ".astro", "dist"],
  "include": [".astro/types.d.ts", "**/*"]
}



================================================
FILE: plugins/remark-reading-time.mjs
================================================
import { toString as mdastToString } from 'mdast-util-to-string';
import getReadingTime from 'reading-time';

export function remarkReadingTime() {
  return (tree, { data }) => {
    const textOnPage = mdastToString(tree);
    const readingTime = getReadingTime(textOnPage);
    data.astro.frontmatter.duration = readingTime.time;
  };
}



================================================
FILE: public/anime-grass.glb
================================================
[Binary file]


================================================
FILE: public/tag.glb
================================================
[Binary file]


================================================
FILE: public/rss/styles.xsl
================================================
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" doctype-public="-//W3C//DTD HTML 4.01//EN" doctype-system="http://www.w3.org/TR/html4/strict.dtd"/>
  
  <xsl:template match="/">
    <html lang="en">
      <head>
        <title>RSS_FEED // <xsl:value-of select="/rss/channel/title"/></title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <style>
          :root {
            --bg: #050505;
            --fg: #e5e5e5;
            --border: #333;
            --accent: #22c55e;
            --muted: #888;
            --font-mono: 'Menlo', 'Monaco', 'Courier New', monospace;
          }

          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: var(--font-mono);
            background-color: var(--bg);
            color: var(--fg);
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
          }

          /* Utility Grid Background */
          .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
              linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: 0;
          }

          .layout {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            border-left: 1px solid var(--border);
            border-right: 1px solid var(--border);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
          }

          /* Header */
          header {
            border-bottom: 1px solid var(--border);
            padding: 40px;
            background: rgba(255,255,255,0.02);
          }

          h1 {
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: -1px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
          }

          h1::before {
            content: '';
            display: block;
            width: 15px;
            height: 15px;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
          }

          .subtitle {
            color: var(--muted);
            font-size: 0.9rem;
            max-width: 600px;
          }

          /* Metadata Bar */
          .meta-bar {
            display: flex;
            border-bottom: 1px solid var(--border);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          .meta-item {
            padding: 15px 20px;
            border-right: 1px solid var(--border);
            display: flex;
            gap: 10px;
            align-items: center;
          }

          .label { color: var(--muted); }
          .value { color: var(--fg); font-weight: bold; }

          /* Feed Content */
          .feed-container {
            display: grid;
            grid-template-columns: 300px 1fr;
          }

          /* Sidebar */
          .sidebar {
            border-right: 1px solid var(--border);
            padding: 30px;
          }

          .info-box {
            border: 1px solid var(--border);
            padding: 20px;
            margin-bottom: 20px;
            background: rgba(0,0,0,0.5);
          }

          .info-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: 10px;
            display: block;
            border-bottom: 1px solid var(--border);
            padding-bottom: 5px;
          }

          .xml-link {
            display: block;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            font-size: 0.7rem;
            word-break: break-all;
            color: var(--accent);
            text-decoration: none;
            margin-top: 5px;
          }

          .xml-link:hover {
            background: rgba(255,255,255,0.2);
          }

          /* Entries */
          .entries {
            padding: 0;
          }

          .entry {
            display: block;
            text-decoration: none;
            color: inherit;
            border-bottom: 1px solid var(--border);
            padding: 30px;
            transition: background 0.2s;
            position: relative;
          }

          .entry:hover {
            background: rgba(255,255,255,0.03);
          }

          .entry:hover::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--accent);
          }

          .entry-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 10px;
          }

          .entry-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--fg);
          }

          .entry-date {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
          }

          .entry-desc {
            font-size: 0.9rem;
            color: var(--muted);
            line-height: 1.6;
          }

          /* Footer */
          footer {
            padding: 30px;
            text-align: center;
            font-size: 0.75rem;
            color: var(--muted);
            border-top: 1px solid var(--border);
            text-transform: uppercase;
            letter-spacing: 2px;
          }

          footer a {
            color: var(--fg);
            text-decoration: underline;
          }

          @media (max-width: 800px) {
            .feed-container { grid-template-columns: 1fr; }
            .sidebar { border-right: none; border-bottom: 1px solid var(--border); }
            .entry-header { flex-direction: column; gap: 5px; }
          }
        </style>
      </head>
      <body>
        <div class="bg-grid"></div>
        
        <div class="layout">
          <header>
            <h1><xsl:value-of select="/rss/channel/title"/></h1>
            <div class="subtitle"><xsl:value-of select="/rss/channel/description"/></div>
          </header>

          <div class="meta-bar">
            <div class="meta-item">
              <span class="label">Protocol:</span>
              <span class="value">RSS 2.0</span>
            </div>
            <div class="meta-item">
              <span class="label">Language:</span>
              <span class="value"><xsl:value-of select="/rss/channel/language"/></span>
            </div>
            <div class="meta-item">
              <span class="label">Items:</span>
              <span class="value"><xsl:value-of select="count(/rss/channel/item)"/></span>
            </div>
          </div>

          <div class="feed-container">
            <aside class="sidebar">
              <div class="info-box">
                <span class="info-title">Feed Source</span>
                <p style="font-size: 0.8rem; margin-bottom: 10px; color: #ccc;">
                  This is a raw data stream. Subscribe using a compliant reader.
                </p>
                <a class="xml-link" href="#">
                  <xsl:value-of select="/rss/channel/link"/>rss.xml
                </a>
              </div>
              
              <div class="info-box">
                <span class="info-title">Sys_Admin</span>
                <p style="font-size: 0.8rem; color: #ccc;">Pablo Hernández</p>
              </div>
            </aside>

            <main class="entries">
              <xsl:for-each select="/rss/channel/item">
                <a class="entry" href="{link}" target="_blank">
                  <div class="entry-header">
                    <span class="entry-title"><xsl:value-of select="title"/></span>
                    <span class="entry-date"><xsl:value-of select="pubDate"/></span>
                  </div>
                  <div class="entry-desc">
                    <xsl:value-of select="description"/>
                  </div>
                </a>
              </xsl:for-each>
            </main>
          </div>

          <footer>
            Generated by Astro // System Online
          </footer>
        </div>
      </body>
    </html>
  </xsl:template>
</xsl:stylesheet>


================================================
FILE: src/consts.ts
================================================
// Place any global data in this file.
// You can import this data from anywhere in your site by using the `import` keyword.

export const SITE_URL = 'https://hadronomy.com';
export const SITE_TITLE = 'Portfolio | Pablo Hernández';
export const SITE_DESCRIPTION =
  'I am passionate about programming and love to create innovative solutions. Get to know me and explore my coding journey.';



================================================
FILE: src/env.d.ts
================================================
/// <reference path="../.astro/types.d.ts" />
/// <reference types="astro/client" />



================================================
FILE: src/components/BlogPostCard.astro
================================================
---
import { Icon } from 'astro-icon/components';
import type { CollectionEntry } from 'astro:content';

type Props = {
  post: CollectionEntry<'blog'>;
  index: number;
};

const { post, index } = Astro.props;
const { data, id } = post;
const pathname = `/blog/${id}/`;
---

<a href={pathname} class="group block w-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/30 transition-all duration-300">
  <div class="grid grid-cols-1 md:grid-cols-[160px_1fr] gap-0">
    
    <!-- Meta Column -->
    <div class="p-6 border-b md:border-b-0 md:border-r border-white/10 flex flex-col justify-between">
      <div class="flex flex-col">
        <span class="font-mono text-[10px] text-white/40 uppercase tracking-widest mb-1">Log_ID</span>
        <span class="font-mono text-xl font-bold text-white">{(index + 1).toString().padStart(3, '0')}</span>
      </div>
      
      <div class="flex flex-col mt-4 md:mt-0">
        <span class="font-mono text-[10px] text-white/40 uppercase tracking-widest mb-1">Date</span>
        <time class="font-mono text-xs text-green-400">
          {data.pubDate.toISOString().split('T')[0]}
        </time>
      </div>
    </div>

    <!-- Content Column -->
    <div class="p-6 relative overflow-hidden">
      <!-- Title -->
      <h3 class="text-xl md:text-2xl font-bold uppercase tracking-tight mb-3 group-hover:text-white transition-colors">
        {data.title}
      </h3>
      
      <!-- Desc -->
      <p class="font-mono text-sm text-muted-foreground line-clamp-2 mb-4 max-w-xl">
        {data.description}
      </p>

      <!-- Footer Tags -->
      <div class="flex items-center gap-4 mt-auto">
        <div class="inline-flex items-center gap-2 px-2 py-1 border border-white/10 bg-black/20 text-[10px] font-mono uppercase text-white/60">
           <Icon name="tabler:file-text" class="w-3 h-3" />
           <span>MDX</span>
        </div>
        <div class="inline-flex items-center gap-2 px-2 py-1 border border-white/10 bg-black/20 text-[10px] font-mono uppercase text-white/60">
           <span>Read Time: Auto</span>
        </div>
        
        <!-- Hover Arrow -->
        <div class="ml-auto opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300">
           <Icon name="tabler:arrow-right" class="w-5 h-5 text-green-400" />
        </div>
      </div>
    </div>

  </div>
</a>


================================================
FILE: src/components/ComicBubble.astro
================================================
---
import { cn } from "@portfolio/ui/utils/cn";
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {
  position?: "down" | "up" | "right-down" | "right-up";
  isHoverable?: boolean;
  isControl?: boolean;
  noSelection?: boolean;
  textColor?: string;
  borderColor?: string;
  backgroundColor?: string;
  shadowColor?: string;
  hoverTextColor?: string;
  hoverBorderColor?: string;
  hoverBackgroundColor?: string;
  hoverShadowColor?: string;
  // 'class' prop is implicitly handled by Astro and can be accessed via Astro.props.class
  // 'children' are rendered via <slot />
}

const {
  position = "down",
  isHoverable = false,
  isControl = false,
  noSelection = false,
  textColor = "#000",
  borderColor = "#000",
  backgroundColor = "#fff",
  shadowColor = "#aaa",
  hoverTextColor = "#000",
  hoverBorderColor = "#7BC8A4",
  hoverBackgroundColor = "#eee",
  hoverShadowColor = "#d5f0e5", // Lightened version of #7BC8A4
  class: classFromProps, // Captures the 'class' attribute passed to the component
  ...restProps // Captures any other HTML attributes
} = Astro.props;

// Create CSS variables for colors
const cssVariablesStyle = {
  "--tc": textColor,
  "--bdc": borderColor,
  "--bkc": backgroundColor,
  "--sc": shadowColor,
  "--htc": hoverTextColor,
  "--hbdc": hoverBorderColor,
  "--hbkc": hoverBackgroundColor,
  "--hsc": hoverShadowColor,
};

const combinedClasses = cn(
  "relative inline-block text-center font-bold transition-all duration-300 ease-in-out box-border",
  "px-[5px] py-[5px]",
  // Base positioning and margins
  position === "down" && "my-[10px] mx-[9px] mb-[29px] ml-[6px]",
  position === "up" && "my-[29px] mx-[9px] mt-[29px] ml-[6px]",
  position === "right-down" && "my-[10px] mx-[9px] mb-[29px] ml-[6px]",
  position === "right-up" && "my-[29px] mx-[9px] mt-[29px] ml-[6px]",
  // Base styling
  "before:content-[''] before:block before:absolute before:transition-all before:duration-300 before:ease-in-out before:box-border",
  "after:content-[''] after:block after:absolute after:transition-all after:duration-300 after:ease-in-out after:box-border",
  // Pixelated border and shadow effect
  "comic-bubble",
  // Position specific styles
  position === "up" && "comic-bubble-up",
  (position === "right-down" || position === "right-up") && "comic-bubble-right",
  position === "right-up" && "comic-bubble-up",
  // Optional modifiers
  isHoverable && "comic-bubble-hover",
  isControl && "comic-bubble-control cursor-pointer",
  noSelection && "select-none",
  classFromProps // Include classes passed from the parent component
);
---

<div
  class:list={[combinedClasses]}
  style={cssVariablesStyle}
  {...restProps}
>
  <slot />
</div>



================================================
FILE: src/components/ExperienceTimeline.astro
================================================
---
export interface TimelineItem {
  title: string;
  organization: string;
  period: string;
  description: string;
  tags?: string[];
}

interface Props {
  items: TimelineItem[];
}

const { items } = Astro.props;
---

<div class="flex flex-col border-t border-white/20">
  {items.map((item, index) => (
    <div class="grid grid-cols-1 md:grid-cols-[200px_1fr] border-b border-white/20 group hover:bg-white/5 transition-colors">
      
      <!-- Period Column -->
      <div class="p-6 md:border-r border-white/20 font-mono text-sm text-muted-foreground group-hover:text-white">
        {item.period}
      </div>

      <!-- Content Column -->
      <div class="p-6">
        <h3 class="text-xl font-bold uppercase mb-1">{item.title}</h3>
        <p class="text-sm font-mono text-green-500 mb-4 tracking-widest uppercase">@{item.organization}</p>
        <p class="text-muted-foreground leading-relaxed mb-4 max-w-2xl">{item.description}</p>
        
        {item.tags && (
          <div class="flex flex-wrap gap-2">
            {item.tags.map(tag => (
              <span class="text-[10px] uppercase tracking-wider border border-white/20 px-2 py-1 text-muted-foreground">
                {tag}
              </span>
            ))}
          </div>
        )}
      </div>
    </div>
  ))}
</div>


================================================
FILE: src/components/Footer.astro
================================================
---
import { Icon } from 'astro-icon/components';
const today = new Date();
---

<footer class="w-full border-t border-white/10 bg-background z-20 relative overflow-hidden">
  
  <!-- Background Grid Texture (Subtle) -->
  <div class="absolute inset-0 bg-[linear-gradient(to_right,#ffffff03_1px,transparent_1px),linear-gradient(to_bottom,#ffffff03_1px,transparent_1px)] bg-[size:1rem_1rem] pointer-events-none"></div>

  <div class="grid grid-cols-1 md:grid-cols-2 relative z-10">

    <!-- LEFT: System Status & Reactor Core -->
    <div class="p-6 md:p-8 flex flex-col items-center md:items-start justify-center gap-6">
      
      <!-- Reactor Status Indicator -->
      <div class="flex items-center gap-3">
        <div class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
        </div>
        <span class="font-mono text-[10px] text-green-500 tracking-[0.2em] uppercase">
          System Status: Nominal
        </span>
      </div>

      <div class="space-y-1 text-center md:text-left">
        <p class="font-mono text-xs text-muted-foreground uppercase tracking-wider">
          &copy; {today.getFullYear()} Pablo Hernandez. All rights reserved.
        </p>
        <p class="font-mono text-[10px] text-white/20">
          Build Ver: 2.0.4 // Dist: Production
        </p>
      </div>

      <!-- Mobile-Only Socials (Hidden on lg since they are in sidebar) -->
      <div class="flex lg:hidden items-center gap-4 mt-2">
        <a href="https://github.com/hadronomy" target="_blank" class="p-2 border border-white/10 bg-white/5 hover:bg-white hover:text-black transition-all rounded-sm" aria-label="Github">
          <Icon name="simple-icons:github" class="w-4 h-4" />
        </a>
        <a href="/rss.xml" target="_blank" class="p-2 border border-white/10 bg-white/5 hover:bg-white hover:text-black transition-all rounded-sm" aria-label="RSS">
          <Icon name="tabler:rss" class="w-4 h-4" />
        </a>
      </div>
    </div>

    <!-- RIGHT: Cozy Pixel Badge -->
    <div class="p-6 md:p-8 flex items-center justify-center md:justify-end">
      
      <div class="group relative">
        <!-- Glow Effect -->
        <div class="absolute -inset-2 bg-gradient-to-r from-red-500/10 to-pink-500/10 rounded-xl blur opacity-0 group-hover:opacity-100 transition duration-700"></div>
        
        <div class="relative px-5 py-2.5 bg-black/40 border border-white/10 rounded-lg flex items-center gap-3 transition-colors hover:bg-white/5 hover:border-white/20">
          
          <span class="font-mono text-xs text-muted-foreground tracking-wide group-hover:text-white transition-colors">
            Made with
          </span>

          <!-- PIXEL ART HEART -->
          <div class="relative w-4 h-4 flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300">
            <svg 
              viewBox="0 0 9 8" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg" 
              class="w-full h-full text-red-500 animate-heartbeat drop-shadow-[0_0_5px_rgba(239,68,68,0.5)]"
              shape-rendering="crispEdges"
            >
              <rect x="1" y="0" width="2" height="1" fill="currentColor" />
              <rect x="6" y="0" width="2" height="1" fill="currentColor" />
              <rect x="0" y="1" width="4" height="1" fill="currentColor" />
              <rect x="5" y="1" width="4" height="1" fill="currentColor" />
              <rect x="0" y="2" width="9" height="2" fill="currentColor" />
              <rect x="1" y="4" width="7" height="1" fill="currentColor" />
              <rect x="2" y="5" width="5" height="1" fill="currentColor" />
              <rect x="3" y="6" width="3" height="1" fill="currentColor" />
              <rect x="4" y="7" width="1" height="1" fill="currentColor" />
              <rect x="1" y="1" width="1" height="1" fill="white" fill-opacity="0.8" />
              <rect x="2" y="2" width="1" height="1" fill="white" fill-opacity="0.4" />
            </svg>
          </div>

          <span class="font-mono text-xs text-muted-foreground tracking-wide group-hover:text-white transition-colors">
            in Spain
          </span>

        </div>
      </div>

    </div>
  </div>
</footer>

<style>
  @keyframes heartbeat {
    0% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.15); }
    60% { transform: scale(1); }
    100% { transform: scale(1); }
  }

  .animate-heartbeat {
    animation: heartbeat 2s infinite ease-in-out;
  }
</style>


================================================
FILE: src/components/FormattedDate.astro
================================================
---
interface Props {
  date: Date;
}

const { date } = Astro.props;
---

<time datetime={date.toISOString()}>
  {
    date.toLocaleDateString('en-us', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    })
  }
</time>



================================================
FILE: src/components/HalftoneEffect.astro
================================================
<div tabindex="-1" aria-hidden="true" class="h-full w-full halftone-bg"></div>

<style>
  .halftone-bg {
    background-image: var(--background-image);
    background-repeat: repeat;
    background-blend-mode: overlay;
    background-size: 128px;
    opacity: 0.06;
    z-index: 50;
    pointer-events: none;
    inset: 0;
    flex: none;
    position: absolute;
  }
</style>



================================================
FILE: src/components/HomeHero.astro
================================================
---
import { Icon } from 'astro-icon/components';

const { class: string, ...props } = Astro.props;
---

<section 
  id="hero" 
  class="relative w-full min-h-[calc(100vh-5rem)] flex flex-col border-b border-white/20 select-none group" 
  {...props}
>
  <!-- Background: Subtle localized grid -->
  <div class="absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:4rem_4rem] pointer-events-none"></div>

  <!-- ROW 1: Header / Meta Data -->
  <!-- Fixed h-12 (48px) to ensure perfect vertical alignment across all cells -->
  <div class="w-full grid grid-cols-2 md:grid-cols-4 border-b border-white/20 bg-white/5 backdrop-blur-sm">
    
    <!-- Cell 1: Status -->
    <div class="h-12 px-4 border-r border-white/20 flex items-center gap-2">
      <div class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"></div>
      <span class="font-mono text-[10px] uppercase tracking-widest text-muted-foreground pt-px">Status: Active</span>
    </div>

    <!-- Cell 2: Location (Hidden on mobile) -->
    <!-- Added 'md:flex items-center' to fix vertical alignment -->
    <div class="hidden md:flex h-12 px-4 border-r border-white/20 items-center">
      <span class="font-mono text-[10px] uppercase tracking-widest text-muted-foreground pt-px">Loc: Canary Islands</span>
    </div>

    <!-- Cell 3: Experience (Hidden on mobile) -->
    <!-- Added 'md:flex items-center' to fix vertical alignment -->
    <div class="hidden md:flex h-12 px-4 border-r border-white/20 items-center">
      <span class="font-mono text-[10px] uppercase tracking-widest text-muted-foreground pt-px">Exp: 10+ Years</span>
    </div>

    <!-- Cell 4: Version -->
    <div class="h-12 px-4 flex items-center justify-between">
      <span class="font-mono text-[10px] uppercase tracking-widest text-muted-foreground pt-px">Ver: 2.4.0</span>
      <Icon name="tabler:command" class="w-4 h-4 text-white/40" />
    </div>
  </div>

  <!-- ROW 2: Main Content (Takes remaining space) -->
  <div class="flex-1 flex flex-col justify-center relative p-6 md:p-12 overflow-hidden">
    
    <!-- Decorative vertical line -->
    <div class="absolute left-6 md:left-12 top-0 bottom-0 w-px bg-white/10"></div>

    <div class="relative pl-8 md:pl-12 z-10">
      
      <!-- Label -->
      <div class="flex items-center gap-3 mb-6">
        <span class="px-2 py-0.5 border border-white/20 text-[10px] font-mono uppercase bg-black text-white">Subject</span>
        <span class="font-mono text-xs text-muted-foreground tracking-widest">// FULL_STACK_ENGINEER</span>
      </div>

      <!-- Massive Name Typography with Hover Scramble Effect -->
      <div class="relative mb-8">
        <h1 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter text-white leading-[0.9] mix-blend-difference">
          <span class="scramble-text block" data-value="PABLO">PABLO</span>
          <span class="scramble-text block text-white/50" data-value="HERNANDEZ">HERNANDEZ</span>
        </h1>
        
        <!-- Glitch Effect Layer (Visible on Group Hover) -->
        <div class="absolute top-0 left-1 w-full h-full text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter text-green-500/20 leading-[0.9] -z-10 blur-[2px] opacity-0 group-hover:opacity-100 transition-opacity duration-100 select-none pointer-events-none">
          PABLO<br />HERNANDEZ
        </div>
      </div>

      <!-- Description / Abstract -->
      <div class="max-w-lg mb-12">
        <p class="font-mono text-sm md:text-base text-muted-foreground leading-relaxed text-justify">
          <span class="text-white font-bold mr-2">>>> ABSTRACT:</span>
          Specialized in high-performance web architecture and interactive 3D ecosystems. Converting complex requirements into elegant, type-safe solutions.
        </p>
      </div>

      <!-- Primary Actions -->
      <div class="flex flex-col sm:flex-row gap-4">
        <a 
          href="#projects" 
          class="group relative inline-flex items-center justify-center px-8 py-3 bg-white text-black font-mono text-xs font-bold uppercase tracking-widest overflow-hidden hover:bg-white/90 transition-colors"
        >
          <span class="relative z-10 flex items-center gap-2">
            View Projects 
            <Icon name="tabler:arrow-down-right" class="w-4 h-4" />
          </span>
        </a>
        
        <a 
          href="/cv.pdf" 
          target="_blank"
          class="group inline-flex items-center justify-center px-8 py-3 border border-white/20 text-white font-mono text-xs font-bold uppercase tracking-widest hover:bg-white/5 transition-colors"
        >
          <span>Download CV</span>
        </a>
      </div>

    </div>

    <!-- Right Side Decorative Elements -->
    <div class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 md:translate-x-0 md:right-12 w-64 h-64 border border-white/5 rounded-full flex items-center justify-center animate-[spin_10s_linear_infinite]">
      <div class="w-full h-px bg-white/5 absolute"></div>
      <div class="h-full w-px bg-white/5 absolute"></div>
    </div>
  </div>

  <!-- ROW 3: Technical Footer -->
  <div class="w-full border-t border-white/20 bg-black/40">
    <div class="grid grid-cols-1 md:grid-cols-2">
      <!-- Stack Ticker -->
      <div class="p-4 border-b md:border-b-0 md:border-r border-white/20 flex items-center overflow-hidden relative h-12">
        <div class="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-black to-transparent z-10"></div>
        <div class="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-black to-transparent z-10"></div>
        
        <div class="flex gap-8 animate-marquee whitespace-nowrap font-mono text-xs text-muted-foreground">
          <span>TYPESCRIPT</span>
          <span>RUST</span>
          <span>REACT</span>
          <span>THREE.JS</span>
          <span>NODE.JS</span>
          <span>POSTGRESQL</span>
          <span>DOCKER</span>
          <span>//</span>
          <span>TYPESCRIPT</span>
          <span>RUST</span>
          <span>REACT</span>
          <span>THREE.JS</span>
          <span>NODE.JS</span>
        </div>
      </div>

      <!-- Availability -->
      <div class="p-4 h-12 flex items-center justify-between">
         <span class="font-mono text-[10px] uppercase text-muted-foreground">Availability</span>
         <div class="flex items-center gap-2">
            <span class="font-mono text-xs text-white font-bold">OPEN FOR WORK</span>
            <div class="w-2 h-2 bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"></div>
         </div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  .animate-marquee {
    animation: marquee 20s linear infinite;
  }
</style>

<script>
  // Hacker Text Effect (Scramble)
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  
  document.addEventListener('astro:page-load', () => {
    document.querySelectorAll('.scramble-text').forEach((element) => {
      const el = element as HTMLElement;
      const originalText = el.dataset.value || el.innerText;
      
      el.addEventListener('mouseover', () => {
        let iteration = 0;
        
        clearInterval((el as any).interval);
        
        (el as any).interval = setInterval(() => {
          el.innerText = originalText
            .split("")
            .map((letter, index) => {
              if(index < iteration) {
                return originalText[index];
              }
              return letters[Math.floor(Math.random() * 26)];
            })
            .join("");
          
          if(iteration >= originalText.length){ 
            clearInterval((el as any).interval);
          }
          
          iteration += 1 / 3;
        }, 30);
      });
    });
  });
</script>


================================================
FILE: src/components/Metadata.astro
================================================
---
// Import the global.css file here so that it is included on
// all pages through the use of the <Metadata /> component.
import '@fontsource/bellota';
import '@fontsource-variable/onest';
import '@fontsource/monaspace-neon';
import '@fontsource/maple-mono';
import '~/styles/global.css';
import '~/styles/twoslash.css';

import { getImage } from 'astro:assets';
import { ClientRouter } from 'astro:transitions';
import favicon from '../favicon.png';

interface Props {
  title: string;
  description: string;
  image?: string;
  publishedTime?: string;
  type?: 'website' | 'article';
}

const appleTouchIcon = await getImage({
  src: favicon,
  width: 460,
  height: 460,
  format: 'png',
});

const canonicalURL = new URL(Astro.url.pathname, Astro.site);

const {
  title,
  description,
  publishedTime,
  image = '/blog-placeholder-1.jpg',
  type = 'website',
} = Astro.props;
---

<!-- Hello There! -->
<!-- Global Metadata -->
<meta charset="utf-8" />
<link rel="sitemap" href="/sitemap-index.xml" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16 32x32" />
<link rel="apple-touch-icon" href={appleTouchIcon.src} />
<link
  rel="alternate"
  type="application/rss+xml"
  title="Blog"
  href={new URL('rss.xml', Astro.site)}
/>
{publishedTime && <meta property="article:published_time" content={publishedTime} />}
<meta name="generator" content={Astro.generator} />

<!-- Canonical URL -->
<link rel="canonical" href={canonicalURL} />

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={new URL(image, Astro.url)} />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content={canonicalURL} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={new URL(image, Astro.url)} />

<script is:inline>
  const html = document.querySelector('html');
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }
    return 'light';
  })();

  if (theme === 'light') {
    html.classList.remove('dark');
  } else {
    html.classList.add('dark');
  }
</script>

<script>
  function handleImageLoad() {
    const images = document.querySelectorAll<HTMLImageElement>('img[data-transition-name]');
    images.forEach((img) => {
      img.style.opacity = '0';
      img.onload = () => {
        img.style.opacity = '1';
      };
      if (img.complete) {
        img.onload(new Event('load'));
      }
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', handleImageLoad);
  } else {
    handleImageLoad();
  }
</script>

<ClientRouter />



================================================
FILE: src/components/Navbar.astro
================================================
---
import { Icon } from 'astro-icon/components';
import { MobileMenu } from '~/components/react/MobileMenu';
import ThemeToggle from '~/components/ThemeToggle.astro';

const { class: className, ...props } = Astro.props;

// Dynamic Breadcrumb Logic
const pathname = Astro.url.pathname;
const pathSegments = pathname.split('/').filter(Boolean);
const isHome = pathSegments.length === 0;

// Construct breadcrumbs
const breadcrumbs = [
  { label: '~/hadronomy', href: '/', icon: 'tabler:folder' },
  ...pathSegments.map((segment, index) => {
    const href = '/' + pathSegments.slice(0, index + 1).join('/');
    const isLast = index === pathSegments.length - 1;
    // Simulate file extension for the last segment
    const label = isLast && !segment.includes('.') ? `${segment}.mdx` : segment;
    return {
      label,
      href,
      icon: isLast ? 'tabler:file-code' : 'tabler:folder-open'
    };
  })
];

// Fallback for home
if (isHome) {
  breadcrumbs.push({ label: 'index.tsx', href: '/', icon: 'tabler:file-code' });
}
---

<header 
  class:list={[
    'w-full h-20 shrink-0 flex items-center justify-between px-4 sm:px-6 md:px-8 border-b border-white/20 bg-background/80 backdrop-blur-md z-50',
    className
  ]} 
  {...props}
>
  <!-- Left: Dynamic Breadcrumbs + Mobile Menu -->
  <div class="flex items-center gap-4 overflow-hidden max-w-[calc(50%-80px)] sm:max-w-[calc(50%-60px)] xl:max-w-[calc(50%-100px)] flex-1 xl:flex-none">
    <!-- Left: Dynamic Breadcrumbs -->
    <nav id="navbar-breadcrumbs" class="hidden md:flex items-center gap-2 text-xs font-mono overflow-hidden">
      {breadcrumbs.map((crumb, index) => (
        <div class="flex items-center gap-2 min-w-0 shrink">
          {index > 0 && <span class="text-white/20 shrink-0">/</span>}
          
          <a 
            href={crumb.href}
            class:list={[
              "flex items-center gap-2 px-3 py-1 border rounded-sm transition-all min-w-0 group",
              index === breadcrumbs.length - 1 
                ? "bg-white/10 border-white/20 text-white" 
                : "bg-transparent border-transparent text-muted-foreground hover:bg-white/5 hover:text-white"
            ]}
            title={crumb.label}
          >
            <Icon name={crumb.icon} class="w-3 h-3 shrink-0" />
            <!-- Truncate long names (e.g. blog posts) -->
            <span class="truncate max-w-[120px] lg:max-w-[200px] group-hover:max-w-none transition-all duration-300">
              {crumb.label}
            </span>
          </a>
        </div>
      ))}
    </nav>
    
    <!-- Mobile Menu (Visible only on small screens) -->
    <div transition:persist="mobile-menu" id="navbar-mobile-menu">
      <MobileMenu 
        client:load
        currentPath={pathname}
        externalLinks={[
          { 
            label: 'GitHub', 
            href: 'https://github.com/hadronomy',
            icon: 'github'
          },
          { 
            label: 'RSS', 
            href: '/rss.xml',
            icon: 'rss'
          }
        ]}
      />
    </div>
  </div>

  <!-- Center: Title (Absolute Positioned) -->
  <div class="hidden xl:block absolute left-1/2 -translate-x-1/2 pointer-events-none">
    <span id="navbar-center-title" class="text-[10px] tracking-[0.5em] uppercase text-white/40 font-mono">
      {isHome ? 'Main_View_Port' : 'Archive_Reader'}
    </span>
  </div>

  <!-- Right: Utilities -->
  <div class="flex items-center gap-3 sm:gap-4 md:gap-6 shrink-0">
    
    <!-- Time Widget -->
    <div id="clock-widget" class="hidden md:flex flex-col items-end leading-none">
      <span class="text-xs font-bold font-mono time-display">00:00:00</span>
      <span class="text-[10px] text-muted-foreground uppercase date-display">INIT...</span>
    </div>

    <div class="h-8 w-[1px] bg-white/20 hidden md:block"></div>

    <!-- Actions -->
    <div class="flex items-center gap-3">
      
      <!-- Contextual Nav Button -->
      <a id="navbar-contextual-btn" href="/blog" class="h-9 px-4 flex items-center justify-center border border-white/20 hover:bg-white hover:text-black font-mono text-xs font-bold uppercase tracking-wider transition-all">
        /Blog
      </a>

      <!-- Theme Toggle -->
      <div class="w-9 h-9 flex items-center justify-center border border-white/20 hover:bg-white/5 transition-all">
         <ThemeToggle class="text-current" />
      </div>
    </div>
  </div>
</header>

<script>
  // ============================================
  // Clock Widget
  // ============================================
  function updateClock() {
    const timeDisplay = document.querySelector('.time-display');
    const dateDisplay = document.querySelector('.date-display');
    
    if (timeDisplay && dateDisplay) {
      const now = new Date();
      
      const timeString = now.toLocaleTimeString('en-US', { 
        hour12: false, 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
      });
      
      const dateString = now.toLocaleDateString('en-GB', { 
        day: '2-digit', 
        month: 'short', 
        year: 'numeric' 
      });

      timeDisplay.textContent = timeString;
      dateDisplay.textContent = dateString.toUpperCase();
    }
  }

  let clockInterval: any;
  
  function initClock() {
    // Clear any existing interval to prevent duplicates
    if (clockInterval) {
      clearInterval(clockInterval);
    }
    
    // Sync with system seconds
    clockInterval = setInterval(updateClock, 1000);
    updateClock();
  }

  // ============================================
  // Dynamic Navbar Updates
  // ============================================
  
  interface Breadcrumb {
    label: string;
    href: string;
    icon: string;
  }

  function generateBreadcrumbs(pathname: string): Breadcrumb[] {
    const pathSegments = pathname.split('/').filter(Boolean);
    const isHome = pathSegments.length === 0;
    
    const breadcrumbs: Breadcrumb[] = [
      { label: '~/hadronomy', href: '/', icon: 'tabler:folder' }
    ];
    
    pathSegments.forEach((segment, index) => {
      const href = '/' + pathSegments.slice(0, index + 1).join('/');
      const isLast = index === pathSegments.length - 1;
      const label = isLast && !segment.includes('.') ? `${segment}.mdx` : segment;
      
      breadcrumbs.push({
        label,
        href,
        icon: isLast ? 'tabler:file-code' : 'tabler:folder-open'
      });
    });
    
    // Fallback for home
    if (isHome) {
      breadcrumbs.push({ label: 'index.tsx', href: '/', icon: 'tabler:file-code' });
    }
    
    return breadcrumbs;
  }

  const iconSvgs: Record<string, string> = {
    'tabler:folder': '<svg class="w-3 h-3 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2"></path></svg>',
    'tabler:folder-open': '<svg class="w-3 h-3 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"></path></svg>',
    'tabler:file-code': '<svg class="w-3 h-3 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><path d="m10 13-2 2 2 2"></path><path d="m14 17 2-2-2-2"></path></svg>'
  };

  function createBreadcrumbElement(crumb: Breadcrumb, index: number, total: number): HTMLElement {
    const wrapper = document.createElement('div');
    wrapper.className = 'flex items-center gap-2 min-w-0 shrink';
    
    // Add separator
    if (index > 0) {
      const separator = document.createElement('span');
      separator.className = 'text-white/20 shrink-0';
      separator.textContent = '/';
      wrapper.appendChild(separator);
    }
    
    // Create link
    const link = document.createElement('a');
    link.href = crumb.href;
    link.title = crumb.label;
    
    const isLast = index === total - 1;
    link.className = `flex items-center gap-2 px-3 py-1 border rounded-sm transition-all min-w-0 group ${
      isLast 
        ? 'bg-white/10 border-white/20 text-white' 
        : 'bg-transparent border-transparent text-muted-foreground hover:bg-white/5 hover:text-white'
    }`;
    
    // Add icon using inline SVG
    const iconHtml = iconSvgs[crumb.icon] || iconSvgs['tabler:file-code'];
    const iconWrapper = document.createElement('span');
    iconWrapper.innerHTML = iconHtml;
    link.appendChild(iconWrapper.firstElementChild as HTMLElement);
    
    // Create label
    const labelSpan = document.createElement('span');
    labelSpan.className = 'truncate max-w-[120px] lg:max-w-[200px] group-hover:max-w-none transition-all duration-300';
    labelSpan.textContent = crumb.label;
    link.appendChild(labelSpan);
    
    wrapper.appendChild(link);
    return wrapper;
  }

  function updateBreadcrumbs(pathname: string) {
    const breadcrumbsNav = document.getElementById('navbar-breadcrumbs');
    if (!breadcrumbsNav) return;
    
    const breadcrumbs = generateBreadcrumbs(pathname);
    
    // Clear existing breadcrumbs
    breadcrumbsNav.innerHTML = '';
    
    // Add new breadcrumbs
    breadcrumbs.forEach((crumb, index) => {
      const element = createBreadcrumbElement(crumb, index, breadcrumbs.length);
      breadcrumbsNav.appendChild(element);
    });
  }

  function updateCenterTitle(pathname: string) {
    const titleElement = document.getElementById('navbar-center-title');
    if (!titleElement) return;
    
    const isHome = pathname === '/' || pathname === '';
    titleElement.textContent = isHome ? 'Main_View_Port' : 'Archive_Reader';
  }

  function updateContextualButton(pathname: string) {
    const button = document.getElementById('navbar-contextual-btn') as HTMLAnchorElement;
    if (!button) return;
    
    const isBlog = pathname.startsWith('/blog');
    button.href = isBlog ? '/' : '/blog';
    button.textContent = isBlog ? 'Return Home' : '/Blog';
  }

  function updateMobileMenuPath(pathname: string) {
    // The MobileMenu React component manages its own state
    // We need to trigger a prop update - this requires re-mounting or using a custom event
    const event = new CustomEvent('navbar:path-change', { detail: { pathname } });
    window.dispatchEvent(event);
  }

  function updateNavbar() {
    const pathname = window.location.pathname;
    
    updateBreadcrumbs(pathname);
    updateCenterTitle(pathname);
    updateContextualButton(pathname);
    updateMobileMenuPath(pathname);
  }

  // Initialize on page load
  document.addEventListener('astro:page-load', () => {
    initClock();
    updateNavbar();
  });
</script>


================================================
FILE: src/components/ProjectCard.astro
================================================
---
import { Icon } from 'astro-icon/components';

interface Props {
  name: string;
  description: string;
  url: string;
  language: string;
  stars: number;
}

const { name, description, url, language, stars } = Astro.props;
---

<li class="list-none bg-background group h-full">
  <a href={url} target="_blank" rel="noopener noreferrer" class="block h-full p-8 transition-colors duration-300 hover:bg-white hover:text-black">
    <div class="flex flex-col h-full justify-between gap-6">
      <div>
        <div class="flex justify-between items-start mb-4">
          <h3 class="text-xl font-bold font-mono uppercase tracking-tight">{name}</h3>
          <Icon name="tabler:arrow-up-right" class="w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity" />
        </div>
        <p class="text-sm opacity-70 font-mono leading-relaxed line-clamp-3">
          {description || "No description provided."}
        </p>
      </div>
      
      <div class="flex justify-between items-center pt-4 border-t border-current/20">
        {language && (
          <span class="text-xs font-bold uppercase tracking-wider px-2 py-1 border border-current/20">
            {language}
          </span>
        )}
        <div class="flex items-center gap-1 font-mono text-xs">
          <Icon name="octicon:star-fill-16" class="h-3 w-3" />
          <span>{stars}</span>
        </div>
      </div>
    </div>
  </a>
</li>


================================================
FILE: src/components/ProjectGrid.astro
================================================
---
import ProjectCard from './ProjectCard.astro';

interface Props {
  projects: any[];
}

const { projects } = Astro.props;
---

<div class="border-t border-white/20">
  <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[1px] bg-white/20 border-b border-white/20">
    {projects.map((project) => (
      <ProjectCard 
        name={project.name} 
        description={project.description} 
        url={project.html_url}
        language={project.language}
        stars={project.stargazers_count}
      />
    ))}
  </ul>
</div>


================================================
FILE: src/components/Sidebar.astro
================================================
---
interface Props {
  items: { label: string; id: string; depth?: number }[];
}

const { items } = Astro.props;
---

<nav 
  id="minimap-nav" 
  class="group/sidebar relative w-full h-full pl-8 py-12 select-none flex flex-col items-start"
  aria-label="Minimap Navigation"
>
  <!-- TRACK CONTAINER -->
  <div id="sidebar-track" class="relative w-full h-full z-10">
    
    <!-- SVG CANVAS -->
    <svg 
      class="absolute left-8 -ml-3 top-0 w-6 h-full pointer-events-none z-0 overflow-visible"
      preserveAspectRatio="none"
    >
      <!-- Background Track -->
      <line 
        x1="12" y1="0" 
        x2="12" y2="100%" 
        stroke="white" 
        stroke-opacity="0.1" 
        stroke-width="1" 
        stroke-dasharray="2 6"
      />

      <!-- Progress Beam -->
      <line 
        id="progress-line"
        x1="12" y1="0" 
        x2="12" y2="0" 
        stroke="white"
        stroke-opacity="0.9" 
        stroke-width="2" 
        stroke-linecap="round"
        style="filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.8));"
      />
      
      <!-- Leading Head -->
      <circle 
        id="progress-tip"
        cx="12" cy="0" r="3" 
        fill="white" 
        style="filter: drop-shadow(0 0 4px white);"
      />
    </svg>

    <!-- NODES -->
    {items.map((item, index) => (
      <a 
        href={`#${item.id}`}
        data-target-id={item.id}
        data-depth={item.depth || 2}
        class="sidebar-node absolute left-0 w-full flex items-center group/node -translate-y-1/2 h-8"
        style="top: 0%; opacity: 0;" 
      >
        <!-- 1. MARKER -->
        <div class="absolute left-8 -translate-x-1/2 flex items-center justify-center">
            
            <!-- Idle State -->
            <div 
              class:list={[
                "node-shape bg-background border transition-all duration-500 ease-out z-10 box-border",
                (!item.depth || item.depth <= 2)
                  ? "w-2.5 h-2.5 border-white/30 rotate-45 group-hover/node:border-white group-hover/node:scale-110" 
                  : "w-1.5 h-1.5 rounded-full border-white/20 group-hover/node:border-white/60"
              ]}
            ></div>

            <!-- Active State -->
            <div class="node-fill absolute z-20 opacity-0 scale-0 transition-all duration-200">
               <div class:list={[
                 "bg-white shadow-[0_0_10px_white]",
                 (!item.depth || item.depth <= 2) ? "w-2.5 h-2.5 rotate-45" : "w-1.5 h-1.5 rounded-full"
               ]}></div>
               <!-- Ping Ring -->
               <div class:list={[
                 "ping-ring absolute inset-0 bg-white rounded-full opacity-0",
                 (!item.depth || item.depth <= 2) ? "rounded-none rotate-45" : ""
               ]}></div>
            </div>
        </div>

        <!-- 2. LABEL -->
        <div 
          class="node-label-container ml-14 flex items-center gap-3 transition-all duration-300 origin-left opacity-0 -translate-x-4 group-hover/sidebar:opacity-100 group-hover/sidebar:translate-x-0"
        >
            {(!item.depth || item.depth <= 2) && (
              <span class="font-mono text-[9px] text-white/30 font-bold group-hover/sidebar:text-white/50 transition-colors">
                  {(index).toString().padStart(2, '0')}
              </span>
            )}

            <span 
              class:list={[
                "node-label font-mono text-muted-foreground truncate max-w-[180px] transition-colors duration-300",
                "group-hover/node:text-white group-hover/node:font-bold group-hover/node:tracking-widest",
                (!item.depth || item.depth <= 2) ? "text-[10px] uppercase tracking-wider" : "text-[9px] tracking-wide pl-2 border-l border-white/10"
              ]}
            >
              {item.label}
            </span>
        </div>
      </a>
    ))}
  </div>
</nav>

<style>
  .text-shadow-glow {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
  }
  
  .animate-ping-active {
    animation: ping-active 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  @keyframes ping-active {
    0% { transform: scale(1); opacity: 0.8; }
    75%, 100% { transform: scale(2.5); opacity: 0; }
  }
</style>

<script>
  import { createTimer, utils } from 'animejs';

  const CONFIG = {
    SCROLL_OFFSET: 120,    
    MIN_NODE_GAP: 32,      
    SNAP_THRESHOLD: 2.5,   
    ACTIVATION_BUFFER: 0.5,
    LERP_FACTOR: 0.1
  } as const;

  interface NodeData {
    element: HTMLElement;
    pageTop: number;   
    visualPct: number; 
  }

  class MinimapController {
    private track: HTMLElement;
    private nodes: NodeListOf<HTMLElement>;
    private progressLine: SVGLineElement;
    private progressTip: SVGCircleElement;
    
    private nodeMap: NodeData[] = [];
    private resizeObserver: ResizeObserver;
    
    private currentValue = 0;
    private targetValue = 0;

    constructor() {
      this.track = document.getElementById('sidebar-track')!;
      this.nodes = document.querySelectorAll('.sidebar-node');
      this.progressLine = document.getElementById('progress-line') as unknown as SVGLineElement;
      this.progressTip = document.getElementById('progress-tip') as unknown as SVGCircleElement;

      this.resizeObserver = new ResizeObserver(() => {
        this.calculatePositions();
        this.updateTarget();
      });
    }

    public init(): void {
      if (!this.track || this.nodes.length === 0 || !this.progressLine || !this.progressTip) return;

      this.nodes.forEach(node => {
        const ring = node.querySelector('.ping-ring') as HTMLElement;
        if(ring) {
          ring.style.animationDelay = `-${Math.random() * 2}s`;
        }
      });

      window.addEventListener('resize', this.handleResize);
      window.addEventListener('scroll', this.handleScroll, { passive: true });
      this.resizeObserver.observe(document.body);

      setTimeout(() => {
        this.calculatePositions();
        this.updateTarget();
        this.currentValue = this.targetValue;
        this.render();
        createTimer({ onUpdate: this.loop });
      }, 150);
    }

    private calculatePositions = (): void => {
      // Guard: Check if track exists
      if (!this.track) return;

      const trackHeight = this.track.clientHeight;
      const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
      const winHeight = window.innerHeight;
      const scrollableDist = Math.max(1, docHeight - winHeight);

      const targets: Array<{ element: HTMLElement; pageTop: number; index: number }> = [];

      this.nodes.forEach((node, index) => {
        const targetId = node.getAttribute('data-target-id');
        if (!targetId) return;

        const target = document.getElementById(targetId);
        if (target) {
          const rect = target.getBoundingClientRect();
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          
          const pageTop = index === 0 
            ? 0 
            : Math.max(0, rect.top + scrollTop - CONFIG.SCROLL_OFFSET);

          targets.push({ element: node, pageTop, index });
        }
      });

      targets.sort((a, b) => a.pageTop - b.pageTop);

      const visualPositionsInPx: number[] = targets.map(t => {
        // Safe division now that scrollableDist is >= 1
        const naturalPct = t.pageTop / scrollableDist;
        const clampedPct = Math.max(0, Math.min(1, naturalPct));
        return clampedPct * trackHeight;
      });

      for (let i = 1; i < visualPositionsInPx.length; i++) {
        if (visualPositionsInPx[i] < visualPositionsInPx[i-1] + CONFIG.MIN_NODE_GAP) {
          visualPositionsInPx[i] = visualPositionsInPx[i-1] + CONFIG.MIN_NODE_GAP;
        }
      }

      if (visualPositionsInPx.length > 0) {
        const lastIdx = visualPositionsInPx.length - 1;
        if (visualPositionsInPx[lastIdx] > trackHeight) {
          visualPositionsInPx[lastIdx] = trackHeight;
          for (let i = lastIdx - 1; i >= 0; i--) {
            if (visualPositionsInPx[i] > visualPositionsInPx[i+1] - CONFIG.MIN_NODE_GAP) {
              visualPositionsInPx[i] = visualPositionsInPx[i+1] - CONFIG.MIN_NODE_GAP;
            }
          }
        }
      }

      this.nodeMap = targets.map((t, i) => {
        const visualPx = visualPositionsInPx[i];
        // Handle trackHeight = 0 case
        const visualPct = trackHeight > 0 ? (visualPx / trackHeight) * 100 : 0;

        t.element.style.top = `${visualPct}%`;
        t.element.style.opacity = '1';

        return {
          element: t.element,
          pageTop: t.pageTop,
          visualPct: visualPct
        };
      });
    };

    private updateTarget = (): void => {
      if (this.nodeMap.length === 0) return;

      let scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
      const winHeight = window.innerHeight;
      
      const isAtBottom = (scrollTop + winHeight) >= (docHeight - 10);

      if (isAtBottom) {
        this.targetValue = 100;
        return;
      }

      let activeIndex = 0;
      for (let i = 0; i < this.nodeMap.length; i++) {
        if (scrollTop >= this.nodeMap[i].pageTop) {
          activeIndex = i;
        } else {
          break; 
        }
      }

      const startNode = this.nodeMap[activeIndex];
      const endNode = this.nodeMap[activeIndex + 1];
      let calculatedPct = 0;

      if (!endNode) {
        calculatedPct = startNode ? startNode.visualPct : 0;
      } else {
        const segmentScroll = scrollTop - startNode.pageTop;
        const segmentTotal = endNode.pageTop - startNode.pageTop;
        
        // Safety check for divide by zero
        const ratio = segmentTotal > 0 
          ? Math.min(1, Math.max(0, segmentScroll / segmentTotal))
          : 1;
        
        const segmentVisual = endNode.visualPct - startNode.visualPct;
        calculatedPct = startNode.visualPct + (ratio * segmentVisual);
      }

      if (this.nodeMap[0] && scrollTop < this.nodeMap[0].pageTop) {
         // Avoid div by zero if pageTop is 0
         const firstTop = Math.max(1, this.nodeMap[0].pageTop);
         const ratio = Math.min(1, Math.max(0, scrollTop / firstTop));
         calculatedPct = ratio * this.nodeMap[0].visualPct;
      }

      for (const node of this.nodeMap) {
        const diff = Math.abs(calculatedPct - node.visualPct);
        if (diff < CONFIG.SNAP_THRESHOLD) {
          calculatedPct = node.visualPct;
          break;
        }
      }

      this.targetValue = calculatedPct;
    };

    private loop = (): void => {
      if (Math.abs(this.targetValue - this.currentValue) < 0.1) {
        this.currentValue = this.targetValue;
      } else {
        this.currentValue = utils.lerp(this.currentValue, this.targetValue, CONFIG.LERP_FACTOR);
      }
      this.render();
    };

    private render = (): void => {
      if (!this.progressLine || !this.progressTip) return;

      if (isNaN(this.currentValue)) {
        this.currentValue = 0;
      }

      const pctString = `${this.currentValue}%`;
      
      this.progressLine.setAttribute('y2', pctString);
      this.progressTip.setAttribute('cy', pctString);

      this.nodes.forEach((node, idx) => {
        if(!this.nodeMap[idx]) return;

        const nodeVisual = this.nodeMap[idx].visualPct;
        const isPassed = this.currentValue >= (nodeVisual - CONFIG.ACTIVATION_BUFFER);

        const shape = node.querySelector('.node-shape');
        const fill = node.querySelector('.node-fill');
        const label = node.querySelector('.node-label');
        const indexText = node.querySelector('span:first-child'); 
        const pingRing = node.querySelector('.ping-ring');

        if (isPassed) {
          fill?.classList.remove('opacity-0', 'scale-0');
          shape?.classList.add('opacity-0');
          label?.classList.add('text-white', 'font-bold');
          indexText?.classList.add('text-white', 'opacity-100');
          
          pingRing?.classList.add('animate-ping-active');
          pingRing?.classList.remove('opacity-0');
        } else {
          fill?.classList.add('opacity-0', 'scale-0');
          shape?.classList.remove('opacity-0');
          label?.classList.remove('text-white', 'font-bold');
          indexText?.classList.remove('text-white', 'opacity-100');
          
          pingRing?.classList.remove('animate-ping-active');
          pingRing?.classList.add('opacity-0');
        }
      });
    }

    private handleResize = () => {
      this.calculatePositions();
      this.updateTarget();
    };

    private handleScroll = () => {
      this.updateTarget();
    };
  }

  document.addEventListener('astro:page-load', () => {
    const controller = new MinimapController();
    controller.init();
  });
</script>


================================================
FILE: src/components/SkillGrid.astro
================================================
---
import { Icon } from 'astro-icon/components';

interface Skill {
  name: string;
  icon: string;
}

interface Props {
  skills: Skill[];
}

const { skills } = Astro.props;
---

<div class="border-t border-white/20 bg-white/20 gap-[1px] grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 border-b">
  {
    skills.map((skill) => (
      <div class="bg-background aspect-square flex flex-col items-center justify-center p-4 hover:bg-white/5 transition-colors group relative overflow-hidden">
        <div class="absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none">
          <div class="absolute top-0 right-0 p-1">
             <div class="w-2 h-2 bg-white"></div>
          </div>
        </div>
        
        <Icon name={skill.icon} class="w-10 h-10 mb-3 grayscale group-hover:grayscale-0 transition-all duration-300" />
        <span class="text-xs font-mono uppercase tracking-wider text-center opacity-60 group-hover:opacity-100">{skill.name}</span>
      </div>
    ))
  }
</div>


================================================
FILE: src/components/ThemeToggle.astro
================================================
---
import { Icon } from 'astro-icon/components';
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'button'> {}

const { class: className, ...props } = Astro.props;
---

<div class="relative inline-block">
  <button 
    id="broken-theme-toggle"
    class:list={[
      'group relative flex items-center justify-center w-9 h-9 border border-white/20 hover:bg-white/5 active:bg-red-500/20 transition-colors overflow-hidden', 
      className
    ]}
    aria-label="Toggle Theme (Broken)"
    {...props}
  >
    <!-- Normal Icon (Moon) -->
    <div class="relative z-10 icon-container">
      <Icon name="tabler:moon-filled" class="h-4 w-4 text-white group-hover:text-white/80 transition-colors" />
    </div>

    <!-- Glitch Layers (Hidden by default) -->
    <div class="glitch-layer absolute inset-0 z-0 opacity-0 pointer-events-none flex items-center justify-center">
       <Icon name="tabler:moon-filled" class="h-4 w-4 text-red-500 translate-x-[2px]" />
    </div>
    <div class="glitch-layer absolute inset-0 z-0 opacity-0 pointer-events-none flex items-center justify-center">
       <Icon name="tabler:moon-filled" class="h-4 w-4 text-cyan-500 -translate-x-[2px]" />
    </div>

    <!-- Scanline Overlay -->
    <div class="absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[size:100%_4px] opacity-0 group-hover:opacity-20 pointer-events-none"></div>
  </button>

  <!-- Error Tooltip (Appears on click) -->
  <div 
    id="error-tooltip"
    class="absolute top-full right-0 mt-2 px-2 py-1 bg-red-900/90 border border-red-500 text-[10px] font-mono text-red-100 uppercase tracking-widest whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 z-50 shadow-[0_0_15px_rgba(220,38,38,0.5)]"
  >
    FATAL: LIGHT_MODE_404
  </div>
</div>

<style>
  /* Glitch Animation Classes */
  .glitch-active {
    animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
    border-color: rgba(239, 68, 68, 0.8); /* Red border */
    background-color: rgba(239, 68, 68, 0.1);
  }

  .glitch-active .icon-container {
    opacity: 0.5;
  }

  .glitch-active .glitch-layer {
    opacity: 1;
    animation: glitch-anim 0.4s infinite linear alternate-reverse;
  }

  /* Shake the button */
  @keyframes shake {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
    30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
    40%, 60% { transform: translate3d(4px, 0, 0); }
  }

  /* Split RGB channels */
  @keyframes glitch-anim {
    0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 1px); }
    20% { clip-path: inset(60% 0 10% 0); transform: translate(2px, -1px); }
    40% { clip-path: inset(40% 0 50% 0); transform: translate(-2px, 2px); }
    60% { clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px); }
    80% { clip-path: inset(10% 0 70% 0); transform: translate(-1px, 1px); }
    100% { clip-path: inset(30% 0 20% 0); transform: translate(1px, -1px); }
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const btn = document.getElementById('broken-theme-toggle');
    const tooltip = document.getElementById('error-tooltip');
    
    if (btn && tooltip) {
      // Force Dark Mode just in case
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');

      let isGlitching = false;

      btn.addEventListener('click', (e) => {
        e.preventDefault();
        
        if (isGlitching) return;
        isGlitching = true;

        // 1. Play Glitch Animation
        btn.classList.add('glitch-active');
        
        // 2. Show Error Tooltip
        tooltip.classList.remove('opacity-0');
        tooltip.classList.add('opacity-100');

        // 3. Log to Console for the curious
        console.warn('SYSTEM_ALERT: User attempted to invoke [LIGHT_MODE]. Module not found in registry.');

        // 4. Reset after delay
        setTimeout(() => {
          btn.classList.remove('glitch-active');
          tooltip.classList.remove('opacity-100');
          tooltip.classList.add('opacity-0');
          isGlitching = false;
        }, 1200);
      });
    }
  });
</script>


================================================
FILE: src/components/mdx/Pre.astro
================================================
---
import { cn } from '@portfolio/ui';
import { CodeBlock, Pre as CodeBlockPre } from '~/components/react/codeblock';

type Props = Omit<typeof CodeBlock, 'className' | 'children' | 'tabIndex'> & {
  class?: string;
  tabindex?: number;
};

const { class: className, tabindex, ...props } = Astro.props;
---

<CodeBlock
  client:visible
  className={cn(
    className,
    'relative overflow-hidden w-full rounded-none border border-white/20 bg-[#050505] my-8'
  )}
  tabIndex={tabindex}
  {...props}
>
  <CodeBlockPre client:visible className="font-mono text-sm">
    <slot />
  </CodeBlockPre>
</CodeBlock>


================================================
FILE: src/components/react/codeblock.tsx
================================================
'use client';

import * as React from 'react';

import { AnimatePresence, motion } from 'framer-motion';
import { Check, Copy } from 'lucide-react';

import { cn } from '@portfolio/ui';
import {
  ScrollArea,
  ScrollBar,
  ScrollViewport,
} from '@portfolio/ui/scroll-area';

export type CodeBlockProps = React.ComponentProps<'pre'> & {
  keepBackground?: boolean;
};

export const Pre = React.forwardRef<
  HTMLPreElement,
  React.HTMLAttributes<HTMLPreElement>
>(({ className, children, ...props }, ref) => {
  return (
    <pre ref={ref} className={cn('max-h-[400px] p-4', className)} {...props}>
      {children}
    </pre>
  );
});

Pre.displayName = 'Pre';

export const CodeBlock = React.forwardRef<HTMLPreElement, CodeBlockProps>(
  ({ title, keepBackground = false, className, children, ...props }, _ref) => {
    const areaRef = React.useRef<HTMLDivElement>(null);
    const onCopy = React.useCallback(async () => {
      const pre = areaRef.current?.getElementsByTagName('pre').item(0);

      if (!pre) return;

      const clone = pre.cloneNode(true) as HTMLElement;
      for (const node of clone.querySelectorAll(
        '.nd-copy-ignore, .twoslash-popup-container',
      )) {
        node.remove();
      }

      void navigator.clipboard.writeText(clone.textContent ?? '');
    }, []);

    return (
      <figure
        className={cn(
          'not-prose group grid relative my-6 overflow-hidden rounded-lg border bg-secondary/50 text-md',
          keepBackground &&
            'bg-[var(--shiki-light-bg)] dark:bg-[var(--shiki-dark-bg)]',
          className,
        )}
        {...props}
      >
        {title ? (
          <div className="flex flex-row items-center gap-2 border-b bg-muted px-4 py-1.5">
            <figcaption className="flex-1 truncate text-muted-foreground">
              {title}
            </figcaption>
            <CopyButton
              className="p-2"
              onCopy={onCopy}
              aria-label="Copy code"
            />
          </div>
        ) : (
          <CopyButton
            className="absolute top-2 right-2 z-2 backdrop-blur-md"
            onCopy={onCopy}
          />
        )}
        <ScrollArea className="overflow-y-visible!" ref={areaRef} dir="ltr">
          <ScrollViewport>{children}</ScrollViewport>
          <ScrollBar orientation="horizontal" />
        </ScrollArea>
      </figure>
    );
  },
);

export function CopyButton({
  className,
  onCopy,
  ...props
}: React.ComponentProps<typeof motion.button> & {
  onCopy: () => Promise<void>;
}) {
  const [copied, setCopied] = React.useState(false);

  const iconVariants = {
    initial: { opacity: 0, y: 10 },
    animate: { opacity: 1, y: 0 },
    exit: { opacity: 0, y: -10 },
  };

  const buttonVariants = {
    initial: { scale: 1 },
    hover: { scale: 1.05 },
    tap: { scale: 0.95 },
  };

  return (
    <motion.button
      onClick={() => {
        onCopy().then(() => {
          setCopied(true);
          setTimeout(() => setCopied(false), 2000);
        });
      }}
      className={cn(
        'p-2 rounded-md bg-muted text-muted-foreground hover:bg-muted-foreground/20 transition-all',
        className,
      )}
      variants={buttonVariants}
      transition={{ type: 'spring', stiffness: 500, damping: 30 }}
      whileHover="hover"
      whileTap="tap"
      aria-label={copied ? 'Copied!' : 'Copy code'}
      {...props}
    >
      <AnimatePresence mode="wait" initial={false}>
        {copied ? (
          <motion.div
            key="check"
            variants={iconVariants}
            initial="initial"
            animate="animate"
            exit="exit"
            transition={{ duration: 0.2 }}
          >
            <Check className="w-5 h-5" />
          </motion.div>
        ) : (
          <motion.div
            key="copy"
            variants={iconVariants}
            initial="initial"
            animate="animate"
            exit="exit"
            transition={{ duration: 0.2 }}
          >
            <Copy className="w-5 h-5" />
          </motion.div>
        )}
      </AnimatePresence>
    </motion.button>
  );
}



================================================
FILE: src/components/react/cv.tsx
================================================
import {
  Document,
  Font,
  Image,
  Link,
  Page,
  Path,
  Polygon,
  StyleSheet,
  Svg,
  Text,
  View,
} from '@react-pdf/renderer';

// Register fonts
Font.register({
  family: 'Inter',
  fonts: [
    {
      src: 'https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZg.ttf',
      fontStyle: 'normal',
    },
    {
      src: 'https://fonts.gstatic.com/s/inter/v19/UcCM3FwrK3iLTcvneQg7Ca725JhhKnNqk4j1ebLhAm8SrXTc2dtRipWA.ttf',
      fontStyle: 'italic',
    },
  ],
});

interface CVData {
  personalInfo: {
    name: string;
    title: string;
    email: string;
    phone: string;
    location: string;
    website?: string;
    profileImage?: string;
    quote?: string;
    quoteAuthor?: string;
  };
  socials: Array<{
    platform: string;
    handle: string;
    url?: string;
  }>;
  languages: Array<{
    name: string;
    level: string;
    flag?: string;
  }>;
  projects: Array<{
    name: string;
    description: string;
    url: string;
    icon?: string;
  }>;
  experience: Array<{
    title: string;
    company: string;
    duration: string;
    location: string;
    description: string;
    logo?: string;
    icon?: React.ComponentType<{ style?: Svg['props']['style'] }>;
  }>;
  education: Array<{
    course: string;
    institution: string;
    date: string;
    logo?: string;
    icon?: React.ComponentType<{ style?: Svg['props']['style'] }>;
  }>;
  skills: {
    development: string[];
    tools: string[];
  };
}

const defaultData: CVData = {
  personalInfo: {
    name: 'Pablo Hernández',
    title: 'Software Developer',
    email: 'hadronomy@gmail.com',
    phone: '(+32) 608 73 31 18',
    location: 'Canary Islands, Spain',
    website: 'https://hadronomy.com',
    quote: "Code is like humor. When you have to explain it, it's bad.",
    quoteAuthor: 'Cory House',
  },
  socials: [{ platform: 'Github', handle: '@hadronomy' }],
  languages: [
    { name: 'Spanish', level: 'Native' },
    { name: 'English', level: 'C1' },
  ],
  projects: [
    {
      name: 'RAM Language',
      description: 'RAM (Random Access Machine) language and emulator.',
      url: 'https://github.com/hadronomy/ram',
    },
    {
      name: 'VRPT-SWTS',
      description:
        'This project implements algorithms for the Vehicle Routing Problem with Transshipments for Solid Waste Collection with Transfer Stations (VRPT-SWTS).',
      url: 'https://github.com/hadronomy/VRPT-SWTS',
    },
  ],
  experience: [
    {
      title:
        'B.S. in Computer Engineering Student (Grado en Ingeniería Informática)',
      company: 'Universidad de La Laguna',
      duration: '2021 - 2025',
      location: 'Canary Islands, Spain',
      description:
        'Studied advanced algorithms, software architecture, and full-stack development. Participated in coding competitions and led student projects.',
      icon: UllIcon,
    },
    {
      title: 'Self-Taught Programmer',
      company: 'Self',
      duration: '2014 - Present',
      location: 'Various',
      description:
        'Over 10 years of continuous learning across all fields of programming. From web development to systems programming, exploring various languages, frameworks, and paradigms through personal projects and open-source contributions.',
      icon: GithubIcon,
    },
  ],
  education: [
    {
      course: 'B.S. in Computer Engineering (Grado en Ingeniería Informática)',
      institution: 'Universidad de La Laguna',
      date: '2021 - Present',
      icon: UllIcon,
    },
  ],
  skills: {
    development: [
      'TypeScript',
      'JavaScript',
      'React',
      'Rust',
      'Python',
      'C++',
      'Node.js',
      'Next.js',
      'Go',
      'Zig',
      'WebAssembly',
      'HTML',
      'CSS',
      'Astro',
      'Tailwind CSS',
      'Three.js',
    ],
    tools: [
      'Docker',
      'PostgreSQL',
      'Git',
      'Linux',
      'Kubernetes',
      'Prisma',
      'Vite',
      'Tauri',
    ],
  },
};

export function UllIcon(props: { style?: Svg['props']['style'] }) {
  return (
    <Svg
      id="Layer_1"
      width="1000px"
      height="783.73px"
      viewBox="0 0 1000 783.73"
      enable-background="new 0 0 1000 783.73"
      {...props}
    >
      <Polygon
        fill="#57068C"
        points="746.737,530.964 746.737,4.073 736.357,4.073 494.495,235.557 494.495,530.964 257.835,530.964 
	257.835,4.073 245.727,4.073 5.607,235.557 5.607,777.992 205.979,777.992 257.835,777.992 494.495,549.968 494.495,777.992 
	694.894,777.992 746.737,777.992 993.764,541.29 993.764,530.964 "
      />
    </Svg>
  );
}

export function GithubIcon(props: { style?: Svg['props']['style'] }) {
  return (
    <Svg
      width="1024"
      height="1024"
      viewBox="0 0 1024 1024"
      fill="none"
      {...props}
    >
      <Path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"
        transform="scale(64)"
        fill="#0000"
      />
    </Svg>
  );
}

export function CVDocument({ data = defaultData }: { data?: CVData }) {
  return (
    <Document>
      <Page size="A4" style={styles.page}>
        {/* Left Sidebar */}
        <View style={styles.sidebar}>
          {/* Profile Section */}
          <View style={styles.profileSection}>
            <View style={styles.profileImageContainer}>
              <Image
                style={styles.profileImagePlaceholder}
                src="https://github.com/hadronomy.png"
              />
            </View>
            <Text style={styles.name}>{data.personalInfo.name}</Text>
            <Text style={styles.title}>{data.personalInfo.title}</Text>
          </View>

          {/* Quote */}
          {data.personalInfo.quote && (
            <View style={styles.quoteSection}>
              <Text style={styles.quote}>"{data.personalInfo.quote}"</Text>
              <Text style={styles.quoteAuthor}>
                {data.personalInfo.quoteAuthor}
              </Text>
            </View>
          )}

          {/* Description */}
          <View style={styles.descriptionSection}>
            <Text style={styles.descriptionText}>
              Proven ability to quickly adapt to new technologies and deliver
              innovative solutions. Seeking opportunities to contribute
              technical expertise and problem-solving skills to challenging
              projects in a professional environment.
            </Text>
          </View>

          {/* Contact */}
          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Email</Text>
            <Text style={styles.contactText}>{data.personalInfo.email}</Text>
          </View>

          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Website</Text>
            <Text style={styles.contactText}>{data.personalInfo.website}</Text>
          </View>

          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Phone</Text>
            <Text style={styles.contactText}>{data.personalInfo.phone}</Text>
          </View>

          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Address</Text>
            <Text style={styles.contactText}>{data.personalInfo.location}</Text>
          </View>

          {/* Socials */}
          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Socials</Text>
            {data.socials.map((social) => (
              <View
                key={`${social.platform}-${social.handle}`}
                style={styles.socialItem}
              >
                <Text style={styles.socialPlatform}>{social.platform}</Text>
                <Text style={styles.socialHandle}>{social.handle}</Text>
              </View>
            ))}
          </View>

          {/* Languages */}
          <View style={styles.section}>
            <Text style={styles.sectionTitle}>Languages</Text>
            {data.languages.map((language) => (
              <View key={language.name} style={styles.languageItem}>
                <Text style={styles.languageName}>{language.name}</Text>
                <Text style={styles.languageLevel}>{language.level}</Text>
              </View>
            ))}
          </View>
        </View>

        {/* Main Content */}
        <View style={styles.main}>
          {/* Self description */}
          <View style={styles.mainSection}>
            <Text style={styles.mainSectionTitle}>About</Text>
            <Text style={styles.aboutText}>
              Passionate software developer with over 10 years of self-directed
              learning and hands-on experience across multiple programming
              languages and technologies. Currently pursuing a Computer Science
              degree while maintaining expertise in full-stack development,
              systems programming, and modern frameworks.
            </Text>
          </View>
          {/* Latest Projects */}
          <View style={styles.mainSection}>
            <Text style={styles.mainSectionTitle}>Latest projects</Text>
            <View style={styles.projectsGrid}>
              {data.projects.map((project) => (
                <Link
                  key={project.name}
                  src={project.url}
                  style={styles.projectCardLink}
                >
                  <View style={[styles.projectCard, { minHeight: 100 }]}>
                    <GithubIcon style={styles.projectIcon} />
                    <View
                      style={[
                        styles.projectContent,
                        { justifyContent: 'space-between' },
                      ]}
                    >
                      <View>
                        <Text style={styles.projectName}>{project.name}</Text>
                        <Text style={styles.projectDescription}>
                          {project.description}
                        </Text>
                      </View>
                      <Text style={styles.projectUrl}>{project.url}</Text>
                    </View>
                  </View>
                </Link>
              ))}
            </View>
          </View>

          {/* Experience */}
          <View style={styles.mainSection}>
            <Text style={styles.mainSectionTitle}>Experience</Text>
            <View style={styles.timelineContainer}>
              {/* Timeline background line */}
              <View style={styles.timelineBackgroundLine} />
              {data.experience.map((exp) => (
                <View
                  key={`${exp.company}-${exp.title}-${exp.duration}`}
                  style={styles.timelineItem}
                >
                  <View style={styles.timelineLeft}>
                    <View style={styles.timelineDotContainer}>
                      <View style={styles.timelineDotBackground} />
                      <View style={styles.timelineDot} />
                    </View>
                  </View>
                  <View style={styles.experienceItem}>
                    <View style={styles.experienceHeader}>
                      {exp.icon ? (
                        <exp.icon style={styles.companyLogo} />
                      ) : (
                        <View
                          style={[
                            styles.companyLogo,
                            { backgroundColor: '#e9ecef' },
                          ]}
                        />
                      )}
                      <View style={styles.experienceDetails}>
                        <Text style={styles.experienceTitle}>{exp.title}</Text>
                        <Text style={styles.experienceCompany}>
                          {exp.company}
                        </Text>
                      </View>
                      <View style={styles.experienceMetadata}>
                        <Text style={styles.experienceDuration}>
                          {exp.duration}
                        </Text>
                        <Text style={styles.experienceLocation}>
                          {exp.location}
                        </Text>
                      </View>
                    </View>
                    <Text style={styles.experienceDescription}>
                      {exp.description}
                    </Text>
                  </View>
                </View>
              ))}
            </View>
          </View>

          {/* Education */}
          <View style={styles.mainSection}>
            <Text style={styles.mainSectionTitle}>Education</Text>
            <View style={styles.timelineContainer}>
              {/* Timeline background line */}
              <View style={styles.timelineBackgroundLine} />
              {data.education.map((edu) => (
                <View
                  key={`${edu.institution}-${edu.course}-${edu.date}`}
                  style={styles.timelineItem}
                >
                  <View style={styles.timelineLeft}>
                    <View style={styles.timelineDotContainer}>
                      <View style={styles.timelineDotBackground} />
                      <View style={styles.timelineDot} />
                    </View>
                  </View>
                  <View style={styles.educationItem}>
                    <View style={styles.educationHeader}>
                      {edu.icon ? (
                        <edu.icon style={styles.educationLogo} />
                      ) : (
                        <View
                          style={[
                            styles.educationLogo,
                            { backgroundColor: '#e9ecef' },
                          ]}
                        />
                      )}
                      <View style={styles.educationDetails}>
                        <Text style={styles.educationCourse}>{edu.course}</Text>
                        <Text style={styles.educationInstitution}>
                          {edu.institution}
                        </Text>
                      </View>
                      <View style={styles.educationMetadata}>
                        <Text style={styles.educationDate}>{edu.date}</Text>
                      </View>
                    </View>
                  </View>
                </View>
              ))}
            </View>
          </View>

          {/* Skills */}
          <View style={styles.mainSection}>
            <Text style={styles.mainSectionTitle}>Skills</Text>
            <View style={styles.skillsContainer}>
              {Object.entries(data.skills).map(([categoryKey, skillList]) => (
                <View key={categoryKey} style={styles.skillCategory}>
                  <Text style={styles.skillCategoryTitle}>
                    {categoryKey.charAt(0).toUpperCase() + categoryKey.slice(1)}
                  </Text>
                  <View style={styles.skillTags}>
                    {skillList.map((skill) => (
                      <Text key={skill} style={styles.skillTag}>
                        {skill}
                      </Text>
                    ))}
                  </View>
                </View>
              ))}
            </View>
          </View>
        </View>
      </Page>
    </Document>
  );
}

const styles = StyleSheet.create({
  page: {
    flexDirection: 'row',
    backgroundColor: '#ffffff',
    fontFamily: 'Inter',
    fontSize: 8,
  },

  // Sidebar styles
  sidebar: {
    width: '35%',
    backgroundColor: '#f8f9fa',
    padding: 16,
  },

  profileSection: {
    alignItems: 'flex-start',
    marginBottom: 20,
  },

  profileImageContainer: {
    marginBottom: 10,
    width: '100%',
  },

  profileImagePlaceholder: {
    width: 80,
    height: 80,
    borderRadius: 8,
    backgroundColor: '#e9ecef',
    objectFit: 'cover',
  },

  name: {
    fontSize: 18,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 2,
  },

  title: {
    fontSize: 11,
    color: '#6f42c1',
    fontWeight: 500,
  },

  descriptionSection: {
    marginBottom: 20,
  },

  descriptionText: {
    fontSize: 9,
    color: '#495057',
    lineHeight: 1.4,
  },

  quoteSection: {
    marginBottom: 20,
    paddingLeft: 12,
    borderLeft: '2px solid #6f42c1',
  },

  quote: {
    fontSize: 9,
    fontStyle: 'italic',
    color: '#495057',
    marginBottom: 4,
    lineHeight: 1.3,
  },

  quoteAuthor: {
    fontSize: 8,
    color: '#6c757d',
  },

  section: {
    marginBottom: 16,
  },

  sectionTitle: {
    fontSize: 10,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 6,
  },

  contactText: {
    fontSize: 8,
    color: '#495057',
    lineHeight: 1.3,
  },

  socialItem: {
    marginBottom: 4,
  },

  socialPlatform: {
    fontSize: 8,
    fontWeight: 500,
    color: '#212529',
  },

  socialHandle: {
    fontSize: 7,
    color: '#6c757d',
  },

  languageItem: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 4,
  },

  languageName: {
    fontSize: 8,
    color: '#212529',
    fontWeight: 500,
  },

  languageLevel: {
    fontSize: 7,
    color: '#6c757d',
  },

  // Main content styles
  main: {
    width: '65%',
    padding: 16,
  },

  mainSection: {
    marginBottom: 20,
  },

  mainSectionTitle: {
    fontSize: 12,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 10,
  },

  // Projects
  projectsGrid: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 8,
  },

  projectCardLink: {
    width: '47%',
    textDecoration: 'none',
  },

  projectCard: {
    flexDirection: 'row',
    backgroundColor: '#ffffff',
    borderRadius: 6,
    padding: 10,
    border: '1px solid #e9ecef',
    width: '100%',
  },

  projectIcon: {
    width: 28,
    height: 28,
    borderRadius: 6,
    marginRight: 8,
  },

  projectContent: {
    flex: 1,
  },

  projectName: {
    fontSize: 9,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 2,
  },

  projectDescription: {
    fontSize: 7,
    color: '#6c757d',
    lineHeight: 1.2,
    marginBottom: 4,
  },

  projectUrl: {
    fontSize: 7,
    color: '#6f42c1',
  },

  // Experience
  timelineContainer: {
    position: 'relative',
  },

  timelineBackgroundLine: {
    position: 'absolute',
    left: 9,
    top: 0,
    bottom: 0,
    width: 2,
    backgroundColor: '#e9ecef',
  },

  timelineItem: {
    flexDirection: 'row',
    marginBottom: 16,
    position: 'relative',
  },

  timelineLeft: {
    width: 20,
    alignItems: 'center',
    marginRight: 12,
    position: 'relative',
  },

  timelineDotContainer: {
    position: 'relative',
    width: 14,
    height: 14,
    justifyContent: 'center',
    alignItems: 'center',
  },

  timelineDotBackground: {
    position: 'absolute',
    top: 0,
    left: 0,
    width: 14,
    height: 14,
    backgroundColor: '#ffffff',
    borderRadius: 7,
  },

  timelineDot: {
    position: 'absolute',
    top: 3,
    left: 3,
    width: 8,
    height: 8,
    backgroundColor: '#6f42c1',
    borderRadius: 4,
  },

  experienceItem: {
    flex: 1,
  },

  experienceHeader: {
    flexDirection: 'row',
    alignItems: 'flex-start',
    marginBottom: 4,
  },

  companyLogo: {
    width: 24,
    height: 24,
    borderRadius: 4,
    marginRight: 8,
  },

  experienceDetails: {
    flex: 1,
  },

  experienceTitle: {
    fontSize: 10,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 1,
  },

  experienceCompany: {
    fontSize: 9,
    color: '#6f42c1',
    fontWeight: 500,
  },

  experienceMetadata: {
    alignItems: 'flex-end',
  },

  experienceDuration: {
    fontSize: 7,
    color: '#6c757d',
    marginBottom: 1,
  },

  experienceLocation: {
    fontSize: 7,
    color: '#6c757d',
  },

  experienceDescription: {
    fontSize: 8,
    color: '#495057',
    lineHeight: 1.3,
    marginLeft: 32,
  },

  // Education
  educationItem: {
    flex: 1,
  },

  educationHeader: {
    flexDirection: 'row',
    alignItems: 'flex-start',
    marginBottom: 4,
  },

  educationLogo: {
    width: 24,
    height: 24,
    borderRadius: 4,
    marginRight: 8,
  },

  educationDetails: {
    flex: 1,
  },

  educationCourse: {
    fontSize: 10,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 1,
  },

  educationInstitution: {
    fontSize: 9,
    color: '#6f42c1',
    fontWeight: 500,
  },

  educationMetadata: {
    alignItems: 'flex-end',
  },

  educationDate: {
    fontSize: 7,
    color: '#6c757d',
  },

  // Skills
  skillsContainer: {
    gap: 10,
  },

  skillCategory: {
    marginBottom: 10,
  },

  skillCategoryTitle: {
    fontSize: 10,
    fontWeight: 600,
    color: '#212529',
    marginBottom: 6,
  },

  skillTags: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 4,
  },

  skillTag: {
    fontSize: 7,
    color: '#6f42c1',
    backgroundColor: '#f8f9ff',
    paddingHorizontal: 6,
    paddingVertical: 2,
    borderRadius: 8,
    border: '1px solid #e0e7ff',
  },

  // About section
  aboutText: {
    fontSize: 10,
    color: '#495057',
    lineHeight: 1.4,
  },
});



================================================
FILE: src/components/react/grass-material.ts
================================================
import {
  abs,
  attribute,
  cameraProjectionMatrix,
  color,
  cos,
  cross,
  dot,
  Fn,
  float,
  floor,
  max,
  mix,
  modelViewMatrix,
  normalize,
  normalLocal,
  normalView,
  positionView,
  pow,
  sin,
  smoothstep,
  time,
  uniform,
  uv,
  varying,
  vec2,
  vec3,
  vec4,
} from 'three/tsl';
import * as THREE from 'three/webgpu';
import type { Node } from '~/components/react/nodes/types';
import { fbm, noise2D, snoise } from './nodes';
import { createNodeMaterial } from './nodes/utils';
import { getTerrainHeight } from './terrain-material';

// Create TSL-based grass material
export const grassNodeMaterial = createNodeMaterial((material) => {
  const position = attribute('position', 'vec3');
  const offset = attribute('offset', 'vec3');
  const orientation = attribute('orientation', 'vec4');
  const halfRootAngleSin = attribute('halfRootAngleSin', 'float');
  const halfRootAngleCos = attribute('halfRootAngleCos', 'float');

  const vPosition = varying(vec3(), 'vPosition');
  const vNormal = varying(vec3(), 'vNormal');
  const vUv = varying(vec3(), 'vUv');

  // Define uniforms
  const ambientStrength = uniform(0.7);
  const diffuseStrength = uniform(1.5);
  const specularStrength = uniform(1.0);
  const translucencyStrength = uniform(1.5);
  const shininess = uniform(120);
  const sunColour = uniform(new THREE.Color(1.0, 1.0, 1.0));
  const lightDirection = uniform(new THREE.Vector3(1.0, 0.0, 0.0).normalize());

  // Quaternion multiplication function
  const qmul = Fn<[Node, Node]>(([q1, q2]) => {
    return vec4(
      q1.w
        .mul(q2.x)
        .add(q1.x.mul(q2.w))
        .add(q1.z.mul(q2.y))
        .sub(q1.y.mul(q2.z)),
      q1.w
        .mul(q2.y)
        .add(q1.y.mul(q2.w))
        .add(q1.x.mul(q2.z))
        .sub(q1.z.mul(q2.x)),
      q1.w
        .mul(q2.z)
        .add(q1.z.mul(q2.w))
        .add(q1.y.mul(q2.x))
        .sub(q1.x.mul(q2.y)),
      q1.w
        .mul(q2.w)
        .sub(q1.x.mul(q2.x))
        .sub(q1.y.mul(q2.y))
        .sub(q1.z.mul(q2.z)),
    );
  });

  // Rotate a vector using a quaternion
  const applyQuaternion = Fn<[Node, Node]>(([v, q]) => {
    const temp = cross(q.xyz, v).mul(2.0);
    return v.add(temp.mul(q.w)).add(cross(q.xyz, temp));
  });

  // Position transformation for vertex shader
  const transformPosition = Fn(() => {
    vUv.assign(uv());

    // Root rotation based on angle attributes
    const rootQ = vec4(0.0, halfRootAngleSin, 0.0, halfRootAngleCos);

    // Combine with orientation quaternion
    const combinedQ = qmul(orientation, rootQ);

    // Scale and transform position
    const transformedPos = applyQuaternion(position.xyz, combinedQ).add(offset);

    // Sample terrain height at the grass position and adjust Y
    const terrainHeight = getTerrainHeight(transformedPos.xz);
    transformedPos.y.assign(transformedPos.y.add(terrainHeight));

    vPosition.assign(transformedPos);

    // Apply wind effect
    const windStrength = float(0.3);
    const windFrequency = float(0.5);
    const windEffect = pow(position.y, 2.0).mul(windStrength);
    const windTime = time.mul(windFrequency);

    // Calculate noise for natural movement
    const noiseValue = noise2D(
      vec2(vPosition.x.add(windTime), vPosition.z.add(windTime.mul(0.5))),
    );

    // Wind displacement
    const windDisplacement = vec3(
      sin(windTime.add(vPosition.x.mul(0.5)))
        .mul(noiseValue)
        .mul(windEffect),
      0.0,
      cos(windTime.mul(0.7).add(vPosition.z.mul(0.5)))
        .mul(noiseValue)
        .mul(windEffect),
    );

    // Apply wind only to upper parts of blade
    const windFactor = smoothstep(0.2, 0.6, position.y);
    vPosition.assign(vPosition.add(windDisplacement.mul(windFactor)));

    vNormal.assign(applyQuaternion(normalLocal, combinedQ));

    return cameraProjectionMatrix
      .mul(modelViewMatrix)
      .mul(vec4(vPosition, 1.0));
  });

  // Color calculation for fragment shader
  const calculateColor = Fn(() => {
    const uvValue = vUv;
    return calculateGrassColor(vPosition, uvValue);
  });

  // Lighting calculation
  const calculateLighting = Fn<[Node]>(([baseColor]) => {
    // Normalize vectors
    const normal = normalize(normalView);
    const lightDir = normalize(lightDirection);

    // Ambient light
    const ambient = baseColor.mul(ambientStrength);

    // Diffuse (Lambert)
    const diff = max(dot(normal, lightDir), 0.0);
    const diffuse = diff.mul(diffuseStrength).mul(sunColour).mul(baseColor);

    // Specular (Blinn-Phong)
    const viewDir = normalize(positionView.negate());
    const halfDir = normalize(lightDir.add(viewDir));
    const spec = pow(max(dot(normal, halfDir), 0.0), shininess);
    const specular = spec.mul(specularStrength).mul(sunColour);

    // Translucency
    const translucency = max(0.0, dot(normal, lightDir).negate()).mul(
      translucencyStrength,
    );
    const transLight = translucency.mul(sunColour).mul(baseColor);

    // Combine lighting
    return ambient.add(diffuse).add(specular).add(transLight);
  });

  // Apply the transformations
  const transformedPosition = transformPosition();
  material.vertexNode = transformedPosition;

  // Get base color and lighting
  const baseColor = calculateColor();
  const finalColor = calculateLighting(baseColor);

  // Set material properties
  // TODO: Implement alpha handling similar to GLSL (alphaMap + fallback) instead of hardcoded 1.0
  material.fragmentNode = vec4(finalColor, 1.0);
  material.alphaTestNode = float(0.1);

  // Material settings
  material.side = THREE.DoubleSide;
  material.transparent = false;

  return material;
});

// Export the grass color calculation for reuse in terrain
export const calculateGrassColor = Fn<[Node, Node]>(([position, uvValue]) => {
  // Grass color parameters
  const bottomColor = uniform(color('#339933'));
  const topColor = uniform(color('#66a61a'));
  const darkPatchColor = uniform(color('#1a801a'));
  const lightPatchColor = uniform(color('#8cbf00'));

  // Noise control parameters
  const noiseScale = uniform(0.05);
  const noiseQuantize = uniform(4.0);
  const noiseMixStrength = uniform(0.5);
  const edgeHighlightStrength = uniform(0.01);
  const colorVariation = uniform(0.8);

  // Calculate moving noise pattern
  const moveSpeed = float(0.2);

  // Create coordinates for noise - only using X and Z to keep color consistent throughout the blade height
  const noisePos = vec2(
    position.x.mul(noiseScale).add(time.mul(moveSpeed)),
    position.z.mul(noiseScale).add(time.mul(moveSpeed).mul(0.7)),
  );

  // Multi-layered noise
  const noise1 = snoise(noisePos);
  const noise2 = snoise(noisePos.mul(2.0)).mul(0.5);
  const noise3 = snoise(noisePos.mul(4.0)).mul(0.25);

  // Combined noise
  const combinedNoise = noise1.add(noise2).add(noise3);

  // Static noise - also using world position
  const staticNoiseScale = float(0.1);
  const staticNoisePos = vec2(
    position.x.mul(staticNoiseScale),
    position.z.mul(staticNoiseScale),
  );

  // Multi-layered static noise
  const staticNoise1 = snoise(staticNoisePos);
  const staticNoise2 = snoise(staticNoisePos.mul(3.0)).mul(0.4);
  const staticNoise3 = snoise(staticNoisePos.mul(6.0)).mul(0.2);

  // Combine static noise
  const combinedStaticNoise = staticNoise1.add(staticNoise2).add(staticNoise3);

  // Blend moving and static noise
  const finalNoise = combinedNoise.mul(0.6).add(combinedStaticNoise.mul(0.4));

  // Brightness variation
  const brightnessVariation = finalNoise.mul(0.2).add(0.9);

  // FBM noise for color variation
  const fbmCoord = vec2(
    position.x.mul(noiseScale),
    position.z.mul(noiseScale),
  ).add(vec2(15.5, 7.2));
  const fbmValue = fbm(fbmCoord, float(5), float(2.0), float(0.5));

  // Quantize noise
  const quantizedNoise = floor(fbmValue.mul(noiseQuantize)).div(noiseQuantize);

  // Height gradient
  const heightGradient = uvValue.y;

  // Base colors with noise
  const baseBottomColor = mix(
    bottomColor,
    darkPatchColor,
    quantizedNoise.mul(colorVariation),
  );
  const baseTopColor = mix(
    topColor,
    lightPatchColor,
    quantizedNoise.mul(colorVariation),
  );

  // Gradient color
  const gradientColor = mix(
    baseTopColor,
    baseBottomColor,
    heightGradient,
  ).toVar();

  // Apply noise-based color
  const noiseColor = mix(darkPatchColor, lightPatchColor, fbmValue).toVar();
  gradientColor.assign(mix(gradientColor, noiseColor, noiseMixStrength));

  // Edge highlighting
  const edgeHighlight = smoothstep(
    0.2,
    0.3,
    abs(fbmValue.sub(0.5)).mul(2.0),
  ).mul(edgeHighlightStrength);
  gradientColor.addAssign(vec3(edgeHighlight));

  const grassColor = gradientColor.toVar();
  grassColor.mulAssign(brightnessVariation);

  // Root darkening
  const rootDarkening = float(1.0).sub(
    pow(max(0.0, uvValue.y.mul(1.3)), 2.0).mul(0.5),
  );
  grassColor.mulAssign(rootDarkening);

  return grassColor;
});



================================================
FILE: src/components/react/grass.tsx
================================================
import {
  AdaptiveDpr,
  OrbitControls,
  PerformanceMonitor,
  Plane,
  StatsGl,
  useGLTF,
} from '@react-three/drei';
import { Canvas, extend } from '@react-three/fiber';
import type React from 'react';
import { Suspense, useEffect, useMemo, useState } from 'react';
import { DEG2RAD } from 'three/src/math/MathUtils.js';
import * as THREE from 'three/webgpu';

import { grassNodeMaterial } from './grass-material';
import { gridNodeMaterial } from './grid-material';
import { terrainNodeMaterial } from './terrain-material';

declare global {
  namespace JSX {
    interface IntrinsicElements {
      nodeMaterial: any;
      instancedBufferAttribute: any;
    }
  }
}

extend(THREE as any);

export interface GrassViewProps extends React.ComponentProps<typeof Canvas> {
  showStats?: boolean;
}

export function GrassView(props: GrassViewProps) {
  const {
    children,
    camera = {
      position: [0, 2, 5],
      rotation: [-0.0001, 0, 0],
      fov: 35,
      near: 0.001,
      far: 1000,
    },
    showStats,
    ...rest
  } = props;

  const [dpr, setDpr] = useState(1);
  const [isHovering, setIsHovering] = useState(false);

  // High-level states for the loading sequence
  const [isGPUReady, setIsGPUReady] = useState(false);
  const [showScene, setShowScene] = useState(false);

  // Trigger visual fade-in shortly after GPU reports ready
  useEffect(() => {
    if (isGPUReady) {
      const timeout = setTimeout(() => setShowScene(true), 100);
      return () => clearTimeout(timeout);
    }
  }, [isGPUReady]);

  return (
    <div
      style={{
        position: 'relative',
        width: '100%',
        height: '100%',
        backgroundColor: '#030304',
        overflow: 'hidden',
      }}
    >
      {/* Visual Overlay for Blur/Fade effect */}
      <div
        style={{
          position: 'absolute',
          inset: 0,
          zIndex: 10,
          pointerEvents: 'none',
          backdropFilter: showScene ? 'blur(0px)' : 'blur(20px)',
          backgroundColor: showScene ? 'rgba(0,0,0,0)' : 'rgba(3, 3, 4, 1)',
          transition: 'backdrop-filter 1.5s ease, background-color 1.2s ease',
        }}
      />

      <Canvas
        // Modern WebGPU Pattern
        gl={async (canvasProps) => {
          const renderer = new THREE.WebGPURenderer(canvasProps as any);
          await renderer.init();
          return renderer;
        }}
        frameloop={
          !isGPUReady
            ? 'never'
            : showScene && !isHovering && !showStats
              ? 'demand'
              : 'always'
        }
        camera={camera}
        dpr={dpr}
        onPointerEnter={() => setIsHovering(true)}
        onPointerLeave={() => setIsHovering(false)}
        // onCreated ensures the renderer is finished and the domElement exists
        onCreated={() => setIsGPUReady(true)}
        style={{
          opacity: showScene ? 1 : 0,
          transform: showScene ? 'scale(1)' : 'scale(1.05)',
          transition: 'opacity 1.5s ease, transform 2s ease-out',
        }}
        {...rest}
      >
        <PerformanceMonitor
          onDecline={() => setDpr((prev) => Math.max(0.5, prev * 0.75))}
          onIncline={() => setDpr((prev) => Math.min(2, prev * 1.1))}
        />

        {isGPUReady && (
          <Suspense fallback={null}>
            <SceneContent showStats={showStats}>{children}</SceneContent>
          </Suspense>
        )}
      </Canvas>
    </div>
  );
}

/**
 * Scene Logic
 * Only rendered once isGPUReady is true
 */
function SceneContent({
  children,
  showStats,
}: {
  children?: React.ReactNode;
  showStats?: boolean;
}) {
  return (
    <>
      <AdaptiveDpr pixelated />
      <ambientLight intensity={0.5} />
      <directionalLight position={[10, 10, 5]} intensity={1.5} castShadow />

      <Grass instances={150000} />

      {showStats && (
        <>
          <StatsGl className="absolute top-0 left-0" />
          <WorldPlane />
          <OrbitControls makeDefault />
        </>
      )}
      {children}
    </>
  );
}

export function WorldPlane() {
  const material = useMemo(() => gridNodeMaterial(), []);
  return (
    <Plane
      position={[0, 0, 0]}
      scale={[1000, 1000, 0]}
      rotation={[-90 * DEG2RAD, 0, 0]}
    >
      <primitive object={material} attach="material" />
    </Plane>
  );
}

interface GrassProps {
  instances?: number;
}

export function Grass({ instances = 5000 }: GrassProps) {
  const { nodes } = useGLTF('/anime-grass.glb');
  const bladeMesh = nodes.GrassBlade as THREE.Mesh;
  const width = 100;

  const baseGeometry = useMemo(() => {
    const geo = bladeMesh.geometry.clone();
    geo.computeBoundingBox();
    const minY = geo.boundingBox!.min.y;
    geo.translate(0, -minY, 0);
    return geo;
  }, [bladeMesh]);

  const terrainGeo = useMemo(() => {
    const geo = new THREE.PlaneGeometry(width, width, 128, 128);
    geo.rotateX(-Math.PI * 0.5);
    return geo;
  }, [width]);

  const grassMaterial = useMemo(() => grassNodeMaterial(), []);
  const terrainMaterial = useMemo(() => terrainNodeMaterial(), []);

  const attributeData = useMemo(
    () => getAttributeData(instances, width),
    [instances, width],
  );

  return (
    <group>
      <mesh geometry={terrainGeo} receiveShadow>
        <primitive object={terrainMaterial} attach="material" />
      </mesh>

      <mesh frustumCulled={false}>
        <instancedBufferGeometry
          index={baseGeometry.index}
          instanceCount={instances}
          attributes-position={baseGeometry.attributes.position}
          attributes-uv={baseGeometry.attributes.uv}
          attributes-normal={baseGeometry.attributes.normal}
        >
          <instancedBufferAttribute
            attach="attributes-offset"
            args={[attributeData.offsets, 3]}
          />
          <instancedBufferAttribute
            attach="attributes-orientation"
            args={[attributeData.orientations, 4]}
          />
          <instancedBufferAttribute
            attach="attributes-halfRootAngleSin"
            args={[attributeData.halfRootAngleSin, 1]}
          />
          <instancedBufferAttribute
            attach="attributes-halfRootAngleCos"
            args={[attributeData.halfRootAngleCos, 1]}
          />
        </instancedBufferGeometry>
        <primitive object={grassMaterial} attach="material" />
      </mesh>
    </group>
  );
}

function getAttributeData(instances: number, width: number) {
  const offsets = new Float32Array(instances * 3);
  const orientations = new Float32Array(instances * 4);
  const halfRootAngleSin = new Float32Array(instances);
  const halfRootAngleCos = new Float32Array(instances);

  const _q = new THREE.Quaternion();
  const _e = new THREE.Euler();
  const cells = Math.ceil(Math.sqrt(instances));
  const cellSize = width / cells;

  for (let i = 0; i < instances; i++) {
    const i3 = i * 3;
    const i4 = i * 4;

    const x =
      (i % cells) * cellSize - width / 2 + (Math.random() - 0.5) * cellSize;
    const z =
      Math.floor(i / cells) * cellSize -
      width / 2 +
      (Math.random() - 0.5) * cellSize;

    offsets[i3] = x;
    offsets[i3 + 1] = 0;
    offsets[i3 + 2] = z;

    const angle = Math.random() * Math.PI * 2;
    halfRootAngleSin[i] = Math.sin(angle * 0.5);
    halfRootAngleCos[i] = Math.cos(angle * 0.5);

    _e.set((Math.random() - 0.5) * 0.4, 0, (Math.random() - 0.5) * 0.4);
    _q.setFromEuler(_e);
    orientations[i4] = _q.x;
    orientations[i4 + 1] = _q.y;
    orientations[i4 + 2] = _q.z;
    orientations[i4 + 3] = _q.w;
  }

  return { offsets, orientations, halfRootAngleSin, halfRootAngleCos };
}

useGLTF.preload('/anime-grass.glb');



================================================
FILE: src/components/react/grid-material.ts
================================================
import {
  Fn,
  abs,
  cameraPosition,
  color,
  dFdx,
  dFdy,
  float,
  fract,
  length,
  max,
  min,
  mix,
  positionLocal,
  positionWorld,
  saturate,
  smoothstep,
  uniform,
  vec2,
  vec4,
} from 'three/tsl';
import * as THREE from 'three/webgpu';

import type { Node } from '~/components/react/nodes/types';
import { createNodeMaterial } from './nodes/utils';

export const gridNodeMaterial = createNodeMaterial((material) => {
  const CROSS_GRID_SCALE = float(300.0); // Controls cross density, not size
  const MAIN_LINE_GRID_SCALE = float(100.0); // Bigger cells for main lines

  // Fixed cross size in world space (independent of grid scale)
  const CROSS_SIZE_WORLD = float(0.0005); // Fixed world space size
  const CROSS_ARM_LENGTH_REL = float(0.5);
  const CROSS_STROKE_WIDTH_REL = float(0.12);

  const MAIN_LINE_THICKNESS = float(0.005); // Much thinner relative thickness

  // Distance fade parameters
  const FADE_START_DISTANCE = float(100.0); // Distance where fade starts
  const FADE_END_DISTANCE = float(500.0); // Distance where grid is completely invisible

  // Colors
  const BG_COLOR = uniform(color(0.03, 0.03, 0.04));
  const CROSS_COLOR = uniform(color(0.3, 0.3, 0.9));
  const MAIN_LINE_COLOR = uniform(color(0.95, 0.95, 0.95)); // Explicit white

  const sdfBox = Fn<[Node, Node]>(([p, b]) => {
    const d = abs(p).sub(b);
    return length(max(d, float(0.0))).add(min(max(d.x, d.y), float(0.0)));
  });

  // Screen-space anti-aliasing helper
  const getScreenSpaceAA = Fn<[Node]>(([coord]) => {
    const dfdx = dFdx(coord);
    const dfdy = dFdy(coord);
    const fw = length(vec2(dfdx.x, dfdy.x));
    return fw;
  });

  // Use world space for consistent positioning
  const worldUV = positionLocal.xy.toVar('worldUV');

  // Create grid in world space for crosses (smaller cells) - offset by 0.5 to align with main grid corners
  const crossGridUV = worldUV
    .mul(CROSS_GRID_SCALE)
    .add(float(0.5))
    .toVar('crossGridUV');
  const crossCellUV = fract(crossGridUV).toVar('crossCellUV');
  const pCross = crossCellUV.sub(float(0.5)).toVar('pCross');

  // Screen-space derivatives for cross grid
  const crossAA = getScreenSpaceAA(crossGridUV).toVar('crossAA');

  // Fixed cross size with screen-space compensation
  const armLenHalf = CROSS_SIZE_WORLD.mul(CROSS_ARM_LENGTH_REL)
    .div(float(2.0))
    .mul(CROSS_GRID_SCALE)
    .toVar('armLenHalf');
  const strokeWidthHalf = CROSS_SIZE_WORLD.mul(CROSS_STROKE_WIDTH_REL)
    .div(float(2.0))
    .mul(CROSS_GRID_SCALE)
    .toVar('strokeWidthHalf');

  const sdfHBar = sdfBox(pCross, vec2(armLenHalf, strokeWidthHalf)).toVar(
    'sdfHBar',
  );
  const sdfVBar = sdfBox(pCross, vec2(strokeWidthHalf, armLenHalf)).toVar(
    'sdfVBar',
  );

  const crossSDF = min(sdfHBar, sdfVBar).toVar('crossSDF');
  const crossMask = float(1.0)
    .sub(smoothstep(crossAA.negate(), crossAA, crossSDF))
    .toVar('crossMask');

  // Create grid for main lines (bigger cells)
  const mainLineGridUV = worldUV
    .mul(MAIN_LINE_GRID_SCALE)
    .toVar('mainLineGridUV');

  // Convert sawtooth wave (fract) to triangle wave for better antialiasing
  const mainLineFractUV = fract(mainLineGridUV).toVar('mainLineFractUV');
  const mainLineTriangleUV = abs(mainLineFractUV.sub(float(0.5))).toVar(
    'mainLineTriangleUV',
  );

  // Create grid gradient that goes from 0 at edges to 0.5 at center
  const mainLineGradient = float(0.5)
    .sub(mainLineTriangleUV)
    .toVar('mainLineGradient');

  // Use fwidth for proper screen-space derivatives
  const mainLineFW = length(
    vec2(dFdx(mainLineGridUV.x), dFdy(mainLineGridUV.x)),
  ).toVar('mainLineFW');

  // Main line thickness in grid space with minimum thickness for antialiasing
  const baseThickness = MAIN_LINE_THICKNESS.mul(float(0.5)).toVar(
    'baseThickness',
  );
  const minThickness = mainLineFW.mul(float(0.5)).toVar('minThickness');
  const mainLineThickness = max(baseThickness, minThickness).toVar(
    'mainLineThickness',
  );

  // Apply antialiasing formula: saturate((thickness - gradient) / fwidth + 0.5)
  const mainLinesX = saturate(
    mainLineThickness.sub(mainLineGradient.x).div(mainLineFW).add(float(0.5)),
  ).toVar('mainLinesX');

  const mainLinesY = saturate(
    mainLineThickness.sub(mainLineGradient.y).div(mainLineFW).add(float(0.5)),
  ).toVar('mainLinesY');

  // Combine X and Y lines
  const mainLinesMask = max(mainLinesX, mainLinesY).toVar('mainLinesMask');

  // Layer the elements - crosses on top of main lines
  const finalColor = BG_COLOR;
  const mix1Color = mix(finalColor, MAIN_LINE_COLOR, mainLinesMask).toVar(
    'mix1Color',
  );
  const mix2Color = mix(mix1Color, CROSS_COLOR, crossMask).toVar('mix2Color');

  // Calculate distance from camera for fade
  const distanceFromCamera = length(positionWorld.sub(cameraPosition)).toVar(
    'distanceFromCamera',
  );

  // Calculate distance fade factor (1.0 at close distance, 0.0 at far distance)
  const distanceFade = float(1.0)
    .sub(smoothstep(FADE_START_DISTANCE, FADE_END_DISTANCE, distanceFromCamera))
    .toVar('distanceFade');

  // Calculate total alpha based on visible elements and distance fade
  const totalAlpha = max(mainLinesMask, crossMask)
    .mul(distanceFade)
    .toVar('totalAlpha');

  material.fragmentNode = vec4(mix2Color.xyz, totalAlpha);
  material.side = THREE.DoubleSide;

  // Enable transparency
  material.transparent = true;
  material.alphaTest = 0.0;

  return material;
});



================================================
FILE: src/components/react/hooks.tsx
================================================
import React from 'react';

import random from 'random';

const QUERY = '(prefers-reduced-motion: no-preference)';

const isRenderingOnServer = typeof window === 'undefined';

const getInitialState = () => {
  // For our initial server render, we won't know if the user
  // prefers reduced motion, but it doesn't matter. This value
  // will be overwritten on the client, before any animations
  // occur.
  return isRenderingOnServer ? true : !window.matchMedia(QUERY).matches;
};

export function usePrefersReducedMotion() {
  const [prefersReducedMotion, setPrefersReducedMotion] =
    React.useState(getInitialState);

  React.useEffect(() => {
    const mediaQueryList = window.matchMedia(QUERY);

    const listener = (event: MediaQueryListEvent) => {
      setPrefersReducedMotion(!event.matches);
    };

    if (mediaQueryList.addEventListener) {
      mediaQueryList.addEventListener('change', listener);
    } else {
      mediaQueryList.addListener(listener);
    }
    return () => {
      if (mediaQueryList.removeEventListener) {
        mediaQueryList.removeEventListener('change', listener);
      } else {
        mediaQueryList.removeListener(listener);
      }
    };
  }, []);

  return prefersReducedMotion;
}

export const useRandomInterval = (
  callback: () => void,
  minDelay: number | null,
  maxDelay: number | null,
) => {
  const timeoutId = React.useRef<number | null>(null);
  const savedCallback = React.useRef(callback);

  React.useEffect(() => {
    savedCallback.current = callback;
  }, [callback]);

  React.useEffect(() => {
    const isEnabled =
      typeof minDelay === 'number' && typeof maxDelay === 'number';

    if (isEnabled) {
      const handleTick = () => {
        const nextTickAt = random.int(minDelay, maxDelay);

        timeoutId.current = window.setTimeout(() => {
          savedCallback.current();
          handleTick();
        }, nextTickAt);
      };

      handleTick();
    }

    return () => {
      if (timeoutId.current !== null) {
        window.clearTimeout(timeoutId.current);
      }
    };
  }, [minDelay, maxDelay]);

  const cancel = React.useCallback(() => {
    if (timeoutId.current !== null) {
      window.clearTimeout(timeoutId.current);
    }
  }, []);

  return cancel;
};

export function useTheme() {
  const [isDark, setIsDark] = React.useState(() => {
    if (typeof window === 'undefined') {
      return true; // Default to dark theme on server
    }
    return document.documentElement.classList.contains('dark');
  });

  React.useEffect(() => {
    if (typeof window === 'undefined') return;

    const observer = new MutationObserver((mutations) => {
      for (const mutation of mutations) {
        if (
          mutation.type === 'attributes' &&
          mutation.attributeName === 'class'
        ) {
          setIsDark(document.documentElement.classList.contains('dark'));
        }
      }
    });

    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class'],
    });

    // Set initial value
    setIsDark(document.documentElement.classList.contains('dark'));

    return () => observer.disconnect();
  }, []);

  return isDark;
}



================================================
FILE: src/components/react/interactive-badge.tsx
================================================
import {
  Environment,
  Lightformer,
  useGLTF,
  useTexture,
} from '@react-three/drei';
import { Canvas, extend, useFrame, useThree } from '@react-three/fiber';
import {
  BallCollider,
  CuboidCollider,
  Physics,
  type RapierRigidBody,
  RigidBody,
  useRopeJoint,
  useSphericalJoint,
} from '@react-three/rapier';
import { MeshLineGeometry, MeshLineMaterial } from 'meshline';
import { type RefObject, useEffect, useRef, useState } from 'react';
import * as THREE from 'three/webgpu';

extend({ MeshLineGeometry, MeshLineMaterial });

interface Meshline {
  // biome-ignore lint/suspicious/noExplicitAny: for now
  meshLineGeometry: any;
  // biome-ignore lint/suspicious/noExplicitAny: for now
  meshLineMaterial: any;
}

declare module 'react' {
  namespace JSX {
    interface IntrinsicElements extends Meshline {}
  }
}

declare module 'react/jsx-runtime' {
  namespace JSX {
    interface IntrinsicElements extends Meshline {}
  }
}

// Add after the existing imports and before the extend call
interface RigidBodyWithLerped extends RapierRigidBody {
  lerped?: THREE.Vector3;
}

export function InteractiveBadge() {
  return (
    <Canvas camera={{ position: [0, 0, 8], fov: 25 }}>
      <Physics interpolate gravity={[0, -40, 0]} timeStep={1 / 60}>
        <Band />
      </Physics>
      <Environment blur={0.75}>
        <Lightformer
          intensity={2}
          color="white"
          position={[0, -1, 5]}
          rotation={[0, 0, Math.PI / 3]}
          scale={[100, 0.1, 1]}
        />
        <Lightformer
          intensity={3}
          color="white"
          position={[-1, -1, 1]}
          rotation={[0, 0, Math.PI / 3]}
          scale={[100, 0.1, 1]}
        />
        <Lightformer
          intensity={3}
          color="white"
          position={[1, 1, 1]}
          rotation={[0, 0, Math.PI / 3]}
          scale={[100, 0.1, 1]}
        />
        <Lightformer
          intensity={10}
          color="white"
          position={[-10, 0, 14]}
          rotation={[0, Math.PI / 2, Math.PI / 3]}
          scale={[100, 10, 1]}
        />
      </Environment>
    </Canvas>
  );
}

function Band({ minSpeed = 10, maxSpeed = 50 }) {
  const band = useRef<THREE.Mesh<MeshLineGeometry, MeshLineMaterial>>(null);
  const fixed = useRef<RigidBodyWithLerped>(null);
  const j1 = useRef<RigidBodyWithLerped>(null);
  const j2 = useRef<RigidBodyWithLerped>(null);
  const j3 = useRef<RigidBodyWithLerped>(null);
  const card = useRef<RigidBodyWithLerped>(null);
  const segmentProps = {
    type: 'dynamic' as const,
    canSleep: true,
    colliders: false as const,
    angularDamping: 2,
    linearDamping: 2,
  };
  const { nodes, materials } = useGLTF('/tag.glb') as unknown as {
    nodes: {
      card: THREE.Mesh;
      clip: THREE.Mesh;
      clamp: THREE.Mesh;
    };
    materials: {
      base: THREE.MeshPhysicalMaterial;
      metal: THREE.Material;
    };
  };
  const texture = useTexture('band.jpg');

  const vec = new THREE.Vector3();
  const ang = new THREE.Vector3();
  const rot = new THREE.Vector3();
  const dir = new THREE.Vector3();
  const { width, height } = useThree((state) => state.size);
  const [curve] = useState(
    () =>
      new THREE.CatmullRomCurve3([
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
      ]),
  );
  const [dragged, drag] = useState<THREE.Vector3 | false>(false);
  const [hovered, hover] = useState(false);

  useRopeJoint(
    fixed as RefObject<RapierRigidBody>,
    j1 as RefObject<RapierRigidBody>,
    [[0, 0, 0], [0, 0, 0], 1],
  ); // prettier-ignore
  useRopeJoint(
    j1 as RefObject<RapierRigidBody>,
    j2 as RefObject<RapierRigidBody>,
    [[0, 0, 0], [0, 0, 0], 1],
  ); // prettier-ignore
  useRopeJoint(
    j2 as RefObject<RapierRigidBody>,
    j3 as RefObject<RapierRigidBody>,
    [[0, 0, 0], [0, 0, 0], 1],
  ); // prettier-ignore
  useSphericalJoint(
    j3 as RefObject<RapierRigidBody>,
    card as RefObject<RapierRigidBody>,
    [
      [0, 0, 0],
      [0, 1.45, 0],
    ],
  ); // prettier-ignore

  useEffect(() => {
    if (hovered) {
      document.body.style.cursor = dragged ? 'grabbing' : 'grab';
      // biome-ignore lint/suspicious/noAssignInExpressions: document.body.style.cursor = 'auto'
      return () => void (document.body.style.cursor = 'auto');
    }
  }, [hovered, dragged]);

  useFrame((state, delta) => {
    if (dragged) {
      vec.set(state.pointer.x, state.pointer.y, 0.5).unproject(state.camera);
      dir.copy(vec).sub(state.camera.position).normalize();
      vec.add(dir.multiplyScalar(state.camera.position.length()));
      for (const ref of [card, j1, j2, j3, fixed]) {
        ref.current?.wakeUp();
      }
      if (card.current) {
        card.current.setNextKinematicTranslation({
          x: vec.x - dragged.x,
          y: vec.y - dragged.y,
          z: vec.z - dragged.z,
        });
      }
    }
    if (
      fixed.current &&
      j1.current &&
      j2.current &&
      j3.current &&
      card.current
    ) {
      for (const ref of [j1, j2]) {
        if (ref.current) {
          if (!ref.current.lerped) {
            ref.current.lerped = new THREE.Vector3().copy(
              ref.current.translation(),
            );
          }
          const clampedDistance = Math.max(
            0.1,
            Math.min(
              1,
              ref.current.lerped.distanceTo(ref.current.translation()),
            ),
          );
          ref.current.lerped.lerp(
            ref.current.translation(),
            delta * (minSpeed + clampedDistance * (maxSpeed - minSpeed)),
          );
        }
      }
      curve.points[0].copy(j3.current.translation());
      if (j2.current?.lerped) curve.points[1].copy(j2.current.lerped);
      if (j1.current?.lerped) curve.points[2].copy(j1.current.lerped);
      curve.points[3].copy(fixed.current.translation());
      if (band.current) {
        band.current.geometry.setPoints(curve.getPoints(32));
      }
      // Tilt it back towards the screen
      ang.copy(card.current.angvel());
      rot.copy(card.current.rotation());
      card.current.setAngvel(
        { x: ang.x, y: ang.y - rot.y * 0.25, z: ang.z },
        false,
      );
    }
  });

  curve.curveType = 'chordal';
  texture.wrapS = texture.wrapT = THREE.RepeatWrapping;

  return (
    <>
      <group position={[0, 4, 0]}>
        <RigidBody
          ref={fixed}
          type="fixed"
          canSleep={segmentProps.canSleep}
          angularDamping={segmentProps.angularDamping}
          linearDamping={segmentProps.linearDamping}
          colliders={false}
        />
        <RigidBody position={[0.5, 0, 0]} ref={j1} {...segmentProps}>
          <BallCollider args={[0.1]} />
        </RigidBody>
        <RigidBody position={[1, 0, 0]} ref={j2} {...segmentProps}>
          <BallCollider args={[0.1]} />
        </RigidBody>
        <RigidBody position={[1.5, 0, 0]} ref={j3} {...segmentProps}>
          <BallCollider args={[0.1]} />
        </RigidBody>
        <RigidBody
          position={[2, 0, 0]}
          ref={card}
          {...segmentProps}
          type={dragged ? 'kinematicPosition' : 'dynamic'}
        >
          <CuboidCollider args={[0.8, 1.125, 0.01]} />
          <group
            scale={2.25}
            position={[0, -1.2, -0.05]}
            onPointerOver={() => hover(true)}
            onPointerOut={() => hover(false)}
            onPointerUp={(e) => {
              const target = e.target as Element;
              if (target && 'releasePointerCapture' in target) {
                target.releasePointerCapture(e.pointerId);
              }
              drag(false);
            }}
            onPointerDown={(e) => {
              const target = e.target as Element;
              if (target && 'setPointerCapture' in target) {
                target.setPointerCapture(e.pointerId);
              }
              if (card.current) {
                drag(
                  new THREE.Vector3()
                    .copy(e.point)
                    .sub(vec.copy(card.current.translation())),
                );
              }
            }}
          >
            <mesh geometry={nodes.card.geometry}>
              <meshPhysicalMaterial
                map={materials.base.map}
                map-anisotropy={16}
                clearcoat={1}
                clearcoatRoughness={0.15}
                roughness={0.3}
                metalness={0.5}
              />
            </mesh>
            <mesh
              geometry={nodes.clip.geometry}
              material={materials.metal}
              material-roughness={0.3}
            />
            <mesh geometry={nodes.clamp.geometry} material={materials.metal} />
          </group>
        </RigidBody>
      </group>
      <mesh ref={band}>
        <meshLineGeometry />
        <meshLineMaterial
          color="white"
          depthTest={false}
          resolution={[width, height]}
          useMap
          map={texture}
          repeat={[-3, 1]}
          lineWidth={1}
        />
      </mesh>
    </>
  );
}



================================================
FILE: src/components/react/MobileMenu.tsx
================================================
'use client';

import { cn } from '@portfolio/ui';
import { AnimatePresence, motion } from 'framer-motion';
import { Code2, Menu, Rss, X } from 'lucide-react';
import * as React from 'react';

const iconMap = {
  github: Code2,
  rss: Rss,
};

interface NavLink {
  label: string;
  href: string;
  disabled?: boolean;
}

interface ExternalLink {
  label: string;
  href: string;
  icon: string;
}

interface MobileMenuProps {
  currentPath?: string;
  navLinks?: NavLink[];
  externalLinks?: ExternalLink[];
}

const defaultNavLinks: NavLink[] = [
  { label: 'Home', href: '/' },
  { label: 'Blog', href: '/blog' },
  { label: 'Experiments', href: '/experiments', disabled: true },
];

export function MobileMenu({
  currentPath = '/',
  navLinks = defaultNavLinks,
  externalLinks,
}: MobileMenuProps) {
  const [isOpen, setIsOpen] = React.useState(false);
  const [activePath, setActivePath] = React.useState(currentPath);

  // Prevent body scroll when menu is open
  React.useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
    return () => {
      document.body.style.overflow = '';
    };
  }, [isOpen]);

  // Close on ESC key
  React.useEffect(() => {
    const handleEsc = (e: KeyboardEvent) => {
      if (e.key === 'Escape') setIsOpen(false);
    };
    window.addEventListener('keydown', handleEsc);
    return () => window.removeEventListener('keydown', handleEsc);
  }, []);

  // Listen for navigation changes
  React.useEffect(() => {
    const handlePathChange = ((e: CustomEvent) => {
      setActivePath(e.detail.pathname);
    }) as EventListener;

    window.addEventListener('navbar:path-change', handlePathChange);
    return () =>
      window.removeEventListener('navbar:path-change', handlePathChange);
  }, []);

  const isActive = (href: string) => {
    if (href === '/') return activePath === '/';
    return activePath?.startsWith(href);
  };

  return (
    <>
      {/* Mobile Menu Button */}
      <button
        onClick={() => setIsOpen(true)}
        className="lg:hidden p-2 border-2 border-foreground text-foreground shrink-0 hover:bg-foreground hover:text-background transition-all active:translate-y-[2px] active:translate-x-[2px] active:shadow-none shadow-[2px_2px_0_0_hsl(var(--foreground))]"
        aria-label="Open mobile menu"
      >
        <Menu className="w-5 h-5" />
      </button>

      {/* Full-Screen Mobile Menu Overlay */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            className="fixed inset-0 z-[200] lg:hidden"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.2 }}
          >
            {/* Backdrop */}
            <motion.div
              className="absolute inset-0 bg-background/95 backdrop-blur-sm"
              onClick={() => setIsOpen(false)}
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
            />

            {/* Menu Content */}
            <motion.div
              className="relative h-full w-full flex flex-col border-4 border-foreground bg-background"
              initial={{ scale: 0.9, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              exit={{ scale: 0.9, opacity: 0 }}
              transition={{ type: 'spring', damping: 25, stiffness: 300 }}
            >
              {/* Header */}
              <div className="h-20 shrink-0 flex items-center justify-between px-6 border-b-2 border-foreground">
                <span className="text-xs font-mono font-bold uppercase tracking-[0.3em] text-foreground">
                  Navigation
                </span>
                <button
                  onClick={() => setIsOpen(false)}
                  className="p-2 border-2 border-foreground hover:bg-foreground hover:text-background transition-all active:translate-y-[2px] active:translate-x-[2px] active:shadow-none shadow-[2px_2px_0_0_hsl(var(--foreground))]"
                  aria-label="Close mobile menu"
                >
                  <X className="w-5 h-5" />
                </button>
              </div>

              {/* Navigation Links */}
              <nav className="flex-1 flex flex-col p-6 overflow-y-auto">
                <div className="space-y-1">
                  <div className="text-[10px] uppercase tracking-widest text-muted-foreground mb-4 font-mono">
                    {'// Main_Routes'}
                  </div>
                  {navLinks.map((link, index) => {
                    const active = isActive(link.href);
                    return (
                      <motion.div
                        key={link.href}
                        initial={{ opacity: 0, x: -20 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ delay: index * 0.1 }}
                      >
                        <a
                          href={link.disabled ? undefined : link.href}
                          onClick={
                            link.disabled ? undefined : () => setIsOpen(false)
                          }
                          className={cn(
                            'block w-full text-left px-6 py-4 border-2 font-mono font-bold text-lg uppercase tracking-wider transition-all mb-2',
                            {
                              'bg-foreground text-background border-foreground shadow-[4px_4px_0_0_hsl(var(--accent))]':
                                active,
                              'border-foreground hover:translate-y-[-2px] hover:translate-x-[-2px] hover:shadow-[6px_6px_0_0_hsl(var(--foreground))] active:translate-y-[2px] active:translate-x-[2px] active:shadow-none':
                                !active && !link.disabled,
                              'opacity-50 pointer-events-none border-muted':
                                link.disabled,
                            },
                          )}
                          aria-disabled={link.disabled}
                          tabIndex={link.disabled ? -1 : 0}
                        >
                          {active && '> '}
                          {link.label}
                          {link.disabled && ' [LOCKED]'}
                        </a>
                      </motion.div>
                    );
                  })}
                </div>

                {/* External Links */}
                {externalLinks && externalLinks.length > 0 && (
                  <motion.div
                    className="mt-8 pt-8 border-t-2 border-foreground"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: navLinks.length * 0.1 + 0.2 }}
                  >
                    <div className="text-[10px] uppercase tracking-widest text-muted-foreground mb-4 font-mono">
                      {'// External_Comms'}
                    </div>
                    <div className="grid grid-cols-2 gap-4">
                      {externalLinks.map((link) => {
                        const IconComponent =
                          iconMap[link.icon as keyof typeof iconMap];
                        return (
                          <a
                            key={link.href}
                            href={link.href}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex flex-col items-center gap-3 p-4 border-2 border-foreground text-foreground hover:bg-foreground hover:text-background transition-all active:translate-y-[2px] active:translate-x-[2px] active:shadow-none shadow-[2px_2px_0_0_hsl(var(--foreground))]"
                          >
                            <div className="w-8 h-8 flex items-center justify-center">
                              {IconComponent && (
                                <IconComponent className="w-5 h-5" />
                              )}
                            </div>
                            <span className="text-xs font-mono font-bold uppercase">
                              {link.label}
                            </span>
                          </a>
                        );
                      })}
                    </div>
                  </motion.div>
                )}

                {/* Footer Info */}
                <motion.div
                  className="mt-auto pt-8"
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1 }}
                  transition={{ delay: 0.6 }}
                >
                  <div className="text-[10px] text-muted-foreground font-mono text-center uppercase tracking-wider">
                    {'// Mobile_Menu_Active'}
                  </div>
                </motion.div>
              </nav>
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </>
  );
}



================================================
FILE: src/components/react/navbar.tsx
================================================
'use client';

import { motion } from 'framer-motion';
import * as React from 'react';

import { cn } from '@portfolio/ui';

type Link =
  | { active: boolean; label: string; href: string; disabled?: undefined }
  | { active: boolean; label: string; href: string; disabled: boolean };

const links: Link[] = [
  { label: 'Home', href: '/', active: false },
  { label: 'Blog', href: '/blog', active: false },
  { label: 'Experiments', href: '/experiments', active: false, disabled: true },
];

function startsWithAndNotHome(str: string | undefined, prefix: string) {
  if (str === undefined) return false;
  return (str.startsWith(prefix) && prefix !== '/') || prefix === str;
}

export interface NavbarProps extends React.ComponentProps<'header'> {
  pages?: typeof links;
}

export function Navbar({ className, pages = links, children }: NavbarProps) {
  const active = React.useMemo(
    () => pages.find((page) => page.active),
    [pages],
  );
  const [hoveredPath, setHoveredPath] = React.useState<string | undefined>(
    active?.href,
  );

  return (
    <header
      className={cn(
        'fixed top-6 z-50 w-full flex justify-center px-4',
        className,
      )}
    >
      <nav className="flex flex-row items-center gap-x-2 border-2 border-foreground bg-background px-2 py-2 shadow-[4px_4px_0_0_hsl(var(--foreground))]">
        <ul className="flex flex-row gap-x-1 p-0 m-0">
          {pages.map(({ label, href, active: currentActive, disabled }) => (
            <li key={label}>
              <a
                href={href}
                className={cn(
                  'relative block px-4 py-2 font-mono font-bold text-sm uppercase tracking-wide transition-colors',
                  {
                    'text-background': currentActive, // Inverted for active
                    'text-foreground hover:bg-muted': !currentActive,
                    'pointer-events-none opacity-50': disabled,
                  },
                )}
                aria-label={label}
                aria-disabled={disabled}
                tabIndex={disabled ? -1 : 0}
                onMouseOver={() => setHoveredPath(href)}
                onMouseLeave={() => setHoveredPath(active?.href)}
                onFocus={() => setHoveredPath(href)}
              >
                <span className="relative z-10">{label}</span>
                {/* Active/Hover Background */}
                {(startsWithAndNotHome(hoveredPath, href) ||
                  (currentActive && !hoveredPath)) && (
                  <motion.div
                    layoutId="navbar-indicator"
                    className="absolute inset-0 bg-foreground z-0"
                    transition={{ type: 'tween', duration: 0.2 }}
                  />
                )}
              </a>
            </li>
          ))}
        </ul>
        <div className="h-6 w-0.5 bg-foreground mx-2" />
        {children}
      </nav>
    </header>
  );
}



================================================
FILE: src/components/react/sparkle.tsx
================================================
'use client';

import React from 'react';

import random from 'random';

import { usePrefersReducedMotion, useRandomInterval, useTheme } from './hooks';

// Helper function to generate a range of numbers
const range = (start: number, end?: number, step = 1) => {
  const output = [];
  let actualStart = start;
  let actualEnd = end;

  if (typeof actualEnd === 'undefined') {
    actualEnd = start;
    actualStart = 0;
  }
  for (let i = actualStart; i < actualEnd; i += step) {
    output.push(i);
  }
  return output;
};

// Define the Sparkle type based on generateSparkle's return
interface Sparkle {
  id: string;
  createdAt: number;
  color: string;
  size: number;
  style: {
    top: string;
    left: string;
    zIndex: number;
  };
}

interface ThemeColors {
  light: string;
  dark: string;
}

interface SparklesPropsWithThemeColors
  extends Omit<React.ComponentProps<'span'>, 'color'> {
  color: ThemeColors;
}

interface SparklesPropsWithCustomColor
  extends Omit<React.ComponentProps<'span'>, 'color'> {
  color: string;
}

interface SparklesPropsWithoutColor
  extends Omit<React.ComponentProps<'span'>, 'color'> {
  color?: never;
}

type SparklesProps =
  | SparklesPropsWithThemeColors
  | SparklesPropsWithCustomColor
  | SparklesPropsWithoutColor;

const DEFAULT_LIGHT_COLOR = 'hsl(50deg, 100%, 50%)'; // Bright yellow for light theme
const DEFAULT_DARK_COLOR = 'hsl(220deg, 100%, 70%)'; // Light blue for dark theme

const isThemeColors = (
  color: string | ThemeColors | undefined,
): color is ThemeColors => {
  return (
    typeof color === 'object' &&
    color !== null &&
    'light' in color &&
    'dark' in color
  );
};

export function Sparkles({ children, color }: SparklesProps) {
  const prefersReducedMotion = usePrefersReducedMotion();
  const isDarkTheme = useTheme();
  const [isClient, setIsClient] = React.useState(false);

  // Determine the actual color to use
  const sparkleColor = React.useMemo(() => {
    if (!color) {
      // No color specified, use theme-based default
      return isDarkTheme ? DEFAULT_DARK_COLOR : DEFAULT_LIGHT_COLOR;
    }

    if (isThemeColors(color)) {
      // Theme colors object specified
      return isDarkTheme ? color.dark : color.light;
    }

    // Custom color string specified
    return color;
  }, [color, isDarkTheme]);

  const [sparkles, setSparkles] = React.useState<Sparkle[]>([]);

  // Set client flag after mount to avoid SSR hydration mismatch
  React.useEffect(() => {
    setIsClient(true);
    // Initialize sparkles after component mounts
    setSparkles(range(3).map(() => generateSparkle(sparkleColor)));
  }, [sparkleColor]);

  useRandomInterval(
    () => {
      if (prefersReducedMotion || !isClient) {
        return;
      }
      const now = Date.now();

      // Create a new sparkle with current theme color
      const sparkle = generateSparkle(sparkleColor);

      // Clean up any "expired" sparkles
      const nextSparkles = sparkles.filter((s: Sparkle) => {
        // Typed sparkle parameter
        const delta = now - s.createdAt;
        return delta < 1000;
      });

      // Include our new sparkle
      nextSparkles.push(sparkle);

      // Make it so!
      setSparkles(nextSparkles);
    },
    prefersReducedMotion || !isClient ? null : 50, // Pass null to disable interval if prefersReducedMotion or not client
    prefersReducedMotion || !isClient ? null : 500,
  );

  return (
    <span className="relative inline-block">
      {isClient &&
        sparkles.map((sparkle) => (
          <SparkleInstance
            key={sparkle.id}
            color={sparkle.color}
            size={sparkle.size}
            style={sparkle.style}
          />
        ))}
      <strong className="relative z-1 font-bold">{children}</strong>
    </span>
  );
}

// Return type of generateSparkle matches the Sparkle interface
function generateSparkle(color: string): Sparkle {
  return {
    id: String(random.int(10000, 99999)),
    createdAt: Date.now(),
    // Bright yellow color:
    color,
    size: random.int(10, 20),
    style: {
      // Pick a random spot in the available space
      top: `${random.int(0, 100)}%`,
      left: `${random.int(0, 100)}%`,
      // Float sparkles above sibling content
      zIndex: 2,
    },
  };
}

interface SparkleInstanceProps {
  color: string;
  style: React.CSSProperties;
  size: string | number; // size can be number as per generateSparkle
}

export function SparkleInstance({ color, size, style }: SparkleInstanceProps) {
  return (
    <div
      className="absolute pointer-events-none z-2 motion-safe:animate-sparkle"
      style={style}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={size}
        height={size}
        fill="none"
        className="motion-safe:animate-spin"
        viewBox="0 0 160 160"
      >
        <path
          fill={color}
          d="M80 0s4.285 41.293 21.496 58.504S160 80 160 80s-41.293 4.285-58.504 21.496S80 160 80 160s-4.285-41.293-21.496-58.504S0 80 0 80s41.293-4.285 58.504-21.496S80 0 80 0"
        />
      </svg>
    </div>
  );
}



================================================
FILE: src/components/react/terrain-material.ts
================================================
import {
  Fn,
  Loop,
  cross,
  float,
  mx_noise_float,
  positionLocal,
  sign,
  transformNormalToView,
  uniform,
  varying,
  vec2,
  vec3,
} from 'three/tsl';

import { calculateGrassColor } from './grass-material';
import { createNodeMaterial } from './nodes/utils';

import type { Node } from '~/components/react/nodes/types';

// Terrain elevation function based on Three.js WebGPU example
export const getTerrainHeight = Fn<[Node]>(([position2D]) => {
  const noiseIterations = uniform(3); // Reduced iterations for smoother terrain
  const positionFrequency = uniform(0.01);
  const warpFrequency = uniform(2); // Reduced warp frequency for smoother distortion
  const warpStrength = uniform(0.3); // Reduced warp strength for gentler distortion
  const strength = uniform(20); // Increased strength for more dramatic height differences
  const offset = uniform(vec2(0, 0));

  const warpedPosition = position2D.add(offset).toVar('warpedPosition');
  warpedPosition.addAssign(
    mx_noise_float(
      warpedPosition.mul(positionFrequency).mul(warpFrequency),
      1,
      0,
    ).mul(warpStrength),
  );

  const elevation = float(0).toVar('elevation');
  Loop(
    {
      type: 'uint',
      start: float(1),
      end: noiseIterations.toFloat(),
      condition: '<=',
    },
    ({ i }) => {
      const noiseInput = warpedPosition
        .mul(positionFrequency)
        .mul(float(i).mul(1.5)) // Reduced multiplier for less dramatic octave scaling
        .add(float(i).mul(987))
        .toVar('noiseInput');
      const noise = mx_noise_float(noiseInput, 1, 0)
        .div(float(i).add(1).mul(1.5)) // Reduced divisor for smoother blending
        .toVar('noise');
      elevation.addAssign(noise);
    },
  );

  const elevationSign = sign(elevation).toVar('elevationSign');
  elevation.assign(elevation.abs().pow(1.5).mul(elevationSign).mul(strength)); // Reduced power for gentler curves

  return elevation;
});

export const terrainNodeMaterial = createNodeMaterial((material) => {
  const vNormal = varying(vec3(), 'vNormal');
  const vPosition = varying(vec3(), 'vPosition');

  // Terrain parameters
  const normalLookUpShift = uniform(0.01);
  const offset = uniform(vec2(0, 0));

  // Position node for vertex displacement
  const positionNode = Fn(() => {
    // Neighbours positions for normal calculation
    const neighbourA = positionLocal.xyz
      .add(vec3(normalLookUpShift, 0.0, 0.0))
      .toVar('neighbourA');
    const neighbourB = positionLocal.xyz
      .add(vec3(0.0, 0.0, normalLookUpShift.negate()))
      .toVar('neighbourB');

    // Elevations
    const position = positionLocal.xyz.toVar('position');
    const elevation = getTerrainHeight(positionLocal.xz).toVar('elevation');
    position.y.addAssign(elevation);

    neighbourA.y.addAssign(getTerrainHeight(neighbourA.xz));
    neighbourB.y.addAssign(getTerrainHeight(neighbourB.xz));

    // Compute normal
    const toA = neighbourA.sub(position).normalize().toVar('toA');
    const toB = neighbourB.sub(position).normalize().toVar('toB');
    vNormal.assign(cross(toA, toB));

    // Varyings
    vPosition.assign(position.add(vec3(offset.x, 0, offset.y)));

    return position;
  });

  // Color node for terrain texturing
  const colorNode = Fn(() => {
    // Use the same grass color calculation as the grass material
    // For terrain, we use a flat UV where y=0 to get the base grass color
    const terrainUv = vec2(0, 0);
    const grassColor = calculateGrassColor(vPosition, terrainUv);

    const finalColor = grassColor.toVar('finalColor');

    // Keep existing logic for different terrain features if needed
    // You can uncomment and modify these if you want variations based on elevation/slope
    /*
    // Rock based on slope
    const normalDotUp = dot(vNormal, vec3(0, 1, 0)).toVar('normalDotUp');
    const rockMix = step(0.5, normalDotUp)
      .oneMinus()
      .mul(step(-0.06, vPosition.y))
      .toVar('rockMix');
    finalColor.assign(rockMix.mix(finalColor, colorRock));

    // Snow with noise threshold
    const snowNoise = mx_noise_float(vPosition.xz.mul(25), 1, 0).toVar(
      'snowNoise',
    );
    const snowThreshold = snowNoise.mul(0.1).add(0.45).toVar('snowThreshold');
    const snowMix = step(snowThreshold, vPosition.y).toVar('snowMix');
    finalColor.assign(snowMix.mix(finalColor, colorSnow));
    */

    return finalColor;
  });

  // Apply nodes to material
  material.positionNode = positionNode();
  material.normalNode = transformNormalToView(vNormal);
  material.colorNode = colorNode();

  // Material properties
  // material.metalness = 0;
  // material.roughness = 0.5;
  // material.side = THREE.DoubleSide;

  return material;
});



================================================
FILE: src/components/react/mdx/index.tsx
================================================
'use client';

import type { MDXComponents } from 'mdx/types';
import type * as React from 'react';

import { cn } from '@portfolio/ui';
import {
  Table,
  TableBody,
  // TableCaption,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@portfolio/ui/table';

import Pre from '~/components/mdx/Pre.astro';

export const components = {
  h1: ({ className, id, children, ...props }: React.ComponentProps<'h1'>) => (
    <h1
      id={id}
      className={cn(
        'scroll-m-20 text-4xl font-extrabold tracking-tight after:content-["#"] lg:text-5xl',
        className,
      )}
      {...props}
    >
      <a href={`#${id}`} className="group relative">
        {children}
      </a>
    </h1>
  ),
  h2: ({ className, id, children, ...props }: React.ComponentProps<'h2'>) => (
    <h2
      id={id}
      className={cn(
        'scroll-m-20 pb-2 text-3xl font-semibold tracking-tight transition-all after:absolute after:translate-x-[1rem] after:opacity-0 after:transition-all after:content-["#"] first:mt-0 mt-4 hover:after:opacity-100',
        className,
      )}
      {...props}
    >
      <a href={`#${id}`}>{children}</a>
    </h2>
  ),
  h3: ({ className, id, children, ...props }: React.ComponentProps<'h3'>) => (
    <h3
      id={id}
      className={cn(
        'mt-8 scroll-m-20 text-2xl font-semibold tracking-tight after:absolute after:translate-x-[1rem] after:opacity-0 after:transition-all after:content-["#"] hover:after:opacity-100',
        className,
      )}
      {...props}
    >
      <a href={`#${id}`}>{children}</a>
    </h3>
  ),
  p: ({ className, ...props }: React.ComponentProps<'p'>) => (
    <p
      className={cn(
        'text-base leading-8 text-foreground/80 not-first:mt-6',
        className,
      )}
      {...props}
    />
  ),
  strong: ({ className, ...props }: React.ComponentProps<'strong'>) => (
    <strong className={cn('text-foreground/100', className)} {...props} />
  ),
  em: ({ className, ...props }: React.ComponentProps<'em'>) => (
    <em
      className={cn('font-medium text-foreground/100', className)}
      {...props}
    />
  ),
  blockquote: ({ className, ...props }: React.ComponentProps<'blockquote'>) => (
    <blockquote
      className={cn('mt-6 border-l-2 pl-6 italic', className)}
      {...props}
    />
  ),
  // @ts-ignore
  pre: Pre,
  code: ({ className, ...props }: React.ComponentProps<'code'>) => (
    <code
      className={cn('relative overflow-x-auto font-mono', className)}
      {...props}
    />
  ),
  img: ({ className, src, alt, id }: React.ComponentProps<'img'>) => (
    <img
      src={src}
      alt={alt}
      id={id}
      width={1000}
      height={700}
      className={cn('rounded', className)}
    />
  ),
  table: ({ className, children }: React.ComponentProps<'table'>) => (
    <Table className={cn('mt-6', className)}>{children}</Table>
  ),
  thead: ({ className, children }: React.ComponentProps<'thead'>) => (
    <TableHeader className={cn('', className)}>{children}</TableHeader>
  ),
  th: ({ className, children }: React.ComponentProps<'th'>) => (
    <TableHead className={cn('font-bold', className)}>{children}</TableHead>
  ),
  tbody: ({ className, children }: React.ComponentProps<'tbody'>) => (
    <TableBody className={cn('', className)}>{children}</TableBody>
  ),
  tr: ({ className, children }: React.ComponentProps<'tr'>) => (
    <TableRow className={cn('', className)}>{children}</TableRow>
  ),
  td: ({ className, children }: React.ComponentProps<'td'>) => (
    <TableCell className={cn('', className)}>{children}</TableCell>
  ),
} as const satisfies MDXComponents;



================================================
FILE: src/components/react/nodes/index.ts
================================================
export * from './noise';
export * from './types';



================================================
FILE: src/components/react/nodes/noise.ts
================================================
import {
  Fn,
  If,
  Loop,
  abs,
  dot,
  float,
  floor,
  fract,
  max,
  mix,
  sin,
  vec2,
  vec3,
  vec4,
} from 'three/tsl';

import type { Node } from './types';

// Noise function for wind influence
export const noise2D = Fn<[Node]>(([p]) => {
  return sin(p.x.mul(10.0))
    .mul(sin(p.y.mul(10.0)))
    .mul(0.5)
    .add(0.5);
});

// Simplex noise functions
export const permute = Fn<[Node]>(([x]) => {
  return x.mul(34.0).add(1.0).mul(x).mod(289.0);
});

export const snoise = Fn<[Node]>(([v]) => {
  const C = vec4(
    0.211324865405187, // (3.0-sqrt(3.0))/6.0
    0.366025403784439, // 0.5*(sqrt(3.0)-1.0)
    -0.577350269189626, // -1.0 + 2.0 * C.x
    0.024390243902439, // 1.0/41.0
  );
  const i = v.add(dot(v, C.yy)).floor();
  const x0 = v.sub(i).add(dot(i, C.xx));

  const i1 = vec2(0.0, 0.0).toVar();

  If(x0.x.greaterThan(x0.y), () => {
    i1.assign(vec2(1.0, 0.0));
  }).Else(() => {
    i1.assign(vec2(0.0, 1.0));
  });

  const x12 = x0.xyxy.add(C.xxzz).toVar();
  x12.xy.subAssign(i1);

  const iMod = i.mod(289.0);
  const p = permute(
    permute(iMod.y.add(vec3(0.0, i1.y, 1.0)))
      .add(iMod.x)
      .add(vec3(0.0, i1.x, 1.0)),
  );

  const m = max(
    float(0.5).sub(vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw))),
    0.0,
  );

  const m4 = m.mul(m).mul(m).mul(m);

  const x = fract(p.mul(C.www)).mul(2.0).sub(1.0);
  const h = abs(x).sub(0.5);
  const ox = floor(x.add(0.5));
  const a0 = x.sub(ox);

  const g = vec3(
    a0.x.mul(x0.x).add(h.x.mul(x0.y)),
    a0.y.mul(x12.x).add(h.y.mul(x12.y)),
    a0.z.mul(x12.z).add(h.z.mul(x12.w)),
  );

  const falloff_factor = float(1.79284291400159).sub(
    float(0.85373472095314).mul(a0.mul(a0).add(h.mul(h))),
  );
  const weighted_m = m4.mul(falloff_factor);
  return dot(weighted_m, g).mul(130.0);
});

// Helper functions for Perlin Noise
// eslint-disable-next-line no-unused-vars
export const mod289Vec2 = Fn<[Node]>(([x_vec2]) => {
  return x_vec2.sub(floor(x_vec2.mul(1.0 / 289.0)).mul(289.0));
});

export const mod289Vec4 = Fn<[Node]>(([x_vec4]) => {
  return x_vec4.sub(floor(x_vec4.mul(1.0 / 289.0)).mul(289.0));
});

export const permuteVec4 = Fn<[Node]>(([x_perm]) => {
  return mod289Vec4(x_perm.mul(34.0).add(1.0).mul(x_perm));
});

export const taylorInvSqrtVec4 = Fn<[Node]>(([r_taylor]) => {
  return float(1.79284291400159).sub(float(0.85373472090914).mul(r_taylor));
});

// Enhanced Perlin Noise 2D
export const perlinNoise2D = Fn<[Node]>(([P_noise]) => {
  // P_noise is vec2
  const Pi = floor(P_noise.xyxy.add(vec4(0.0, 0.0, 1.0, 1.0))).toVar();

  // --- Corrected Pf Calculation ---
  const P_noise_fract_xyxy = fract(P_noise.xyxy);
  const Pf = P_noise_fract_xyxy.sub(vec4(0.0, 0.0, 1.0, 1.0));
  // Now Pf will be (fract(P_noise.x), fract(P_noise.y), fract(P_noise.x)-1, fract(P_noise.y)-1)

  Pi.assign(mod289Vec4(Pi));

  const ix = Pi.xzxz;
  const iy = Pi.yyww;
  const fx = Pf.xzxz;
  const fy = Pf.yyww;

  const i_perm = permuteVec4(permuteVec4(ix).add(iy));

  const gx = fract(i_perm.mul(1.0 / 41.0))
    .mul(2.0)
    .sub(1.0);
  const gy = abs(gx).sub(0.5);
  const tx = floor(gx.add(0.5));
  const gx_updated = gx.sub(tx);

  const g00 = vec2(gx_updated.x, gy.x);
  const g10 = vec2(gx_updated.y, gy.y);
  const g01 = vec2(gx_updated.z, gy.z);
  const g11 = vec2(gx_updated.w, gy.w);

  const norm = taylorInvSqrtVec4(
    vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)),
  );

  const g00_norm = g00.mul(norm.x);
  const g01_norm = g01.mul(norm.y);
  const g10_norm = g10.mul(norm.z);
  const g11_norm = g11.mul(norm.w);

  // These dot products will now use the correct fx and fy components
  const n00 = dot(g00_norm, vec2(fx.x, fy.x));
  const n10 = dot(g10_norm, vec2(fx.y, fy.y));
  const n01 = dot(g01_norm, vec2(fx.z, fy.z));
  const n11 = dot(g11_norm, vec2(fx.w, fy.w));

  const fade_xy = Pf.xy // Use Pf.xy for fade, which is (u_frac, v_frac) - this is correct
    .mul(Pf.xy)
    .mul(Pf.xy)
    .mul(Pf.xy.mul(Pf.xy.mul(6.0).sub(15.0)).add(10.0));
  const n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
  const n_xy = mix(n_x.x, n_x.y, fade_xy.y);

  return float(2.3).mul(n_xy);
});

// Advanced FBM noise function
export const fbm = Fn<[Node, Node, Node, Node]>(
  ([p, octaves, lacunarity, persistence]) => {
    const total = float(0.0).toVar();
    const frequency = float(1.0).toVar();
    const amplitude = float(1.0).toVar();
    const maxValue = float(0.0).toVar();

    // Use loop with custom index

    Loop(octaves, () => {
      total.addAssign(perlinNoise2D(p.mul(frequency)).mul(amplitude));
      maxValue.addAssign(amplitude);
      amplitude.mulAssign(persistence);
      frequency.mulAssign(lacunarity);
    });

    return total.div(maxValue).add(1.0).mul(0.5);
  },
);



================================================
FILE: src/components/react/nodes/types.ts
================================================
import type * as THREE from 'three/webgpu';

export type Node = THREE.TSL.NodeObject<THREE.Node>;

interface TLSMaterials {
  // biome-ignore lint/suspicious/noExplicitAny: for now
  nodeMaterial: any;
}

declare module 'react' {
  namespace JSX {
    interface IntrinsicElements extends TLSMaterials {}
  }
}

declare module 'react/jsx-runtime' {
  namespace JSX {
    interface IntrinsicElements extends TLSMaterials {}
  }
}



================================================
FILE: src/components/react/nodes/utils.ts
================================================
import * as THREE from 'three/webgpu';

export function createNodeMaterial(
  callback: (material: THREE.NodeMaterial) => THREE.NodeMaterial,
): () => THREE.NodeMaterial {
  return () => callback(new THREE.NodeMaterial());
}



================================================
FILE: src/components/svg/Github.astro
================================================
<svg  viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg" {...Astro.props}>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" transform="scale(64)" fill="currentColor"/>
</svg>


================================================
FILE: src/components/svg/LinkedIn.astro
================================================
<svg  xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" {...Astro.props}><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="currentColor"/>
</svg>


================================================
FILE: src/content/config.ts
================================================
import { defineCollection, z } from 'astro:content';
import { glob } from 'astro/loaders';

const blog = defineCollection({
  loader: glob({ pattern: '*.mdx', base: './src/content/blog' }),
  // Type-check frontmatter using a schema
  schema: ({ image }) =>
    z.object({
      title: z.string(),
      description: z.string(),
      pubDate: z.coerce.date(),
      updatedDate: z.coerce.date().optional(),
      heroImage: image(),
    }),
});

export const collections = { blog };



================================================
FILE: src/content/blog/first-post.mdx
================================================
---
title: 'First post'
description: 'Lorem ipsum dolor sit amet'
pubDate: 'Jul 08 2022'
heroImage: './images/blog-placeholder-3.jpg'
---

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vitae ultricies leo integer malesuada nunc vel risus commodo viverra. Adipiscing enim eu turpis egestas pretium. Euismod elementum nisi quis eleifend quam adipiscing. In hac habitasse platea dictumst vestibulum. Sagittis purus sit amet volutpat. Netus et malesuada fames ac turpis egestas. Eget magna fermentum iaculis eu non diam phasellus vestibulum lorem. Varius sit amet mattis vulputate enim. Habitasse platea dictumst quisque sagittis. Integer quis auctor elit sed vulputate mi. Dictumst quisque sagittis purus sit amet.

Morbi tristique senectus et netus. Id semper risus in hendrerit gravida rutrum quisque non tellus. Habitasse platea dictumst quisque sagittis purus sit amet. Tellus molestie nunc non blandit massa. Cursus vitae congue mauris rhoncus. Accumsan tortor posuere ac ut. Fringilla urna porttitor rhoncus dolor. Elit ullamcorper dignissim cras tincidunt lobortis. In cursus turpis massa tincidunt dui ut ornare lectus. Integer feugiat scelerisque varius morbi enim nunc. Bibendum neque egestas congue quisque egestas diam. Cras ornare arcu dui vivamus arcu felis bibendum. Dignissim suspendisse in est ante in nibh mauris. Sed tempus urna et pharetra pharetra massa massa ultricies mi.

Mollis nunc sed id semper risus in. Convallis a cras semper auctor neque. Diam sit amet nisl suscipit. Lacus viverra vitae congue eu consequat ac felis donec. Egestas integer eget aliquet nibh praesent tristique magna sit amet. Eget magna fermentum iaculis eu non diam. In vitae turpis massa sed elementum. Tristique et egestas quis ipsum suspendisse ultrices. Eget lorem dolor sed viverra ipsum. Vel turpis nunc eget lorem dolor sed viverra. Posuere ac ut consequat semper viverra nam. Laoreet suspendisse interdum consectetur libero id faucibus. Diam phasellus vestibulum lorem sed risus ultricies tristique. Rhoncus dolor purus non enim praesent elementum facilisis. Ultrices tincidunt arcu non sodales neque. Tempus egestas sed sed risus pretium quam vulputate. Viverra suspendisse potenti nullam ac tortor vitae purus faucibus ornare. Fringilla urna porttitor rhoncus dolor purus non. Amet dictum sit amet justo donec enim.

Mattis ullamcorper velit sed ullamcorper morbi tincidunt. Tortor posuere ac ut consequat semper viverra. Tellus mauris a diam maecenas sed enim ut sem viverra. Venenatis urna cursus eget nunc scelerisque viverra mauris in. Arcu ac tortor dignissim convallis aenean et tortor at. Curabitur gravida arcu ac tortor dignissim convallis aenean et tortor. Egestas tellus rutrum tellus pellentesque eu. Fusce ut placerat orci nulla pellentesque dignissim enim sit amet. Ut enim blandit volutpat maecenas volutpat blandit aliquam etiam. Id donec ultrices tincidunt arcu. Id cursus metus aliquam eleifend mi.

Tempus quam pellentesque nec nam aliquam sem. Risus at ultrices mi tempus imperdiet. Id porta nibh venenatis cras sed felis eget velit. Ipsum a arcu cursus vitae. Facilisis magna etiam tempor orci eu lobortis elementum. Tincidunt dui ut ornare lectus sit. Quisque non tellus orci ac. Blandit libero volutpat sed cras. Nec tincidunt praesent semper feugiat nibh sed pulvinar proin gravida. Egestas integer eget aliquet nibh praesent tristique magna.



================================================
FILE: src/content/blog/hello-world.mdx
================================================
---
title: 'Multiple Reasons As To Why This Is A Hello World'
description: 'Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.'
pubDate: 'Jul 01 2022'
heroImage: './images/blog-placeholder-1.jpg'
---

## This is an `<h2/>`

```js {2} showLineNumbers title="Just A Simple Code Block"
import * as React from 'react';

export type HelloWorldProps = React.ComponentProps<'div'>;

export function HelloWorld({ className }: HelloWorldProps) {
  const hello = () => {
    console.log('Hello, World!');
  };
  return <div className={className}>Hello World!</div>;
}
```

```bash
echo "Hello World!" // [!code highlight]
```

**Lorem ipsum** dolor sit amet, _consectetur adipiscing elit. Nullam eu lectus purus_. Proin volutpat magna a ante convallis cursus. Cras efficitur ipsum eu magna blandit, tempor pulvinar sapien bibendum.
In gravida massa eget velit venenatis pretium. Cras hendrerit diam sit amet libero feugiat, sit amet pharetra mi mollis.
Donec vel mollis lectus. Mauris vulputate pharetra odio vel sollicitudin. Nullam dui lectus, consectetur nec erat a, blandit vulputate massa.

### Code Examples

```tsx twoslash
// @errors: 2322 2588
const str: string = 1;
str = 'Hello';
```

```tsx twoslash
// import { getHighlighterCore } from 'shiki/core';

// const highlighter = await getHighlighterCore({});
const a = 1;
const b = 1;
const c = 1;
```

Aliquam sed purus imperdiet, `rutrum justo quis, mattis tellus`. `import { Button } from '~/components/ui/button'{:js}` . Nunc semper vitae nisl ut consectetur. Fusce nisi neque, accumsan vitae facilisis ut, bibendum quis nulla.
Vivamus sit amet aliquam elit, eget condimentum ligula. Donec auctor consequat leo ac auctor.
Morbi posuere vitae turpis sed venenatis. Nunc condimentum augue lectus. Etiam consequat scelerisque condimentum.
Vestibulum vitae quam velit. Donec tristique, ipsum sit amet pellentesque rhoncus, mi quam feugiat massa, in porttitor mauris nisl ut velit.
Pellentesque rutrum, tortor vitae dignissim vehicula, nisl augue aliquam risus, a pulvinar nunc nibh lacinia ligula. Morbi rhoncus justo molestie purus ornare imperdiet. Morbi et lobortis nunc.

### This is an `<h3/>`

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eu lectus purus. Proin volutpat magna a ante convallis cursus. Cras efficitur ipsum eu magna blandit, tempor pulvinar sapien bibendum. In gravida massa eget velit venenatis pretium. Cras hendrerit diam sit amet libero feugiat, sit amet pharetra mi mollis. Donec vel mollis lectus. Mauris vulputate pharetra odio vel sollicitudin. Nullam dui lectus, consectetur nec erat a, blandit vulputate massa.

> Aliquam sed purus imperdiet, `rutrum justo quis, mattis tellus`. `import { Button } from '~/components/ui/button'{:js}` . Nunc semper vitae nisl ut consectetur. Fusce nisi neque, accumsan vitae facilisis ut, bibendum quis nulla.
> Vivamus sit amet aliquam elit, eget condimentum ligula. Donec auctor consequat leo ac auctor.

Lorem ipsum dolor sir amet

### This is a table :nerd_face::smile::cake::computer:

Morbi posuere vitae turpis sed venenatis. Nunc condimentum augue lectus. Etiam consequat scelerisque condimentum.
Vestibulum vitae quam velit. Donec tristique, ipsum sit amet pellentesque rhoncus, mi quam feugiat massa, in porttitor mauris nisl ut velit.
Pellentesque rutrum, :nerd_face::smile::cake::computer: tortor vitae dignissim vehicula, nisl augue aliquam risus, a pulvinar nunc nibh lacinia ligula.

| Column 1 Header | Column 2 Header | Column 3 Header |
| --------------- | --------------- | --------------- |
| Row 1 Column 1  | Row 1 Column 2  | Row 1 Column 3  |
| Row 2 Column 1  | Row 2 Column 2  | Row 2 Column 3  |
| Row 3 Column 1  | Row 3 Column 2  | Row 3 Column 3  |

Morbi posuere vitae turpis sed venenatis. Nunc condimentum augue lectus. Etiam consequat scelerisque condimentum.
Vestibulum vitae quam velit. Donec tristique, ipsum sit amet pellentesque rhoncus, mi quam feugiat massa, in porttitor mauris nisl ut velit.
Pellentesque rutrum, tortor vitae dignissim vehicula, nisl augue aliquam risus, a pulvinar nunc nibh lacinia ligula.



================================================
FILE: src/content/blog/markdown-style-guide.mdx
================================================
---
title: 'Markdown Style Guide'
description: 'Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.'
pubDate: 'Jul 01 2022'
heroImage: './images/blog-placeholder-1.jpg'
---

Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.

## Headings

The following HTML `<h1>`—`<h6>` elements represent six levels of section headings. `<h1>` is the highest section level while `<h6>` is the lowest.

# H1

## H2

### H3

#### H4

##### H5

###### H6

## Paragraph

Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.

Itatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.

## Images

#### Syntax

```markdown
![Alt text](./full/or/relative/path/of/image)
```

#### Output

![blog placeholder](/blog-placeholder-about.jpg)

## Blockquotes

The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a `footer` or `cite` element, and optionally with in-line changes such as annotations and abbreviations.

### Blockquote without attribution

#### Syntax

```markdown
> Tiam, ad mint andaepu dandae nostion secatur sequo quae.  
> **Note** that you can use _Markdown syntax_ within a blockquote.
```

#### Output

> Tiam, ad mint andaepu dandae nostion secatur sequo quae.  
> **Note** that you can use _Markdown syntax_ within a blockquote.

### Blockquote with attribution

#### Syntax

```markdown
> Don't communicate by sharing memory, share memory by communicating.<br>
> — <cite>Rob Pike[^1]</cite>
```

#### Output

[^1]: The above quote is excerpted from Rob Pike's [talk](https://www.youtube.com/watch?v=PAAkCSZUG1c) during Gopherfest, November 18, 2015.

## Tables

#### Syntax

```markdown
| Italics   | Bold     | Code   |
| --------- | -------- | ------ |
| _italics_ | **bold** | `code` |
```

#### Output

| Italics   | Bold     | Code   |
| --------- | -------- | ------ |
| _italics_ | **bold** | `code` |

## Code Blocks

#### Syntax

we can use 3 backticks ``` in new line and write snippet and close with 3 backticks on new line and to highlight language specific syntac, write one word of language name after first 3 backticks, for eg. html, javascript, css, markdown, typescript, txt, bash

````markdown
```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Example HTML5 Document</title>
  </head>
  <body>
    <p>Test</p>
  </body>
</html>
```
````

Output

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Example HTML5 Document</title>
  </head>
  <body>
    <p>Test</p>
  </body>
</html>
```

## List Types

### Ordered List

#### Syntax

```markdown
1. First item
2. Second item
3. Third item
```

#### Output

1. First item
2. Second item
3. Third item

### Unordered List

#### Syntax

```markdown
- List item
- Another item
- And another item
```

#### Output

- List item
- Another item
- And another item

### Nested list

#### Syntax

```markdown
- Fruit
  - Apple
  - Orange
  - Banana
- Dairy
  - Milk
  - Cheese
```

#### Output

- Fruit
  - Apple
  - Orange
  - Banana
- Dairy
  - Milk
  - Cheese

## Other Elements — abbr, sub, sup, kbd, mark

#### Syntax

```markdown
<abbr title="Graphics Interchange Format">GIF</abbr> is a bitmap image format.

H<sub>2</sub>O

X<sup>n</sup> + Y<sup>n</sup> = Z<sup>n</sup>

Press <kbd><kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>Delete</kbd></kbd> to end the session.

Most <mark>salamanders</mark> are nocturnal, and hunt for insects, worms, and other small creatures.
```

#### Output

<abbr title="Graphics Interchange Format">GIF</abbr> is a bitmap image format.

H<sub>2</sub>O

X<sup>n</sup> + Y<sup>n</sup> = Z<sup>n</sup>

Press <kbd><kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>Delete</kbd></kbd> to end the session.

Most <mark>salamanders</mark> are nocturnal, and hunt for insects, worms, and other small creatures.

This is $O(n)$.

$$
  x^2+3
$$



================================================
FILE: src/content/blog/second-post.mdx
================================================
---
title: 'Second post'
description: 'Lorem ipsum dolor sit amet'
pubDate: 'Jul 15 2022'
heroImage: './images/blog-placeholder-4.jpg'
---

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vitae ultricies leo integer malesuada nunc vel risus commodo viverra. Adipiscing enim eu turpis egestas pretium. Euismod elementum nisi quis eleifend quam adipiscing. In hac habitasse platea dictumst vestibulum. Sagittis purus sit amet volutpat. Netus et malesuada fames ac turpis egestas. Eget magna fermentum iaculis eu non diam phasellus vestibulum lorem. Varius sit amet mattis vulputate enim. Habitasse platea dictumst quisque sagittis. Integer quis auctor elit sed vulputate mi. Dictumst quisque sagittis purus sit amet.

Morbi tristique senectus et netus. Id semper risus in hendrerit gravida rutrum quisque non tellus. Habitasse platea dictumst quisque sagittis purus sit amet. Tellus molestie nunc non blandit massa. Cursus vitae congue mauris rhoncus. Accumsan tortor posuere ac ut. Fringilla urna porttitor rhoncus dolor. Elit ullamcorper dignissim cras tincidunt lobortis. In cursus turpis massa tincidunt dui ut ornare lectus. Integer feugiat scelerisque varius morbi enim nunc. Bibendum neque egestas congue quisque egestas diam. Cras ornare arcu dui vivamus arcu felis bibendum. Dignissim suspendisse in est ante in nibh mauris. Sed tempus urna et pharetra pharetra massa massa ultricies mi.

Mollis nunc sed id semper risus in. Convallis a cras semper auctor neque. Diam sit amet nisl suscipit. Lacus viverra vitae congue eu consequat ac felis donec. Egestas integer eget aliquet nibh praesent tristique magna sit amet. Eget magna fermentum iaculis eu non diam. In vitae turpis massa sed elementum. Tristique et egestas quis ipsum suspendisse ultrices. Eget lorem dolor sed viverra ipsum. Vel turpis nunc eget lorem dolor sed viverra. Posuere ac ut consequat semper viverra nam. Laoreet suspendisse interdum consectetur libero id faucibus. Diam phasellus vestibulum lorem sed risus ultricies tristique. Rhoncus dolor purus non enim praesent elementum facilisis. Ultrices tincidunt arcu non sodales neque. Tempus egestas sed sed risus pretium quam vulputate. Viverra suspendisse potenti nullam ac tortor vitae purus faucibus ornare. Fringilla urna porttitor rhoncus dolor purus non. Amet dictum sit amet justo donec enim.

Mattis ullamcorper velit sed ullamcorper morbi tincidunt. Tortor posuere ac ut consequat semper viverra. Tellus mauris a diam maecenas sed enim ut sem viverra. Venenatis urna cursus eget nunc scelerisque viverra mauris in. Arcu ac tortor dignissim convallis aenean et tortor at. Curabitur gravida arcu ac tortor dignissim convallis aenean et tortor. Egestas tellus rutrum tellus pellentesque eu. Fusce ut placerat orci nulla pellentesque dignissim enim sit amet. Ut enim blandit volutpat maecenas volutpat blandit aliquam etiam. Id donec ultrices tincidunt arcu. Id cursus metus aliquam eleifend mi.

Tempus quam pellentesque nec nam aliquam sem. Risus at ultrices mi tempus imperdiet. Id porta nibh venenatis cras sed felis eget velit. Ipsum a arcu cursus vitae. Facilisis magna etiam tempor orci eu lobortis elementum. Tincidunt dui ut ornare lectus sit. Quisque non tellus orci ac. Blandit libero volutpat sed cras. Nec tincidunt praesent semper feugiat nibh sed pulvinar proin gravida. Egestas integer eget aliquet nibh praesent tristique magna.



================================================
FILE: src/content/blog/third-post.mdx
================================================
---
title: 'Third post'
description: 'Lorem ipsum dolor sit amet'
pubDate: 'Jul 22 2022'
heroImage: './images/blog-placeholder-2.jpg'
---

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vitae ultricies leo integer malesuada nunc vel risus commodo viverra. Adipiscing enim eu turpis egestas pretium. Euismod elementum nisi quis eleifend quam adipiscing. In hac habitasse platea dictumst vestibulum. Sagittis purus sit amet volutpat. Netus et malesuada fames ac turpis egestas. Eget magna fermentum iaculis eu non diam phasellus vestibulum lorem. Varius sit amet mattis vulputate enim. Habitasse platea dictumst quisque sagittis. Integer quis auctor elit sed vulputate mi. Dictumst quisque sagittis purus sit amet.

Morbi tristique senectus et netus. Id semper risus in hendrerit gravida rutrum quisque non tellus. Habitasse platea dictumst quisque sagittis purus sit amet. Tellus molestie nunc non blandit massa. Cursus vitae congue mauris rhoncus. Accumsan tortor posuere ac ut. Fringilla urna porttitor rhoncus dolor. Elit ullamcorper dignissim cras tincidunt lobortis. In cursus turpis massa tincidunt dui ut ornare lectus. Integer feugiat scelerisque varius morbi enim nunc. Bibendum neque egestas congue quisque egestas diam. Cras ornare arcu dui vivamus arcu felis bibendum. Dignissim suspendisse in est ante in nibh mauris. Sed tempus urna et pharetra pharetra massa massa ultricies mi.

Mollis nunc sed id semper risus in. Convallis a cras semper auctor neque. Diam sit amet nisl suscipit. Lacus viverra vitae congue eu consequat ac felis donec. Egestas integer eget aliquet nibh praesent tristique magna sit amet. Eget magna fermentum iaculis eu non diam. In vitae turpis massa sed elementum. Tristique et egestas quis ipsum suspendisse ultrices. Eget lorem dolor sed viverra ipsum. Vel turpis nunc eget lorem dolor sed viverra. Posuere ac ut consequat semper viverra nam. Laoreet suspendisse interdum consectetur libero id faucibus. Diam phasellus vestibulum lorem sed risus ultricies tristique. Rhoncus dolor purus non enim praesent elementum facilisis. Ultrices tincidunt arcu non sodales neque. Tempus egestas sed sed risus pretium quam vulputate. Viverra suspendisse potenti nullam ac tortor vitae purus faucibus ornare. Fringilla urna porttitor rhoncus dolor purus non. Amet dictum sit amet justo donec enim.

Mattis ullamcorper velit sed ullamcorper morbi tincidunt. Tortor posuere ac ut consequat semper viverra. Tellus mauris a diam maecenas sed enim ut sem viverra. Venenatis urna cursus eget nunc scelerisque viverra mauris in. Arcu ac tortor dignissim convallis aenean et tortor at. Curabitur gravida arcu ac tortor dignissim convallis aenean et tortor. Egestas tellus rutrum tellus pellentesque eu. Fusce ut placerat orci nulla pellentesque dignissim enim sit amet. Ut enim blandit volutpat maecenas volutpat blandit aliquam etiam. Id donec ultrices tincidunt arcu. Id cursus metus aliquam eleifend mi.

Tempus quam pellentesque nec nam aliquam sem. Risus at ultrices mi tempus imperdiet. Id porta nibh venenatis cras sed felis eget velit. Ipsum a arcu cursus vitae. Facilisis magna etiam tempor orci eu lobortis elementum. Tincidunt dui ut ornare lectus sit. Quisque non tellus orci ac. Blandit libero volutpat sed cras. Nec tincidunt praesent semper feugiat nibh sed pulvinar proin gravida. Egestas integer eget aliquet nibh praesent tristique magna.



================================================
FILE: src/content/blog/using-mdx.mdx
================================================
---
title: 'Using MDX'
description: 'Lorem ipsum dolor sit amet'
pubDate: 'Jul 02 2022'
heroImage: './images/blog-placeholder-5.jpg'
---

This theme comes with the [@astrojs/mdx](https://docs.astro.build/en/guides/integrations-guide/mdx/) integration installed and configured in your `astro.config.mjs` config file. If you prefer not to use MDX, you can disable support by removing the integration from your config file.

## Why MDX?

MDX is a special flavor of Markdown that supports embedded JavaScript & JSX syntax. This unlocks the ability to [mix JavaScript and UI Components into your Markdown content](https://docs.astro.build/en/guides/markdown-content/#mdx-features) for things like interactive charts or alerts.

If you have existing content authored in MDX, this integration will hopefully make migrating to Astro a breeze.

## Example

Here is how you import and use a UI component inside of MDX.  
When you open this page in the browser, you should see the clickable button below.

## More Links

- [MDX Syntax Documentation](https://mdxjs.com/docs/what-is-mdx)
- [Astro Usage Documentation](https://docs.astro.build/en/guides/markdown-content/#markdown-and-mdx-pages)
- **Note:** [Client Directives](https://docs.astro.build/en/reference/directives-reference/#client-directives) are still required to create interactive components. Otherwise, all components in your MDX will render as static HTML (no JavaScript) by default.



================================================
FILE: src/layouts/BlogPost.astro
================================================
---
import type { MarkdownHeading } from 'astro'; // Import type
import { Icon } from 'astro-icon/components';
import type { CollectionEntry } from 'astro:content';
import { format } from 'date-fns';

import MainLayout from '~/layouts/Main.astro';

type Props = CollectionEntry<'blog'>['data'] & {
  remarkPluginFrontmatter: Record<string, any>;
  headings: MarkdownHeading[]; // Receive headings
};

const { title, description, pubDate, remarkPluginFrontmatter, headings } = Astro.props;
const { duration } = remarkPluginFrontmatter;

function formatDuration(duration: number) {
  const seconds = Math.ceil(duration / 1000);
  const minutes = Math.ceil(seconds / 60);
  return `${minutes} min read`;
}

const baseItems = [
  { label: '00. Metadata', id: 'post-header', depth: 1 },
];

const contentItems = headings
  // Filter out h1 (usually title) and anything too deep (h4+)
  .filter(h => h.depth > 1 && h.depth < 4)
  .map(h => ({
    label: h.text,
    id: h.slug,
    depth: h.depth
  }));

const footerItems = [
  { label: 'End of File', id: 'post-footer', depth: 1 }
];

// Combine
const postSidebar = [...baseItems, ...contentItems, ...footerItems];
---

<MainLayout title={title} description={description} sidebarItems={postSidebar}>
  
  <article class="flex flex-col min-h-screen">
    
    <!-- Post Header -->
    <header id="post-header" class="relative p-8 md:p-16 border-b border-white/20 bg-white/5 overflow-hidden">
      <!-- Clean Repeating Diagonal Stripes -->
      <div class="absolute inset-0 opacity-10 pointer-events-none" 
           style="background-image: repeating-linear-gradient(45deg, #ffffff 0, #ffffff 1px, transparent 0, transparent 50%); background-size: 10px 10px;">
      </div>

      <div class="relative z-10 flex flex-col gap-6">
        <!-- Meta Data -->
        <div class="flex flex-wrap items-center gap-4 font-mono text-xs uppercase tracking-widest text-muted-foreground">
          <div class="flex items-center gap-2 px-3 py-1 border border-white/10 bg-black/40">
            <Icon name="tabler:calendar" class="w-4 h-4" />
            <time datetime={format(pubDate, 'yyyy-MM-dd')}>
              {format(new Date(pubDate), 'dd MMM yyyy')}
            </time>
          </div>
          <div class="flex items-center gap-2 px-3 py-1 border border-white/10 bg-black/40">
            <Icon name="tabler:clock" class="w-4 h-4" />
            <span>{formatDuration(duration)}</span>
          </div>
        </div>

        <h1 class="text-3xl md:text-5xl lg:text-6xl font-black uppercase tracking-tighter leading-tight text-white">
          {title}
        </h1>
        
        <p class="text-lg md:text-xl text-muted-foreground font-mono border-l-2 border-green-500/50 pl-6 max-w-3xl">
          {description}
        </p>
      </div>
    </header>

    <!-- Post Content -->
    <!-- Note: We ensure headings have IDs (Astro MDX does this automatically) -->
    <div id="post-content" class="p-8 md:p-12 w-full max-w-none">
      <div class="prose prose-invert prose-lg prose-mono w-full max-w-4xl mx-auto
           prose-headings:font-bold prose-headings:uppercase prose-headings:tracking-tight prose-headings:scroll-mt-32
           prose-p:text-muted-foreground prose-p:leading-relaxed
           prose-a:text-green-400 prose-a:no-underline hover:prose-a:underline
           prose-code:text-white prose-code:bg-white/10 prose-code:px-1 prose-code:py-0.5 prose-code:rounded-none prose-code:before:content-none prose-code:after:content-none
           prose-pre:bg-transparent prose-pre:p-0 prose-pre:m-0 prose-pre:border-0 prose-pre:rounded-none
           prose-blockquote:border-l-2 prose-blockquote:border-white/20 prose-blockquote:bg-white/5 prose-blockquote:py-2 prose-blockquote:px-6 prose-blockquote:not-italic
           prose-img:rounded-none prose-img:border prose-img:border-white/20
           ">
        <slot />
      </div>
    </div>

    <!-- Article Footer -->
    <footer id="post-footer" class="p-8 md:p-12 border-t border-white/20 mt-auto opacity-60">
      <div class="flex items-center justify-between font-mono text-xs uppercase tracking-widest">
         <span>End of File</span>
         <span>Hash: {Math.random().toString(36).substring(7).toUpperCase()}</span>
      </div>
    </footer>

  </article>
</MainLayout>


================================================
FILE: src/layouts/Main.astro
================================================
---
import { Icon } from 'astro-icon/components';
import Footer from '~/components/Footer.astro';
import HalftoneEffect from '~/components/HalftoneEffect.astro';
import Metadata from '~/components/Metadata.astro';
import Navbar from '~/components/Navbar.astro';
import Sidebar from '~/components/Sidebar.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '~/consts';

const { 
  title = SITE_TITLE, 
  description = SITE_DESCRIPTION,
  sidebarItems = [
    { label: '00. Start', id: 'hero' },
    { label: '01. Skills', id: 'skills' },
    { label: '02. Projects', id: 'projects' },
    { label: '03. Experience', id: 'experience' },
    { label: '04. Simulation', id: 'contact' },
  ]
} = Astro.props;
---

<html lang="en" class="dark antialiased">
  <head>
    <Metadata title={title} description={description} />
  </head>
  <body class="min-h-screen bg-background text-foreground font-mono selection:bg-white selection:text-black overflow-x-hidden">
    
    <!-- 
      FIXED GRID LAYOUT:
      - Removed max-w-[100vw] (This forces width to include scrollbar area, causing stripes/overflow)
      - Used w-full (This respects the scrollbar width)
    -->
    <div class="grid grid-cols-1 lg:grid-cols-12 min-h-screen w-full relative">
      
      <!-- 1. LEFT SIDEBAR (Desktop Only) -->
      <aside class="hidden lg:flex col-span-3 border-r border-white/20 flex-col z-30 sticky top-0 h-screen bg-background">
        <div class="h-20 shrink-0 border-b border-white/20 flex items-center px-8"/>
        
        <div class="flex-1 relative">
           <Sidebar items={sidebarItems} />
        </div>

        <div class="shrink-0 border-t border-white/20 p-8">
          <div class="text-[10px] uppercase tracking-widest text-muted-foreground mb-4">
            External_Comms
          </div>
          <div class="grid grid-cols-2 gap-4">
            <a href="https://github.com/hadronomy" target="_blank" class="flex items-center gap-3 text-xs text-muted-foreground hover:text-white transition-colors group">
              <div class="w-8 h-8 border border-white/20 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all">
                <Icon name="simple-icons:github" class="w-4 h-4" />
              </div>
              <span>GitHub</span>
            </a>
            <a href="/rss.xml" target="_blank" class="flex items-center gap-3 text-xs text-muted-foreground hover:text-white transition-colors group">
              <div class="w-8 h-8 border border-white/20 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all">
                <Icon name="tabler:rss" class="w-4 h-4" />
              </div>
              <span>RSS</span>
            </a>
          </div>
        </div>
      </aside>
      
      <!-- 2. MAIN CONTENT -->
      <main class="col-span-1 lg:col-span-6 relative flex flex-col bg-black/20 z-10 lg:border-r border-white/20 min-h-screen w-full">
        
        <!-- NAVBAR -->
        <Navbar class="sticky top-0 z-[100]" transition:persist="navbar" />

        <!-- CONTENT STREAM -->
        <div class="flex-1 flex flex-col w-full relative z-0">
          <slot />
        </div>
        
        <div class="border-t border-white/20 mt-auto bg-background relative z-10 w-full">
           <Footer />
        </div>

        <!-- Texture Overlay -->
        <HalftoneEffect />
      </main>

      <!-- 3. RIGHT GUTTER (Desktop Only) -->
      <aside class="hidden lg:flex col-span-3 bg-background flex-col z-30 sticky top-0 h-screen">
         <div class="h-20 shrink-0 border-b border-white/20 flex items-center justify-end px-8">
         </div>

         <div class="flex-1 flex items-center justify-center opacity-20 select-none">
            <span class="writing-vertical-rl text-[10px] tracking-[0.3em] uppercase">
              // SCROLL_Y: ACTIVE //
            </span>
         </div>
      </aside>

    </div>
  </body>
</html>

<style>
  .writing-vertical-rl {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }
</style>


================================================
FILE: src/lib/pdf-signer.ts
================================================
/**
 * PDF Digital Signature Library
 *
 * This module provides functionality to digitally sign PDF documents using @signpdf/signpdf.
 * It supports both self-signed certificates for testing and external P12 certificates for production use.
 *
 * Key features:
 * - PKCS#7 detached signatures using @signpdf/signpdf
 * - Self-signed certificate generation with node-forge
 * - P12 certificate loading
 * - Proper PDF signature field creation
 * - Adobe Acrobat compatible signatures
 */

import * as fs from 'node:fs';
import { plainAddPlaceholder } from '@signpdf/placeholder-plain';
import { P12Signer } from '@signpdf/signer-p12';
import { SignPdf } from '@signpdf/signpdf';
import forge from 'node-forge';

export interface SigningOptions {
  certificatePath?: string;
  certificatePassword?: string;
  signerName?: string;
  location?: string;
  reason?: string;
}

/**
 * Signs a PDF buffer with a digital signature using @signpdf/signpdf
 * @param pdfBuffer The PDF buffer to sign
 * @param options Signing options including certificate path and password
 * @returns Signed PDF buffer
 */
export async function signPdfBuffer(
  pdfBuffer: Buffer,
  options: SigningOptions = {},
): Promise<Buffer> {
  try {
    const signPdf = new SignPdf();

    // Check for certificate from file path first, then environment variable
    let certificateBuffer: Buffer | null = null;
    let certificatePassword = options.certificatePassword || '';

    if (options.certificatePath && fs.existsSync(options.certificatePath)) {
      // Use P12 certificate from file
      certificateBuffer = fs.readFileSync(options.certificatePath);
    } else if (process.env.CERTIFICATE_P12) {
      // Use P12 certificate from environment variable (base64 encoded)
      certificateBuffer = Buffer.from(process.env.CERTIFICATE_P12, 'base64');
      certificatePassword =
        process.env.CERTIFICATE_PASSWORD || certificatePassword;
    }

    if (certificateBuffer) {
      const signer = new P12Signer(certificateBuffer, {
        passphrase: certificatePassword,
      });

      // Add placeholder to PDF
      const pdfWithPlaceholder = plainAddPlaceholder({
        pdfBuffer,
        reason: options.reason || 'Document Authentication',
        contactInfo: '',
        name: options.signerName || 'Pablo Hernandez',
        location: options.location || '',
      });

      // Sign the PDF
      const signedPdf = await signPdf.sign(pdfWithPlaceholder, signer);
      return Buffer.from(signedPdf);
    }

    // Generate self-signed certificate and create P12 buffer
    console.log(
      'No certificate provided, generating self-signed certificate for signing',
    );
    const { certificate, privateKey } = generateSelfSignedCertificate();

    // Convert to P12 format for @signpdf/signpdf
    const p12Buffer = createP12Buffer(certificate, privateKey);
    const signer = new P12Signer(p12Buffer, { passphrase: '' });

    // Add placeholder to PDF
    const pdfWithPlaceholder = plainAddPlaceholder({
      pdfBuffer,
      reason: options.reason || 'Document Authentication',
      contactInfo: '',
      name: options.signerName || 'Pablo Hernandez',
      location: options.location || '',
    });

    // Sign the PDF
    const signedPdf = await signPdf.sign(pdfWithPlaceholder, signer);
    return Buffer.from(signedPdf);
  } catch (error) {
    console.error('Error signing PDF:', error);
    throw new Error(
      `Failed to sign PDF: ${error instanceof Error ? error.message : 'Unknown error'}`,
    );
  }
}

/**
 * Creates a P12 buffer from certificate and private key for use with @signpdf/signpdf
 * @param certificate The certificate
 * @param privateKey The private key
 * @returns P12 buffer
 */
function createP12Buffer(
  certificate: forge.pki.Certificate,
  privateKey: forge.pki.PrivateKey,
): Buffer {
  // Create a PKCS#12 container
  const p12Asn1 = forge.pkcs12.toPkcs12Asn1(
    privateKey as any,
    [certificate],
    '', // Empty passphrase
    {
      algorithm: '3des',
    },
  );

  const p12Der = forge.asn1.toDer(p12Asn1).getBytes();
  return Buffer.from(p12Der, 'binary');
}

/**
 * Generates a self-signed certificate for testing purposes
 * @returns Certificate and private key pair
 * @note This is intended for development/testing only. Use proper certificates in production.
 */
function generateSelfSignedCertificate() {
  // Generate a key pair using the correct API
  const keys = forge.pki.rsa.generateKeyPair(2048);

  // Create a certificate
  const cert = forge.pki.createCertificate();
  cert.publicKey = keys.publicKey;
  cert.serialNumber = '01';
  cert.validity.notBefore = new Date();
  cert.validity.notAfter = new Date();
  cert.validity.notAfter.setFullYear(cert.validity.notBefore.getFullYear() + 1);

  const attrs = [
    { name: 'commonName', value: 'Pablo Hernandez' },
    { name: 'countryName', value: 'ES' },
    { shortName: 'ST', value: 'Madrid' },
    { name: 'localityName', value: 'Madrid' },
    { name: 'organizationName', value: 'Portfolio' },
    { shortName: 'OU', value: 'Development' },
  ];

  cert.setSubject(attrs);
  cert.setIssuer(attrs);
  cert.sign(keys.privateKey);

  return { certificate: cert, privateKey: keys.privateKey };
}



================================================
FILE: src/pages/404.astro
================================================
---
import { Icon } from 'astro-icon/components';
import MainLayout from '~/layouts/Main.astro';

import '@xterm/xterm/css/xterm.css';

const sidebarItems = [
  { label: 'FATAL_ERR', id: 'crash' },
  { label: 'TTY_Session', id: 'console' },
  { label: 'Power', id: 'recovery' },
];
---

<MainLayout title="404 | System Failure" sidebarItems={sidebarItems}>
  
  <div id="crt-overlay" class="fixed inset-0 z-[9999] pointer-events-none opacity-0 bg-white mix-blend-overlay"></div>
  <div id="blackout-overlay" class="fixed inset-0 z-[9998] pointer-events-none opacity-0 bg-black"></div>

  <div class="relative w-full h-full flex flex-col bg-[#050505] selection:bg-red-500/30 overflow-hidden">
    
    <!-- Background: Hex Grid (Subtle) -->
    <div class="absolute inset-0 z-0 overflow-hidden opacity-[0.03] pointer-events-none animate-bg-pan">
       <div class="hex-grid h-full w-full"></div>
    </div>

    <!-- SECTION 1: ERROR HEADER -->
    <div id="crash" class="relative z-20 w-full p-8 md:p-12 border-b border-white/20 bg-black/20 backdrop-blur-sm flex flex-col md:flex-row items-start md:items-center justify-between gap-8">
      
      <!-- Glitch 404 Title -->
      <div class="relative group cursor-default select-none">
        <h1 class="text-8xl md:text-9xl font-black text-white leading-none tracking-tighter mix-blend-difference">
          404
        </h1>
        <h1 class="text-8xl md:text-9xl font-black text-red-500/50 leading-none tracking-tighter absolute top-0 left-0 -translate-x-1 translate-y-1 -z-10 animate-glitch-1 opacity-0 group-hover:opacity-100">404</h1>
        <h1 class="text-8xl md:text-9xl font-black text-cyan-500/50 leading-none tracking-tighter absolute top-0 left-0 translate-x-1 -translate-y-1 -z-10 animate-glitch-2 opacity-0 group-hover:opacity-100">404</h1>
      </div>

      <!-- Error Description -->
      <div class="flex flex-col items-start md:items-end text-left md:text-right max-w-md">
        <div class="flex items-center gap-2 mb-2">
          <span class="w-2 h-2 bg-red-500 rounded-full animate-ping"></span>
          <span class="font-mono text-xs text-red-500 font-bold uppercase tracking-widest">Signal Lost</span>
        </div>
        <h2 class="text-xl md:text-2xl font-bold text-white uppercase tracking-tight mb-1">
          Sector Not Found
        </h2>
        <p class="font-mono text-xs text-muted-foreground leading-relaxed">
          The requested trajectory leads to void space. <br class="hidden md:block" /> Coordinates invalid or corrupted.
        </p>
      </div>
    </div>

    <!-- SECTION 2: FULL WIDTH TERMINAL -->
    <div id="console" class="relative z-10 flex-1 w-full flex flex-col min-h-0 bg-black/80 group/term">
      
      <!-- Terminal Bar -->
      <div class="flex shrink-0 items-center justify-between px-4 py-1.5 border-b border-white/10 bg-white/[0.02]">
        <div class="flex items-center gap-4">
          <div class="flex gap-1.5">
            <div class="w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500"></div>
            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500"></div>
            <div class="w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500"></div>
          </div>
          <span class="text-white/30 uppercase tracking-widest text-[10px] font-mono select-none">
            root@hadronomy:~/recovery
          </span>
        </div>
        <div class="text-[10px] font-mono text-white/20">bash -- 80x24</div>
      </div>

      <!-- Xterm Container -->
      <div class="flex-1 relative w-full p-4 overflow-hidden cursor-text" onclick="document.querySelector('.xterm-helper-textarea')?.focus()">
         <!-- Scanline Overlay -->
         <div class="absolute inset-0 pointer-events-none z-20 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%),linear-gradient(90deg,rgba(255,0,0,0.03),rgba(0,255,0,0.01),rgba(0,0,255,0.03))] bg-[size:100%_3px,3px_100%] opacity-50"></div>
         
         <!-- Terminal Div -->
         <div id="terminal-container" class="w-full h-full"></div>
      </div>
    </div>

    <!-- SECTION 3: CONTROL DECK -->
    <div id="recovery" class="relative z-20 shrink-0 h-24 border-t border-white/20 bg-[#0A0A0A] flex items-center justify-between px-8 md:px-12">
      
      <div class="absolute inset-0 opacity-[0.03] pointer-events-none" style="background-image: repeating-linear-gradient(-45deg, transparent, transparent 10px, white 10px, white 20px);"></div>

      <div class="hidden md:flex flex-col">
        <span class="font-mono text-[10px] text-white/30 uppercase tracking-widest">Emergency Protocol</span>
        <span class="font-mono text-xs text-white/60">Ready to execute</span>
      </div>

      <!-- THE BUTTON -->
      <button 
        id="btn-reboot"
        class="group relative flex items-center justify-center h-12 px-8 bg-transparent border border-white/20 overflow-hidden hover:border-white/50 transition-colors cursor-pointer"
      >
        <div class="absolute inset-0 bg-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out"></div>
        <div class="absolute inset-0 opacity-0 group-hover:opacity-10 pointer-events-none" style="background-image: repeating-linear-gradient(-45deg, transparent, transparent 5px, black 5px, black 10px);"></div>

        <div class="relative z-10 flex items-center gap-3">
          <Icon name="tabler:power" class="w-4 h-4 text-white group-hover:text-black transition-colors" />
          <span class="font-mono text-xs font-bold uppercase tracking-[0.2em] text-white group-hover:text-black transition-colors">
            Initiate Reboot
          </span>
        </div>

        <div class="absolute top-0 left-0 w-1 h-1 bg-white transition-colors group-hover:bg-black"></div>
        <div class="absolute bottom-0 right-0 w-1 h-1 bg-white transition-colors group-hover:bg-black"></div>
      </button>

    </div>

  </div>
</MainLayout>

<style>
  .hex-grid {
    background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    animation: bg-pan 60s linear infinite;
  }

  @keyframes bg-pan {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
  }

  @keyframes glitch-1 {
    0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 1px); }
    20% { clip-path: inset(60% 0 10% 0); transform: translate(2px, -1px); }
    100% { clip-path: inset(40% 0 50% 0); transform: translate(-2px, 2px); }
  }
  @keyframes glitch-2 {
    0% { clip-path: inset(10% 0 60% 0); transform: translate(2px, -1px); }
    20% { clip-path: inset(80% 0 5% 0); transform: translate(-2px, 1px); }
    100% { clip-path: inset(30% 0 10% 0); transform: translate(1px, -2px); }
  }
  .animate-glitch-1 { animation: glitch-1 2.5s infinite linear alternate-reverse; }
  .animate-glitch-2 { animation: glitch-2 3s infinite linear alternate-reverse; }

  /* Global Body Animation Class */
  :global(body.animate-crt-off) {
    animation: turn-off 0.55s cubic-bezier(0.230, 1.000, 0.320, 1.000) forwards;
    transform-origin: center;
    background-color: #050505;
    overflow: hidden;
  }

  @keyframes turn-off {
    0% { transform: scale(1, 1.3) translate3d(0, 0, 0); filter: brightness(1); opacity: 1; }
    60% { transform: scale(1, 0.001) translate3d(0, 0, 0); filter: brightness(10); }
    100% { transform: scale(0, 0.001) translate3d(0, 0, 0); opacity: 0; }
  }

  #terminal-container :global(.xterm-viewport), 
  #terminal-container :global(.xterm-screen) {
    background-color: transparent !important;
  }
</style>

<script>
  import { FitAddon } from '@xterm/addon-fit';
import { Terminal } from '@xterm/xterm';

  document.addEventListener('astro:page-load', () => {
    const container = document.getElementById('terminal-container');
    const rebootBtn = document.getElementById('btn-reboot');
    
    if (!container) return;

    // --- Xterm Setup ---
    const term = new Terminal({
      cursorBlink: true,
      cursorStyle: 'block',
      fontFamily: '"Maple Mono", "JetBrains Mono", monospace',
      fontSize: 14,
      lineHeight: 1.4,
      allowTransparency: true,
      theme: {
        background: '#00000000',
        foreground: '#a9b1d6',
        cursor: '#ffffff',
        selectionBackground: 'rgba(255, 255, 255, 0.3)',
        black: '#32344a',
        red: '#f7768e',
        green: '#9ece6a',
        yellow: '#e0af68',
        blue: '#7aa2f7',
        magenta: '#ad8ee6',
        cyan: '#449dab',
        white: '#787c99',
      }
    });

    const fitAddon = new FitAddon();
    term.loadAddon(fitAddon);
    term.open(container);
    fitAddon.fit();

    let isRebooting = false;
    const prompt = '\x1b[1;34mroot@hadronomy\x1b[0m:\x1b[1;32m~/recovery\x1b[0m$ ';
    let commandBuffer = '';

    const sleep = (ms: number) => new Promise(r => setTimeout(r, ms));

    const typeText = async (text: string, speed = 10) => {
      for (const char of text) {
        term.write(char);
        await sleep(speed);
      }
      term.write('\r\n');
    };

    const progressBar = async (label: string, steps = 20) => {
      term.write(`${label} [`);
      for (let i = 0; i <= steps; i++) {
        term.write('#');
        await sleep(Math.random() * 50);
      }
      term.write('] \x1b[32mDONE\x1b[0m\r\n');
    };

    const triggerReboot = async () => {
      if (isRebooting) return;
      isRebooting = true;

      term.write('\r\n\r\n');
      await typeText('\x1b[31m[!]\x1b[0m MANUAL OVERRIDE INITIATED...', 20);
      await sleep(300);
      await typeText('\x1b[33m[*]\x1b[0m Sending SIGTERM to all processes...', 5);
      await progressBar('Stopping services', 30);
      
      term.write('\x1b[38;5;240m');
      for(let i=0; i<30; i++) {
        term.write(`0x${Math.floor(Math.random()*16777215).toString(16).toUpperCase()} `);
        if(i%6===0) term.write('\r\n');
        await sleep(5);
      }
      term.write('\x1b[0m\r\n');

      await typeText('\x1b[32m[+]\x1b[0m FLUSHING MEMORY BUFFERS...', 5);
      await sleep(400);
      await typeText('\x1b[32m[OK]\x1b[0m SYSTEM HALTED.', 50);
      
      await sleep(500);
      
      const crt = document.getElementById('crt-overlay');
      const black = document.getElementById('blackout-overlay');
      
      if (crt && black) {
        crt.style.opacity = '0.2';
        await sleep(50);
        crt.style.opacity = '0';
        
        // This triggers the CSS animation on the body
        document.body.classList.add('animate-crt-off');
        
        black.style.opacity = '1';
        black.style.transition = 'opacity 2s ease-in';
      }

      await sleep(800);
      window.location.href = '/';
    };

    const runCommand = async (cmd: string) => {
      term.write('\r\n');
      const cleanCmd = cmd.trim().toLowerCase();
      const parts = cleanCmd.split(' ');
      const baseCmd = parts[0];
      const arg = parts[1];

      switch (baseCmd) {
        case 'help':
          await typeText('Available commands: \x1b[33mreboot\x1b[0m, \x1b[33mls\x1b[0m, \x1b[33mcat\x1b[0m, \x1b[33mstatus\x1b[0m, \x1b[33mclear\x1b[0m, \x1b[33mwhoami\x1b[0m', 0);
          break;
        case 'reboot':
        case 'exit':
          triggerReboot();
          return; 
        case 'ls':
          if (arg === '-la' || arg === '-a') {
             await typeText('drwxr-xr-x  2 root root  4096 Dec 20 08:00 .', 0);
             await typeText('drwxr-xr-x  4 root root  4096 Dec 20 08:00 ..', 0);
             await typeText('-rw-r--r--  1 root root   512 Dec 20 08:00 .ghost_protocol', 0);
             await typeText('-rw-r--r--  1 root root     0 Dec 20 08:00 404_error.log', 0);
             await typeText('-rwxr-xr-x  1 root root  1024 Dec 20 08:00 recovery_tool.sh', 0);
          } else {
             await typeText('404_error.log  recovery_tool.sh', 0);
          }
          break;
        case 'cat':
          if (arg === '404_error.log') {
            await typeText('[ERROR] 0x00000000 - SECTOR_NOT_FOUND', 0);
            await typeText('[INFO]  The requested resource vanished into the ether.', 0);
          } else if (arg === '.ghost_protocol' || arg === 'ghost_protocol') {
            await typeText('\x1b[35m[SECRET]\x1b[0m Project "H A D R O N" Initialized.', 0);
            await typeText('Target: World Domination via Clean Code.', 0);
          } else if (arg === 'recovery_tool.sh') {
             await typeText('#!/bin/bash', 0);
             await typeText('echo "Please click the reboot button below."', 0);
          } else if (!arg) {
             await typeText('cat: missing operand', 0);
          } else {
             await typeText(`cat: ${arg}: No such file or directory`, 0);
          }
          break;
        case 'status':
          await typeText('System Status: \x1b[31mCRITICAL\x1b[0m', 0);
          await typeText('CPU: 3% (Idle)', 0);
          await typeText('Router: \x1b[31mFAILED\x1b[0m', 0);
          break;
        case 'whoami':
          await typeText('visitor@internet', 0);
          break;
        case 'sudo':
          await typeText('visitor is not in the sudoers file. This incident will be reported.', 0);
          break;
        case 'rm':
          if (arg === '-rf' && parts[2] === '/') {
             await typeText('\x1b[31m[DANGER] SELF DESTRUCT SEQUENCE ARMED...\x1b[0m', 20);
             await sleep(1000);
             await typeText('Just kidding. Please don\'t delete my portfolio.', 20);
          } else {
             await typeText('Permission denied.', 0);
          }
          break;
        case 'matrix':
          for(let i=0; i<10; i++) {
             let line = '';
             for(let j=0; j<40; j++) line += Math.random() > 0.5 ? '1' : '0';
             await typeText(`\x1b[32m${line}\x1b[0m`, 5);
          }
          await typeText('The matrix has you...', 50);
          break;
        case 'clear':
          term.clear();
          term.write(prompt);
          return;
        case '': break;
        default:
          await typeText(`\x1b[31mCommand not found: ${cleanCmd}\x1b[0m`, 0);
      }
      
      if (!isRebooting) term.write(prompt);
    };

    term.onKey(({ key, domEvent }) => {
      if (isRebooting) return;
      
      if (domEvent.key === 'Enter') {
        runCommand(commandBuffer);
        commandBuffer = '';
        return;
      }
      
      if (domEvent.key === 'Backspace') {
        if (commandBuffer.length > 0) {
          commandBuffer = commandBuffer.slice(0, -1);
          term.write('\b \b');
        }
        return;
      }

      const isPrintable = !domEvent.altKey && !domEvent.ctrlKey && !domEvent.metaKey && key.length === 1;

      if (isPrintable) {
        commandBuffer += key;
        term.write(key);
      }
    });

    const boot = async () => {
      term.writeln('\x1b[33m[WARN]\x1b[0m Connection lost with upstream server.');
      await sleep(100);
      term.write('Checking memory integrity... ');
      await progressBar('', 10);
      term.writeln('\x1b[32m[INFO]\x1b[0m Hardware: OK');
      term.writeln('\x1b[32m[INFO]\x1b[0m Emergency shell loaded.');
      await sleep(200);
      term.write(prompt);
    };

    boot();

    if (rebootBtn) {
      rebootBtn.addEventListener('click', (e) => {
        e.preventDefault();
        triggerReboot();
      });
    }

    new ResizeObserver(() => fitAddon.fit()).observe(container);
  });
</script>


================================================
FILE: src/pages/cv.pdf.ts
================================================
import { type DocumentProps, renderToBuffer } from '@react-pdf/renderer';
import type { APIContext } from 'astro';
import React from 'react';

import { CVDocument } from '~/components/react/cv';
import { type SigningOptions, signPdfBuffer } from '~/lib/pdf-signer';

export async function GET(_context: APIContext) {
  const document = React.createElement(CVDocument, {});
  const documentBuffer = await renderToBuffer(
    document as React.ReactElement<DocumentProps>,
  );

  // Sign the PDF with digital signature
  const signingOptions: SigningOptions = {
    signerName: 'Pablo Hernandez',
    location: 'San Cristóbal de La Laguna, Santa Cruz de Tenerife, Spain',
    reason: 'CV Authentication',
  };

  const signedBuffer = await signPdfBuffer(documentBuffer, signingOptions);

  return new Response(new Uint8Array(signedBuffer), {
    headers: {
      'Content-Type': 'application/pdf',
      'Content-Disposition': 'inline; filename="Pablo_Hernandez-CV.pdf"',
      'Cache-Control': 'public, max-age=31536000, immutable',
      'Content-Length': signedBuffer.length.toString(),
    },
  });
}



================================================
FILE: src/pages/favicon.ico.ts
================================================
import path from 'node:path';
import sharp from 'sharp';
import ico from 'sharp-ico';

const faviconSrc = path.resolve('src/favicon.png');

export async function GET() {
  // resize to 16px and 32px PNG
  const buffer16 = await sharp(faviconSrc)
    .resize(16)
    .toFormat('png')
    .toBuffer();
  const buffer32 = await sharp(faviconSrc)
    .resize(32)
    .toFormat('png')
    .toBuffer();
  // generate ico
  const icoBuffer = ico.encode([buffer16, buffer32]);

  return new Response(new Uint8Array(icoBuffer), {
    headers: { 'Content-Type': 'image/x-icon' },
  });
}



================================================
FILE: src/pages/index.astro
================================================
---
import '~/styles/global.css';

import ExperienceTimeline from '~/components/ExperienceTimeline.astro';
import Hero from '~/components/HomeHero.astro';
import ProjectGrid from '~/components/ProjectGrid.astro';
import SkillGrid from '~/components/SkillGrid.astro';
import MainLayout from '~/layouts/Main.astro';

import { GITHUB_TOKEN } from "astro:env/server";
import { GrassView } from '~/components/react/grass';
import { InteractiveBadge } from '~/components/react/interactive-badge';

// Define the skills array
const skills = [
  { name: 'TypeScript', icon: 'logos:typescript-icon' },
  { name: 'JavaScript', icon: 'logos:javascript' },
  { name: 'React', icon: 'logos:react' },
  { name: 'Rust', icon: 'material-icon-theme:rust' },
  { name: 'Python', icon: 'logos:python' },
  { name: 'C++', icon: 'logos:c-plusplus' },
  { name: 'HTML', icon: 'vscode-icons:file-type-html' },
  { name: 'CSS', icon: 'vscode-icons:file-type-css' },
  { name: 'Node.js', icon: 'logos:nodejs-icon' },
  { name: 'Next.js', icon: 'logos:nextjs-icon' },
  { name: 'Astro', icon: 'simple-icons:astro' },
  { name: 'Tailwind CSS', icon: 'logos:tailwindcss-icon' },
  { name: 'Docker', icon: 'logos:docker-icon' },
  { name: 'PostgreSQL', icon: 'logos:postgresql' },
  { name: 'Git', icon: 'logos:git-icon' },
  { name: 'Linux', icon: 'logos:linux-tux' },
  { name: 'Kubernetes', icon: 'logos:kubernetes' },
  { name: 'Go', icon: 'logos:go' },
  { name: 'Zig', icon: 'material-icon-theme:zig' },
  { name: 'WebAssembly', icon: 'logos:webassembly' },
  { name: 'Prisma', icon: 'logos:prisma' },
  { name: 'Vite', icon: 'logos:vitejs' },
  { name: 'Three.js', icon: 'logos:threejs' },
  { name: 'Tauri', icon: 'logos:tauri' }
];

// Define experience data
const experiences = [
  {
    title: 'Computer Science Student',
    organization: 'Universidad de La Laguna',
    period: '2021 - 2025',
    description: 'Studied advanced algorithms, software architecture, and full-stack development. Participated in coding competitions and led student projects.',
    tags: ['Algorithms', 'Software Design', 'Full-stack']
  },
  {
    title: 'Self-Taught Programmer',
    organization: 'Self',
    period: '2014 - Present',
    description: 'Over 10 years of continuous learning across all fields of programming. From web development to systems programming, exploring various languages, frameworks, and paradigms through personal projects and open-source contributions.',
    tags: ['Full-stack', 'Systems Programming', 'Open Source', 'Multi-paradigm']
  },
];

// Fetch GitHub projects data
const username = 'hadronomy';
let projects = [];
try {
  const response = await fetch(
    `https://api.github.com/users/${username}/repos?sort=updated&per_page=6`, 
    { headers: { Authorization: `Bearer ${GITHUB_TOKEN}` } },
  );
  if(response.ok) {
    projects = await response.json();
  }
} catch(e) {
  console.error("Failed to fetch github repos", e);
}
---

<MainLayout>
  <!-- Hero Section -->
  <Hero id="hero" />

  <!-- Skills -->
  <div id="skills" class="scroll-mt-24 border-b border-white/20">
    <div class="p-8 bg-white/5 border-b border-white/20">
      <div class="flex items-center gap-4">
        <span class="text-4xl font-mono font-bold text-white/10">01</span>
        <h2 class="text-xl font-bold uppercase tracking-widest">Technical Proficiency</h2>
      </div>
    </div>
    <SkillGrid skills={skills} />
  </div>

  <!-- Projects -->
  <div id="projects" class="scroll-mt-24 border-b border-white/20">
    <div class="p-8 bg-white/5 border-b border-white/20">
      <div class="flex items-center gap-4">
        <span class="text-4xl font-mono font-bold text-white/10">02</span>
        <h2 class="text-xl font-bold uppercase tracking-widest">Selected Works</h2>
      </div>
    </div>
    <ProjectGrid projects={projects} />
  </div>

  <!-- Experience -->
  <div id="experience" class="scroll-mt-24 border-b border-white/20">
    <div class="p-8 bg-white/5 border-b border-white/20">
      <div class="flex items-center gap-4">
        <span class="text-4xl font-mono font-bold text-white/10">03</span>
        <h2 class="text-xl font-bold uppercase tracking-widest">Career History</h2>
      </div>
    </div>
    <ExperienceTimeline items={experiences} />
  </div>

  <!-- Contact / Playground Section -->
  <section id="contact" class="scroll-mt-24 flex flex-col w-full border-b border-white/20">
      
      <!-- 1. The Access Card (Physics Simulation) -->
      <div class="relative w-full h-[500px] bg-[#050505] border-b border-white/20 overflow-hidden group">
        
        <!-- Background Grid -->
        <div class="absolute inset-0 bg-[linear-gradient(to_right,#ffffff03_1px,transparent_1px),linear-gradient(to_bottom,#ffffff03_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none"></div>

        <!-- Header Overlay -->
        <div class="absolute top-0 left-0 w-full p-6 flex justify-between items-start z-10 pointer-events-none">
           <div class="flex flex-col gap-1">
              <span class="font-mono text-xs text-white/40 uppercase tracking-widest">Security Checkpoint</span>
              <h3 class="text-xl font-bold uppercase tracking-tight">Visitor Access</h3>
           </div>
           <div class="px-3 py-1 border border-white/10 bg-white/5 text-[10px] font-mono uppercase text-green-500 animate-pulse">
              Physics_Engine: Active
           </div>
        </div>

        <!-- Center: Interaction Prompt -->
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500">
           <span class="font-mono text-[10px] text-white/40 uppercase tracking-[0.2em] bg-black/50 px-4 py-2 border border-white/10 rounded-full backdrop-blur-md">
              [ Drag to Interact ]
           </span>
        </div>

        <!-- The 3D Scene -->
        <div class="w-full h-full cursor-grab active:cursor-grabbing">
           <InteractiveBadge client:visible />
        </div>
      </div>

      <!-- 2. Terrain (Touch Grass Reference) -->
      <div class="relative w-full h-[600px] bg-black overflow-hidden group">
        
        <!-- Header Overlay -->
        <div class="absolute top-6 left-6 z-10 pointer-events-none">
           <div class="inline-flex items-center gap-2 px-3 py-1 border border-white/20 bg-black/40 backdrop-blur-md">
             <div class="w-2 h-2 bg-green-500 rounded-full"></div>
             <span class="font-mono text-xs uppercase tracking-widest">Environment_Render</span>
           </div>
        </div>

        <!-- "Touch Grass" Call to Action Overlay -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 text-center pointer-events-none mix-blend-difference">
           <p class="font-mono text-xs md:text-sm text-white/60 mb-2 tracking-[0.2em] uppercase">System Overheated?</p>
           <h2 class="text-5xl md:text-7xl font-black text-white tracking-tighter uppercase leading-none opacity-20 group-hover:opacity-100 transition-opacity duration-700">
              Go Touch<br/>Grass
           </h2>
        </div>

        <!-- The 3D Grass Scene -->
        <div class="w-full h-full">
           <GrassView client:visible />
        </div>
        
        <!-- Bottom Contact Footer Overlay -->
        <div class="absolute bottom-0 left-0 w-full p-8 md:p-12 bg-gradient-to-t from-black via-black/80 to-transparent z-10 flex flex-col md:flex-row justify-between items-end gap-6">
          <div class="max-w-md">
            <h3 class="text-2xl font-bold mb-2">Ready to collaborate?</h3>
            <p class="text-muted-foreground font-mono text-sm leading-relaxed">
              Initiate communication protocol. Available for freelance projects and full-time opportunities.
            </p>
          </div>
          
          <div class="flex flex-col items-end">
             <span class="font-mono text-[10px] text-white/40 uppercase tracking-widest mb-1">Email Transmission</span>
             <a href="mailto:hadronomy@gmail.com" class="text-xl md:text-3xl font-mono text-white hover:text-green-400 transition-colors border-b border-transparent hover:border-green-400 pb-1">
               hadronomy@gmail.com
             </a>
          </div>
        </div>
      </div>
  </section>
</MainLayout>


================================================
FILE: src/pages/robots.txt.ts
================================================
const robotsTxt = `
User-agent: *
Allow: /
Sitemap: ${new URL('sitemap-index.xml', import.meta.env.SITE).href}
`.trim();

export function GET() {
  return new Response(robotsTxt, {
    headers: {
      'Content-Type': 'text/plain; charset=utf-8',
    },
  });
}



================================================
FILE: src/pages/rss.xml.ts
================================================
import rss from '@astrojs/rss';
import type { APIContext } from 'astro';
import { getCollection } from 'astro:content';

import { SITE_DESCRIPTION, SITE_TITLE, SITE_URL } from '~/consts';

export async function GET(context: APIContext) {
  const posts = await getCollection('blog');
  return rss({
    title: SITE_TITLE,
    stylesheet: '/rss/styles.xsl',
    description: SITE_DESCRIPTION,
    site: context.site ?? SITE_URL,
    items: posts.map((post) => ({
      ...post.data,
      link: `/blog/${post.id}/`,
    })),
  });
}



================================================
FILE: src/pages/test.astro
================================================
---
import '~/styles/global.css';

import Metadata from '~/components/Metadata.astro';
import { GrassView } from '~/components/react/grass';

// Redirect to 404 in production
if (import.meta.env.PROD) {
  return Astro.redirect('/404');
}

---
<html>
  <head>
    <Metadata title="Test page" description="threejs test scene" />
  </head>
  </head>
  <body>
    <main class="dark bg-background w-full h-screen">
      <GrassView client:load showStats />
    </main>
  </body>
</html>



================================================
FILE: src/pages/blog/[...slug].astro
================================================
---
import { type CollectionEntry, getCollection, render } from 'astro:content';
import { components } from '~/components/react/mdx';
import BlogPost from '~/layouts/BlogPost.astro';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  return posts.map((post) => ({
    params: { slug: post.id },
    props: post,
  }));
}
type Props = CollectionEntry<'blog'>;

const post = Astro.props;
// Get headings from render
const { Content, headings, remarkPluginFrontmatter } = await render(post);
---

<!-- Pass headings to the layout -->
<BlogPost {remarkPluginFrontmatter} headings={headings} {...post.data}>
  <Content components={{ ...components }} />
</BlogPost>


================================================
FILE: src/pages/blog/index.astro
================================================
---
import { getCollection } from 'astro:content';
import BlogPostCard from '~/components/BlogPostCard.astro';
import MainLayout from '~/layouts/Main.astro';

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

// Sidebar for Blog Index could be simple links or filters in the future
// For now we just show a "Directory" active state
const blogSidebar = [
  { label: '>> Directory Root', id: 'directory' },
  { label: 'Latest Logs', id: 'latest' },
  { label: 'Archive', id: 'archive' },
];
---

<MainLayout sidebarItems={blogSidebar} title="Blog | Archive">
  
  <!-- Header Section -->
  <div id="directory" class="p-8 md:p-12 border-b border-white/20 bg-white/5">
    <div class="flex items-center gap-3 mb-4">
      <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
      <span class="font-mono text-xs text-green-500 tracking-widest uppercase">Database Connected</span>
    </div>
    
    <h1 class="text-4xl md:text-6xl font-black uppercase tracking-tighter mb-4">
      Engineering<br/>Logs
    </h1>
    
    <p class="font-mono text-sm text-muted-foreground max-w-xl border-l-2 border-white/20 pl-4">
      Documentation of experiments, technical breakdowns, and development notes. All records are immutable.
    </p>
  </div>

  <!-- Filter Bar (Visual only for now) -->
  <div class="w-full flex border-b border-white/20 font-mono text-xs uppercase tracking-widest sticky top-0 z-40 bg-background/90 backdrop-blur-md">
    <div class="px-6 py-3 border-r border-white/20 bg-white text-black font-bold">All Logs</div>
    <div class="px-6 py-3 border-r border-white/20 text-muted-foreground hover:bg-white/5 cursor-pointer">DevLogs</div>
    <div class="px-6 py-3 border-r border-white/20 text-muted-foreground hover:bg-white/5 cursor-pointer">Tutorials</div>
    <div class="flex-1"></div>
    <div class="px-6 py-3 flex items-center gap-2 text-muted-foreground">
      <span>{posts.length} Records Found</span>
    </div>
  </div>

  <!-- Post Grid -->
  <div id="latest" class="p-6 md:p-8 flex flex-col gap-4 min-h-[50vh]">
    {
      posts.map((post, index) => (
        <BlogPostCard post={post} index={index} />
      ))
    }
  </div>

  <!-- Archive Section Placeholder -->
  <div id="archive" class="p-8 border-t border-white/20 mt-auto opacity-50">
    <span class="font-mono text-xs uppercase tracking-widest">End of Records</span>
  </div>

</MainLayout>


================================================
FILE: src/styles/global.css
================================================
@import 'tailwindcss';
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';

@config '../../tailwind.config.ts';

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--border);
  }
}

@layer base {
  :root {
    /* Force Dark Mode Default */
    --background-image: url('/noise.png');
    --background: 0 0% 5%;
    --foreground: 0 0% 95%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 60%;

    --popover: 0 0% 5%;
    --popover-foreground: 0 0% 95%;

    --card: 0 0% 5%;
    --card-foreground: 0 0% 95%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;

    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 5%;

    --secondary: 0 0% 15%;
    --secondary-foreground: 0 0% 98%;

    --accent: 0 0% 20%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 98%;

    --ring: 0 0% 80%;

    --radius: 0px;

    --font-sans: 'Maple Mono', 'Onest Variable', sans-serif;
    --font-mono: 'Maple Mono', monospace;

    --halftone: rgba(255, 255, 255, 0.1);

    color-scheme: dark;

    --animate-sparkle: sparkle 700ms forwards;
  }

  /* Force Dark styling regardless of preference for this specific aesthetic */
  .dark {
    --background-image: url('/noise.png');
    --background: 0 0% 5%;
    --foreground: 0 0% 95%;
    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 60%;
    --border: 0 0% 20%;
    --halftone: rgba(20, 20, 20, 0.8);
  }
}

@layer base {
  * {
    @apply border-border box-border;
  }

  body {
    @apply bg-background text-foreground font-mono antialiased overflow-x-hidden;
    /* Diagonal Stripe Pattern */
    background-image: linear-gradient(
      45deg, 
      rgba(255, 255, 255, 0.03) 25%, 
      transparent 25%, 
      transparent 50%, 
      rgba(255, 255, 255, 0.03) 50%, 
      rgba(255, 255, 255, 0.03) 75%, 
      transparent 75%, 
      transparent
    );
    background-size: 4px 4px;
  }

  /* 
     SCROLLBAR STYLING 
  */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
    background: transparent;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: #333;
    border-radius: 4px;
    border: 2px solid transparent; /* Creates padding around the thumb */
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: #666;
  }

  /* Brutalist Utilities */
  .neo-border-r {
    border-right: 1px solid var(--border);
  }
  
  .neo-border-b {
    border-bottom: 1px solid var(--border);
  }

  .neo-border-l {
    border-left: 1px solid var(--border);
  }

  .neo-border-t {
    border-top: 1px solid var(--border);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-mono uppercase tracking-wider font-bold;
  }

  /* 
    CODE BLOCK FIXES 
    - Using flex-col instead of grid prevents ghost rows from newlines.
    - min-width: 0 prevents flex child overflow issues.
  */
  pre code {
    @apply flex! flex-col! text-[14px]! font-medium! font-mono! p-0! m-0! min-w-0!;
    font-variant-ligatures: additional-ligatures !important;
    line-height: 1.6 !important;
  }

  code:not(pre code):not(pre * code) {
    @apply rounded-lg! border-2! p-0.25! m-0! bg-muted! text-foreground/100!;
  }

  /* LIST STYLING FIXES */

  /* Target lists inside .prose specifically to override defaults */
  .prose ul,
  .prose ol {
    margin: 0.75rem 0;
    padding: 0 !important; /* Remove prose padding */
    list-style: none !important; /* Kill default markers */
    --indent-col: 1.5rem;   
    --indent-step: 1.25rem; 
    --gap: 0.5rem;          
    color: inherit;
  }

  /* Small top margin before any nested list */
  .prose li > ul,
  .prose li > ol {
    margin-top: 0.35rem;
  }

  /* -------- Level 1 (Top Level) -------- */
  .prose > ul > li,
  .prose > ol > li {
    display: grid; /* This removes the default ::marker behavior */
    grid-template-columns: var(--indent-col) 1fr;
    gap: 0.5rem;
    align-items: start;
  }
  
  .prose > ul > li + li,
  .prose > ol > li + li {
    margin-top: var(--gap);
  }

  /* -------- Level 2 -------- */
  .prose ul ul > li,
  .prose ul ol > li,
  .prose ol ul > li,
  .prose ol ol > li {
    display: grid;
    grid-template-columns: calc(var(--indent-col) + var(--indent-step)) 1fr;
    gap: 0.5rem;
    align-items: start;
  }
  .prose ul ul > li + li,
  .prose ul ol > li + li,
  .prose ol ul > li + li,
  .prose ol ol > li + li {
    margin-top: var(--gap);
  }

  /* -------- Level 3 -------- */
  .prose ul ul ul > li,
  .prose ul ul ol > li,
  .prose ol ul ul > li,
  .prose ol ol ul > li {
    display: grid;
    grid-template-columns: calc(var(--indent-col) + 2 * var(--indent-step)) 1fr;
    gap: 0.5rem;
    align-items: start;
  }
  .prose ul ul ul > li + li,
  .prose ul ul ol > li + li,
  .prose ol ul ul > li + li,
  .prose ol ol ul > li + li {
    margin-top: var(--gap);
  }

  /* -------- Level 4 -------- */
  .prose ul ul ul ul > li,
  .prose ul ul ul ol > li,
  .prose ol ul ul ul > li,
  .prose ol ol ul ul > li {
    display: grid;
    grid-template-columns: calc(var(--indent-col) + 3 * var(--indent-step)) 1fr;
    gap: 0.5rem;
    align-items: start;
  }
  .prose ul ul ul ul > li + li,
  .prose ul ul ul ol > li + li,
  .prose ol ul ul ul > li + li,
  .prose ol ol ul ul > li + li {
    margin-top: var(--gap);
  }

  /* -------- Markers -------- */

  /* UL marker: custom symbol */
  .prose ul > li::before {
    content: "->";
    color: #6b7280;
    line-height: 1.2;
    translate: 0 0.15em;
    justify-self: end; /* right-align in marker column */
  }

  /* OL markers: hierarchical numbers using CSS counters */
  .prose ol {
    counter-reset: item;
  }
  .prose ol > li {
    counter-increment: item;
  }
  .prose ol > li::before {
    content: counters(item, ".") ".";
    color: #6b7280;
    line-height: 1.2;
    translate: 0 0.15em;
    justify-self: end;
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  /* Alternate UL markers per depth */
  .prose ul ul > li::before {
    content: "•";
  }
  .prose ul ul ul > li::before {
    content: "–";
  }

  /* Tighten text line-height slightly for nested items */
  .prose ul ul > li,
  .prose ol ul > li,
  .prose ul ol > li,
  .prose ol ol > li {
    line-height: 1.45;
  }

  article {
    @apply break-words;
  }

  /* 
    KBD STYLING 
    "Mechanical Key" Look - Fixed Layout Shift
  */
  
  kbd {
    box-sizing: border-box;
    font-family: var(--font-mono);
  }

  /* Wrapper Container (e.g. CTRL + C) */
  kbd:has(kbd) {
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.35em !important;
    
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
    
    color: var(--muted-foreground) !important;
    font-weight: normal !important;
    font-size: 0.9em !important;
    vertical-align: baseline !important;
  }

  /* The actual Key Cap */
  kbd:not(:has(kbd)) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    
    background: linear-gradient(180deg, #333 0%, #222 100%);
    border: 1px solid #555;
    
    /* The 3D Depth */
    border-bottom: 3px solid #111; 
    border-radius: 4px;
    
    color: #fff;
    text-shadow: 0 1px 1px rgba(0,0,0,0.8);
    font-family: var(--font-mono);
    font-size: 0.75em;
    font-weight: 700;
    line-height: 1;
    
    min-width: 24px;
    height: 26px;
    padding: 0 6px;
    margin: 0 2px;
    
    box-shadow: 0 2px 4px rgba(0,0,0,0.4);
    
    /* Default state */
    transform: translateY(0); 
    transition: all 0.1s ease;
  }

  /* Key Press Effect - No Reflow */
  kbd:not(:has(kbd)):active {
    /* 
       Instead of changing border-width (which causes reflow),
       we make the border transparent and translate the element down.
    */
    border-bottom-color: transparent; 
    transform: translateY(3px); /* Move down by the depth amount */
    
    box-shadow: none;
    background: #111;
  }

  /* 
     MARK / HIGHLIGHT STYLING 
     Cyber-Green Theme
  */
  mark {
    background-color: rgba(34, 197, 94, 0.15);
    color: #4ade80; /* bright green */
    
    border-bottom: 1px solid rgba(34, 197, 94, 0.5);
    border-radius: 2px;
    padding: 0 2px;
    
    font-weight: bold;
    text-shadow: 0 0 10px rgba(74, 222, 128, 0.4);
    box-shadow: 0 0 15px rgba(34, 197, 94, 0.05);
  }

  /* Line Numbers */
  code[data-line-numbers] {
    counter-reset: line;
  }

  code[data-line-numbers] > [data-line]::before {
    counter-increment: line;
    content: counter(line);
    display: inline-block;
    width: 0.75rem;
    margin-right: 2rem;
    text-align: right;
    color: var(--muted-foreground);
    opacity: 40%;
  }

  code[data-line-numbers-max-digits='2'] > [data-line]::before {
    width: 1.25rem;
  }

  code[data-line-numbers-max-digits='3'] > [data-line]::before {
    width: 1.75rem;
  }

  code[data-line-numbers-max-digits='4'] > [data-line]::before {
    width: 2.25rem;
  }

  /* Shiki themes */
  html.dark .shiki,
  html.dark .shiki span {
    color: var(--shiki-dark) !important;
    font-style: var(--shiki-dark-font-style) !important;
    font-weight: var(--shiki-dark-font-weight) !important;
    text-decoration: var(--shiki-dark-text-decoration) !important;
  }

  /* Halftone */
  .bg-halftone {
    --bg-size: 0.3rem;
    --bg-position: calc(var(--bgSize) / 2);
    --stop1: 3%;
    --stop2: 65%;
  }

  .bg-halftone::before {
    content: '';
    position: absolute;
    inset: 0;

    background-color: transparent;
    background-image: radial-gradient(
        circle at center,
        transparent var(--stop1),
        var(--halftone) var(--stop2)
      ),
      radial-gradient(circle at center, transparent var(--stop1), var(--halftone) var(--stop2));
    background-position:
      0 0,
      var(--bg-position) var(--bg-position);
    background-repeat: round;
    background-size: var(--bg-size) var(--bg-size);
    backdrop-filter: blur(3px);
    mask: linear-gradient(rgb(0, 0, 0) 40%, rgba(0, 0, 0, 0) 100%);
  }
}

@keyframes sparkle {
  0% {
    transform: scale(0) rotate(0deg);
  }
  50% {
    transform: scale(1) rotate(90deg);
  }
  100% {
    transform: scale(0) rotate(180deg);
  }
}

@utility animate-sparkle {
  animation: var(--animate-sparkle);
}


================================================
FILE: src/styles/twoslash.css
================================================
/* ===== Basic ===== */
:root {
  --twoslash-border-color: #8888;
  --twoslash-underline-color: currentColor;
  --twoslash-highlighted-border: #c37d0d50;
  --twoslash-highlighted-bg: #c37d0d20;
  --twoslash-popup-bg: #f8f8f8;
  --twoslash-popup-color: inherit;
  --twoslash-popup-shadow: rgba(0, 0, 0, 0.08) 0px 1px 4px;
  --twoslash-docs-color: #888;
  --twoslash-docs-font: sans-serif;
  --twoslash-code-font: inherit;
  --twoslash-code-font-size: 1em;
  --twoslash-matched-color: inherit;
  --twoslash-unmatched-color: #888;
  --twoslash-cursor-color: #8888;
  --twoslash-error-color: #d45656;
  --twoslash-error-bg: #d4565620;
  --twoslash-warn-color: #c37d0d;
  --twoslash-warn-bg: #c37d0d20;
  --twoslash-tag-color: #3772cf;
  --twoslash-tag-bg: #3772cf20;
  --twoslash-tag-warn-color: var(--twoslash-warn-color);
  --twoslash-tag-warn-bg: var(--twoslash-warn-bg);
  --twoslash-tag-annotate-color: #1ba673;
  --twoslash-tag-annotate-bg: #1ba67320;
}

.dark {
  --twoslash-border-color: #8888;
  --twoslash-underline-color: currentColor;
  --twoslash-highlighted-border: #c37d0d50;
  --twoslash-highlighted-bg: #c37d0d20;
  --twoslash-popup-bg: #1a1a1a;
  --twoslash-popup-color: inherit;
  --twoslash-popup-shadow: rgba(0, 0, 0, 0.08) 0px 1px 4px;
  --twoslash-docs-color: #888;
  --twoslash-docs-font: sans-serif;
  --twoslash-code-font: inherit;
  --twoslash-code-font-size: 1em;
  --twoslash-matched-color: inherit;
  --twoslash-unmatched-color: #888;
  --twoslash-cursor-color: #8888;
  --twoslash-error-color: #d45656;
  --twoslash-error-bg: #d4565620;
  --twoslash-warn-color: #c37d0d;
  --twoslash-warn-bg: #c37d0d20;
  --twoslash-tag-color: #3772cf;
  --twoslash-tag-bg: #3772cf20;
  --twoslash-tag-warn-color: var(--twoslash-warn-color);
  --twoslash-tag-warn-bg: var(--twoslash-warn-bg);
  --twoslash-tag-annotate-color: #1ba673;
  --twoslash-tag-annotate-bg: #1ba67320;
}

/* Respect people's wishes to not have animations */
@media (prefers-reduced-motion: reduce) {
  .twoslash * {
    transition: none !important;
  }
}

/* ===== Hover Info ===== */
.twoslash:hover .twoslash-hover {
  border-color: var(--twoslash-underline-color);
}

.twoslash .twoslash-hover {
  border-bottom: 1px dotted transparent;
  transition-timing-function: ease;
  transition: border-color 0.3s;
  position: relative;
}

.twoslash .twoslash-popup-container {
  position: fixed;
  opacity: 0;
  display: inline-flex;
  flex-direction: column;
  transform: translateY(1.1em);
  background: var(--twoslash-popup-bg);
  color: var(--twoslash-popup-color);
  border: 1px solid var(--twoslash-border-color);
  transition: opacity 0.3s;
  border-radius: 4px;
  pointer-events: none;
  z-index: 10;
  user-select: none;
  text-align: left;
  box-shadow: var(--twoslash-popup-shadow);
}

.twoslash .twoslash-query-presisted .twoslash-popup-container {
  z-index: 9;
  transform: translateY(1.5em);
}

.twoslash .twoslash-hover:hover .twoslash-popup-container,
.twoslash .twoslash-error-hover:hover .twoslash-popup-container,
.twoslash .twoslash-query-presisted .twoslash-popup-container,
.twoslash .twoslash-query-line .twoslash-popup-container {
  opacity: 1;
  pointer-events: auto;
}

.twoslash .twoslash-popup-container:hover {
  user-select: auto;
}

.twoslash .twoslash-popup-arrow {
  position: absolute;
  top: -4px;
  left: 1em;
  border-top: 1px solid var(--twoslash-border-color);
  border-right: 1px solid var(--twoslash-border-color);
  background: var(--twoslash-popup-bg);
  transform: rotate(-45deg);
  width: 6px;
  height: 6px;
  pointer-events: none;
}

.twoslash .twoslash-popup-code,
.twoslash .twoslash-popup-error,
.twoslash .twoslash-popup-docs {
  padding: 6px 8px !important;
}

.twoslash .twoslash-popup-code {
  font-family: var(--twoslash-code-font);
  font-size: var(--twoslash-code-font-size);
}

.twoslash .twoslash-popup-docs {
  color: var(--twoslash-docs-color);
  font-family: var(--twoslash-docs-font);
  font-size: 0.8em;
  border-top: 1px solid var(--twoslash-border-color);
}

.twoslash .twoslash-popup-error {
  color: var(--twoslash-error-color);
  background-color: var(--twoslash-error-bg);
  font-family: var(--twoslash-docs-font);
  font-size: 0.8em;
}

.twoslash .twoslash-popup-docs-tags {
  display: flex;
  flex-direction: column;
  font-family: var(--twoslash-docs-font);
}

.twoslash .twoslash-popup-docs-tags,
.twoslash .twoslash-popup-docs-tag-name {
  margin-right: 0.5em;
}

.twoslash .twoslash-popup-docs-tag-name {
  font-family: var(--twoslash-code-font);
}

/* ===== Query Line ===== */
.twoslash .twoslash-query-line .twoslash-popup-container {
  position: relative;
  margin-bottom: 1.4em;
  transform: translateY(0.6em);
}

/* ===== Error Line ===== */
.twoslash .twoslash-error-line {
  position: relative;
  background-color: var(--twoslash-error-bg);
  border-left: 3px solid var(--twoslash-error-color);
  color: var(--twoslash-error-color);
  padding: 6px 12px;
  margin: 0.2em 0;
  min-width: 100%;
  width: max-content;
}

.twoslash .twoslash-error-line.twoslash-error-level-warning {
  background-color: var(--twoslash-warn-bg);
  border-left: 3px solid var(--twoslash-warn-color);
  color: var(--twoslash-warn-color);
}

.twoslash .twoslash-error {
  background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23c94824'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E")
    repeat-x bottom left;
  padding-bottom: 2px;
}

.twoslash .twoslash-error.twoslash-error-level-warning {
  background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23c37d0d'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E")
    repeat-x bottom left;
  padding-bottom: 2px;
}

/* ===== Completeions ===== */
.twoslash .twoslash-completion-cursor {
  position: relative;
}

.twoslash .twoslash-completion-cursor .twoslash-completion-list {
  user-select: none;
  position: absolute;
  top: 0;
  left: 0;
  transform: translate(0, 1.2em);
  margin: 3px 0 0 -1px;
  display: inline-block;
  z-index: 8;
  box-shadow: var(--twoslash-popup-shadow);
  background: var(--twoslash-popup-bg);
  border: 1px solid var(--twoslash-border-color);
}

.twoslash-completion-list {
  width: 240px;
  font-size: 0.8rem;
  padding: 4px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.twoslash-completion-list:hover {
  user-select: auto;
}

.twoslash-completion-list::before {
  background-color: var(--twoslash-cursor-color);
  width: 2px;
  position: absolute;
  top: -1.6em;
  height: 1.4em;
  left: -1px;
  content: ' ';
}

.twoslash-completion-list li {
  overflow: hidden;
  display: flex;
  align-items: center;
  gap: 0.25em;
  line-height: 1em;
}

.twoslash-completion-list li span.twoslash-completions-unmatched {
  color: var(--twoslash-unmatched-color);
}

.twoslash-completion-list .deprecated {
  text-decoration: line-through;
  opacity: 0.5;
}

.twoslash-completion-list li span.twoslash-completions-matched {
  color: var(--twoslash-matched-color);
}

/* Highlights */
.twoslash-highlighted {
  background-color: var(--twoslash-highlighted-bg);
  border: 1px solid var(--twoslash-highlighted-border);
  padding: 1px 2px;
  margin: -1px -3px;
  border-radius: 4px;
}

/* Icons */
.twoslash-completion-list .twoslash-completions-icon {
  color: var(--twoslash-unmatched-color);
  width: 1em;
  flex: none;
}

/* Custom Tags */
.twoslash .twoslash-tag-line {
  position: relative;
  background-color: var(--twoslash-tag-bg);
  border-left: 3px solid var(--twoslash-tag-color);
  color: var(--twoslash-tag-color);
  padding: 6px 10px;
  margin: 0.2em 0;
  display: flex;
  align-items: center;
  gap: 0.3em;
  min-width: 100%;
  width: max-content;
}

.twoslash .twoslash-tag-line .twoslash-tag-icon {
  width: 1.1em;
  color: inherit;
}

.twoslash .twoslash-tag-line.twoslash-tag-error-line {
  background-color: var(--twoslash-error-bg);
  border-left: 3px solid var(--twoslash-error-color);
  color: var(--twoslash-error-color);
}

.twoslash .twoslash-tag-line.twoslash-tag-warn-line {
  background-color: var(--twoslash-tag-warn-bg);
  border-left: 3px solid var(--twoslash-tag-warn-color);
  color: var(--twoslash-tag-warn-color);
}

.twoslash .twoslash-tag-line.twoslash-tag-annotate-line {
  background-color: var(--twoslash-tag-annotate-bg);
  border-left: 3px solid var(--twoslash-tag-annotate-color);
  color: var(--twoslash-tag-annotate-color);
}

pre * code {
  overflow-x: visible !important;
}

pre {
  overflow-x: auto;
}


